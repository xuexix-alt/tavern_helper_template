{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/webpack/runtime/compat get default export","src://tavern_helper_template/webpack/runtime/define property getters","src://tavern_helper_template/webpack/runtime/hasOwnProperty shorthand","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/external var \"_\"","src://tavern_helper_template/external var \"z\"","src://tavern_helper_template/src/寒冬末日/schema.ts","src://tavern_helper_template/src/寒冬末日/界面/store.ts","src://tavern_helper_template/src/寒冬末日/界面/状态栏/components/CharactersSection.vue","webpack://tavern_helper_template/src/寒冬末日/界面/状态栏/components/CharactersSection.vue?4e82","src://tavern_helper_template/src/寒冬末日/界面/状态栏/components/ChoicesSection.vue","webpack://tavern_helper_template/src/寒冬末日/界面/状态栏/components/ChoicesSection.vue?73fb","webpack://tavern_helper_template/./src/寒冬末日/界面/状态栏/components/MissionSection.vue?e8cf","webpack://tavern_helper_template/src/寒冬末日/界面/状态栏/components/MissionSection.vue?7fa0","src://tavern_helper_template/src/寒冬末日/界面/状态栏/components/OtherResidentsSection.vue","webpack://tavern_helper_template/src/寒冬末日/界面/状态栏/components/OtherResidentsSection.vue?8e5a","src://tavern_helper_template/src/寒冬末日/界面/状态栏/components/ShelterSection.vue","webpack://tavern_helper_template/src/寒冬末日/界面/状态栏/components/ShelterSection.vue?6c75","webpack://tavern_helper_template/./src/寒冬末日/界面/状态栏/components/StorySection.vue?0a8a","webpack://tavern_helper_template/src/寒冬末日/界面/状态栏/components/StorySection.vue?ca79","src://tavern_helper_template/src/寒冬末日/界面/状态栏/components/WorldSection.vue","webpack://tavern_helper_template/src/寒冬末日/界面/状态栏/components/WorldSection.vue?5ba1","src://tavern_helper_template/src/寒冬末日/界面/状态栏/useInjectedData.ts","src://tavern_helper_template/src/寒冬末日/界面/状态栏/App.vue","webpack://tavern_helper_template/src/寒冬末日/界面/状态栏/App.vue?9b4e","src://tavern_helper_template/src/寒冬末日/界面/状态栏/index.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","const __WEBPACK_NAMESPACE_OBJECT__ = _;","const __WEBPACK_NAMESPACE_OBJECT__ = z;","import { z } from 'zod';\n\n// ---------------------\n// 1. 通用定义\n// ---------------------\n\n// 角色通用 Schema\nconst CharacterSchema = z\n  .object({\n    姓名: z.string().prefault(''),\n\n    // 关系系统\n    关系: z.enum(['拒绝', '交易', '顺从', '忠诚', '性奴']).optional(),\n    关系倾向: z.enum(['拒绝', '交易', '顺从', '忠诚', '性奴']).optional(),\n\n    // 健康系统\n    健康: z.coerce\n      .number()\n      .min(0)\n      .max(100)\n      .prefault(100)\n      .describe('范围0-100。记录健康数值。获得食物/温暖增加；受伤/饥饿/寒冷减少。'),\n    健康更新原因: z.string().prefault('').describe('记录健康值变化的原因和数值，格式：+/-X, 原因描述'),\n    健康状况: z\n      .enum(['健康', '亚健康', '生病/受伤', '重病/濒死', '无', '死亡'])\n      .prefault('健康')\n      .describe('>=80:健康; 60-79:亚健康; 30-59:生病/受伤; <30:重病/濒死'),\n\n    // 外貌与状态 (纯文本描述)\n    衣着: z.string().prefault('').describe('详细描述当前的衣着状态'),\n    舌唇: z.string().prefault('').describe('口腔、嘴唇的状态'),\n    胸乳: z.string().prefault('').describe('胸部的状态'),\n    私穴: z.string().prefault('').describe('私处的详细状态'),\n    神态样貌: z.string().prefault('').describe('面部表情和神态'),\n    动作姿势: z.string().prefault('').describe('身体姿态和动作'),\n\n    // 心理\n    内心想法: z.string().prefault('').describe('第一人称内心独白'),\n\n    // 系统控制\n    登场状态: z.enum(['登场', '离场']).prefault('离场').describe('值为\"登场\"时显示在UI。角色不出现时设为\"离场\"'),\n  })\n  .prefault({\n    姓名: '',\n    健康: 100,\n    健康更新原因: '',\n    健康状况: '健康',\n    衣着: '',\n    舌唇: '',\n    胸乳: '',\n    私穴: '',\n    神态样貌: '',\n    动作姿势: '',\n    内心想法: '',\n    登场状态: '离场',\n  });\n\n// 2. 世界环境\nconst WorldSchema = z\n  .object({\n    地址: z.string().prefault('').describe('当前所在的物理位置'),\n    日期: z.string().prefault('').describe('格式：末日纪元，XXXX年XX月XX日'),\n    时间: z.string().prefault('').describe('格式：时间段 - HH:MM'),\n    末日天数: z.coerce.number().prefault(0).describe('自\"永恒暴雪\"降临以来的总天数'),\n  })\n  .prefault({\n    地址: '',\n    日期: '',\n    时间: '',\n    末日天数: 0,\n  });\n\n// 3. 庇护所\nconst ShelterSchema = z\n  .object({\n    庇护所等级: z.coerce.number().max(10).prefault(1),\n    今日投掷点数: z.string().prefault('').describe('记录每日升级判定结果'),\n    距离上次升级: z.string().prefault('').describe('记录保底进度'),\n    庇护所能力: z\n      .array(\n        z.object({\n          name: z.string(),\n          desc: z.string(),\n        }),\n      )\n      .prefault([])\n      .describe('已激活的庇护所能力列表。请严格参照世界书条目<庇护所升级能力>添加新能力。'),\n    可扩展区域: z\n      .object({\n        医疗翼: z.string().prefault('未解锁').describe('等级3解锁'),\n        制造工坊: z.string().prefault('未解锁').describe('等级4解锁'),\n        载具格纳库: z.string().prefault('未解锁').describe('等级7解锁'),\n      })\n      .prefault({\n        医疗翼: '未解锁',\n        制造工坊: '未解锁',\n        载具格纳库: '未解锁',\n      })\n      .describe('记录庇护所可扩展区域的解锁状态'),\n  })\n  .prefault({\n    庇护所等级: 1,\n    今日投掷点数: '',\n    距离上次升级: '',\n    庇护所能力: [],\n    可扩展区域: {\n      医疗翼: '未解锁',\n      制造工坊: '未解锁',\n      载具格纳库: '未解锁',\n    },\n  });\n\n// 3.1 房间系统\nconst RoomSchema = z\n  .object({\n    玄关: z\n      .object({\n        临时客房A入住者: z.array(z.string()).prefault([]).describe('临时客房A入住者姓名列表'),\n        临时客房B入住者: z.array(z.string()).prefault([]).describe('临时客房B入住者姓名列表'),\n      })\n      .prefault({\n        临时客房A入住者: [],\n        临时客房B入住者: [],\n      })\n      .describe('玄关区域房间状态'),\n    核心区: z\n      .object({\n        主卧室使用者: z.array(z.string()).prefault([]).describe('主卧室使用者姓名列表'),\n        主浴室使用者: z.array(z.string()).prefault([]).describe('主浴室使用者姓名列表'),\n      })\n      .prefault({\n        主卧室使用者: [],\n        主浴室使用者: [],\n      })\n      .describe('核心区域房间状态'),\n    楼层房间: z\n      .object({\n        楼层20房间: z\n          .record(z.string(), z.object({ 入住者: z.array(z.string()) }).prefault({ 入住者: [] }))\n          .prefault({})\n          .describe('20层各房间状态，key为房间号'),\n        楼层19房间: z\n          .record(z.string(), z.object({ 入住者: z.array(z.string()) }).prefault({ 入住者: [] }))\n          .prefault({})\n          .describe('19层各房间状态，key为房间号'),\n      })\n      .prefault({\n        楼层20房间: {},\n        楼层19房间: {},\n      })\n      .describe('楼层房间状态'),\n  })\n  .prefault({\n    玄关: {\n      临时客房A入住者: [],\n      临时客房B入住者: [],\n    },\n    核心区: {\n      主卧室使用者: [],\n      主浴室使用者: [],\n    },\n    楼层房间: {\n      楼层20房间: {},\n      楼层19房间: {},\n    },\n  });\n\n// 4. 其他住户\nconst NeighborsSchema = z\n  .object({\n    言语: z.string().prefault('').describe('其他幸存者的总体言语状态'),\n    行为: z.string().prefault('').describe('其他幸存者的总体行为状态'),\n  })\n  .prefault({\n    言语: '',\n    行为: '',\n  });\n\n// 5. 主 Schema\n// ---------------------\nconst MissionSchema = z\n  .object({\n    当前阶段: z.string().prefault('阶段一：秩序的萌芽').describe('主线任务的当前阶段名称'),\n    阶段目标: z\n      .array(z.string())\n      .prefault(['肃清20、19、21层的敌对幸存者', '庇护至少3个核心女性角色或家庭', '完成一个公寓内部的情报碎片任务'])\n      .describe('当前阶段需要达成的目标列表'),\n    目标完成状态: z\n      .record(z.string(), z.boolean())\n      .prefault({\n        '0': false,\n        '1': false,\n        '2': false,\n      })\n      .describe('目标完成状态，key为索引字符串（0/1/2...），value为true表示完成'),\n    情报碎片: z\n      .record(\n        z.string(),\n        z\n          .object({\n            编号: z.string().prefault(''),\n            描述: z.string().prefault(''),\n            价值: z.string().prefault(''),\n            风险: z.string().prefault(''),\n            状态: z.enum(['未探索', '已探索', '已完成']).prefault('未探索'),\n          })\n          .prefault({\n            编号: '',\n            描述: '',\n            价值: '',\n            风险: '',\n            状态: '未探索',\n          }),\n      )\n      .prefault({})\n      .describe('已解锁的情报碎片'),\n  })\n  .prefault({\n    当前阶段: '阶段一：秩序的萌芽',\n    阶段目标: ['肃清20、19、21层的敌对幸存者', '庇护至少3个核心女性角色或家庭', '完成一个公寓内部的情报碎片任务'],\n    目标完成状态: {\n      '0': false,\n      '1': false,\n      '2': false,\n    },\n    情报碎片: {},\n  });\n\nexport const Schema = z.object({\n  世界: WorldSchema,\n  庇护所: ShelterSchema,\n  房间: RoomSchema,\n  主线任务: MissionSchema,\n\n  // 主要角色\n  浅见亚美: CharacterSchema,\n  相田哲也: CharacterSchema,\n  星野琉璃: CharacterSchema,\n  早川遥: CharacterSchema,\n  早川舞: CharacterSchema,\n  藤井雪乃: CharacterSchema,\n  中村惠子: CharacterSchema,\n  爱宫心爱: CharacterSchema,\n  爱宫铃: CharacterSchema,\n  '桃乐丝・泽巴哈': CharacterSchema,\n  何铃: CharacterSchema,\n  王静: CharacterSchema,\n  康绮月: CharacterSchema,\n  薛萍: CharacterSchema,\n  小泽花: CharacterSchema,\n\n  // 动态 NPC (Optional)\n  临时NPC: CharacterSchema.optional().describe('当有临时NPC登场时使用，离场时设为undefined或重置'),\n\n  楼层其他住户: NeighborsSchema,\n});\n\nexport type Schema = z.output<typeof Schema>;\n","import { Schema } from '../schema';\n// 完整的初始默认值 - 使用 Schema.parse({}) 会自动应用所有 prefault\nconst initialData = Schema.parse({\n    世界: {\n        地址: '',\n        日期: '',\n        时间: '',\n        末日天数: 0,\n    },\n    庇护所: {\n        庇护所等级: 1,\n        今日投掷点数: '',\n        距离上次升级: '',\n        庇护所能力: [],\n        可扩展区域: {\n            医疗翼: '未解锁',\n            制造工坊: '未解锁',\n            载具格纳库: '未解锁',\n        },\n    },\n    房间: {\n        玄关: {\n            临时客房A入住者: [],\n            临时客房B入住者: [],\n        },\n        核心区: {\n            主卧室使用者: [],\n            主浴室使用者: [],\n        },\n        楼层房间: {\n            楼层20房间: {},\n            楼层19房间: {},\n        },\n    },\n    主线任务: {\n        当前阶段: '阶段一：秩序的萌芽',\n        阶段目标: [],\n        目标完成状态: {},\n        情报碎片: {},\n    },\n});\nexport const useDataStore = defineStore('data', errorCatched(() => {\n    const message_id = getCurrentMessageId();\n    // 使用完整初始值，而不是空对象\n    const data = ref(initialData);\n    const read_stat_data = () => {\n        const mvu_data = Mvu.getMvuData({ type: 'message', message_id });\n        return Schema.parse(_.get(mvu_data, 'stat_data', {}));\n    };\n    const refresh_from_mvu = () => {\n        try {\n            const next = read_stat_data();\n            if (!_.isEqual(next, data.value))\n                data.value = next;\n        }\n        catch {\n            // ignore\n        }\n    };\n    // 等待 MVU 初始化后读取数据并注册事件\n    (async () => {\n        await waitGlobalInitialized('Mvu');\n        refresh_from_mvu();\n        eventOn(Mvu.events.VARIABLE_UPDATE_ENDED, refresh_from_mvu);\n        eventOn(Mvu.events.VARIABLE_INITIALIZED, refresh_from_mvu);\n    })();\n    watchDebounced(data, new_data => {\n        const parsed = Schema.parse(new_data);\n        if (!_.isEqual(parsed, new_data)) {\n            data.value = parsed;\n        }\n        updateVariablesWith(variables => {\n            _.set(variables, 'stat_data', parsed);\n            return variables;\n        }, { type: 'message', message_id });\n    }, { deep: true, debounce: 500 });\n    return { data };\n}));\n","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, vShow as _vShow, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n    id: \"characters-section\",\n    class: \"section\"\n};\nconst _hoisted_2 = { class: \"status-tabs-container\" };\nconst _hoisted_3 = { class: \"tab-buttons\" };\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = { class: \"status-grid\" };\nconst _hoisted_6 = { class: \"status-item health-section\" };\nconst _hoisted_7 = { class: \"health-section-header\" };\nconst _hoisted_8 = { class: \"value\" };\nconst _hoisted_9 = { class: \"health-status-subtext\" };\nconst _hoisted_10 = { class: \"progress-bar-container\" };\nconst _hoisted_11 = { class: \"value-subtext\" };\nconst _hoisted_12 = { class: \"details-grid\" };\nconst _hoisted_13 = { class: \"status-item\" };\nconst _hoisted_14 = { class: \"value\" };\nconst _hoisted_15 = { class: \"status-item\" };\nconst _hoisted_16 = { class: \"value\" };\nconst _hoisted_17 = { class: \"status-item\" };\nconst _hoisted_18 = { class: \"value\" };\nconst _hoisted_19 = { class: \"status-item\" };\nconst _hoisted_20 = { class: \"value\" };\nconst _hoisted_21 = { class: \"status-item\" };\nconst _hoisted_22 = { class: \"value\" };\nconst _hoisted_23 = { class: \"status-item\" };\nconst _hoisted_24 = { class: \"value\" };\nconst _hoisted_25 = { class: \"status-item\" };\nconst _hoisted_26 = { class: \"value thought-text\" };\nconst _hoisted_27 = {\n    key: 1,\n    class: \"content-text\"\n};\nimport _ from 'lodash';\nimport { useDataStore } from '../../store';\n\nimport { computed, ref, watch } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'CharactersSection',\n    setup(__props) {\n        const CHARACTER_ORDER = [\n            '浅见亚美',\n            '相田哲也',\n            '星野琉璃',\n            '早川遥',\n            '早川舞',\n            '藤井雪乃',\n            '中村惠子',\n            '爱宫心爱',\n            '爱宫铃',\n            '桃乐丝・泽巴哈',\n            '何铃',\n            '王静',\n            '康绮月',\n            '薛萍',\n            '小泽花',\n        ];\n        const store = useDataStore();\n        const active_character_keys = computed(() => {\n            const keys = [];\n            // 1. 先添加预设角色（按固定顺序）\n            CHARACTER_ORDER.forEach(key => {\n                const char = store.data[key];\n                if (char?.登场状态 === '登场')\n                    keys.push(key);\n            });\n            // 2. 再添加动态角色（不在预设列表中的角色）\n            const dynamicKeys = [];\n            Object.keys(store.data).forEach(key => {\n                if (key !== '世界' &&\n                    key !== '庇护所' &&\n                    key !== '楼层其他住户' &&\n                    !CHARACTER_ORDER.includes(key) &&\n                    key !== '临时NPC') {\n                    const char = store.data[key];\n                    if (char?.登场状态 === '登场') {\n                        dynamicKeys.push(key);\n                    }\n                }\n            });\n            return [...keys, ...dynamicKeys];\n        });\n        const active_character_key = ref(null);\n        watch(active_character_keys, keys => {\n            if (keys.length === 0) {\n                active_character_key.value = null;\n                return;\n            }\n            if (!active_character_key.value || !keys.includes(active_character_key.value)) {\n                active_character_key.value = keys[0];\n            }\n        }, { immediate: true });\n        function getCharacter(key) {\n            if (key === '临时NPC')\n                return store.data.临时NPC;\n            return store.data[key];\n        }\n        function getCharacterDisplayName(key) {\n            const char = getCharacter(key);\n            return char?.姓名 ?? key;\n        }\n        function setActiveCharacter(key) {\n            active_character_key.value = key;\n        }\n        function healthPercent(key) {\n            const health = getCharacter(key)?.健康;\n            if (typeof health !== 'number')\n                return 0;\n            return _.clamp(health, 0, 100);\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n                _cache[8] || (_cache[8] = _createElementVNode(\"h2\", { class: \"section-title\" }, \"👤 登场角色 👤\", -1 /* CACHED */)),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    (_unref(active_character_keys).length > 0)\n                        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                            _createElementVNode(\"div\", _hoisted_3, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(active_character_keys), (key) => {\n                                    return (_openBlock(), _createElementBlock(\"button\", {\n                                        key: key,\n                                        class: _normalizeClass([\"tab-button\", { active: _unref(active_character_key) === key }]),\n                                        type: \"button\",\n                                        onClick: ($event) => (setActiveCharacter(key))\n                                    }, _toDisplayString(getCharacterDisplayName(key)), 11 /* TEXT, CLASS, PROPS */, _hoisted_4));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ]),\n                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(active_character_keys), (key) => {\n                                return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n                                    key: `${key}:tab`,\n                                    class: _normalizeClass([\"tab-content\", { active: _unref(active_character_key) === key }])\n                                }, [\n                                    _createElementVNode(\"div\", _hoisted_5, [\n                                        _createElementVNode(\"div\", _hoisted_6, [\n                                            _createElementVNode(\"div\", _hoisted_7, [\n                                                _cache[0] || (_cache[0] = _createElementVNode(\"div\", { class: \"label\" }, \"❤️ 健康\", -1 /* CACHED */)),\n                                                _createElementVNode(\"div\", _hoisted_8, _toDisplayString(getCharacter(key)?.健康 ?? '--'), 1 /* TEXT */)\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_9, _toDisplayString(getCharacter(key)?.健康状况 ?? '--'), 1 /* TEXT */),\n                                            _createElementVNode(\"div\", _hoisted_10, [\n                                                _createElementVNode(\"div\", {\n                                                    class: \"progress-bar-value\",\n                                                    style: _normalizeStyle({ width: `${healthPercent(key)}%` })\n                                                }, null, 4 /* STYLE */)\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_11, _toDisplayString(getCharacter(key)?.健康更新原因 ?? '--'), 1 /* TEXT */)\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_12, [\n                                            _createElementVNode(\"div\", _hoisted_13, [\n                                                _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"label\" }, \"👚 衣着\", -1 /* CACHED */)),\n                                                _createElementVNode(\"div\", _hoisted_14, _toDisplayString(getCharacter(key)?.衣着 ?? '--'), 1 /* TEXT */)\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_15, [\n                                                _cache[2] || (_cache[2] = _createElementVNode(\"div\", { class: \"label\" }, \"👅 舌唇\", -1 /* CACHED */)),\n                                                _createElementVNode(\"div\", _hoisted_16, _toDisplayString(getCharacter(key)?.舌唇 ?? '--'), 1 /* TEXT */)\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_17, [\n                                                _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"label\" }, \"🍈 胸乳\", -1 /* CACHED */)),\n                                                _createElementVNode(\"div\", _hoisted_18, _toDisplayString(getCharacter(key)?.胸乳 ?? '--'), 1 /* TEXT */)\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_19, [\n                                                _cache[4] || (_cache[4] = _createElementVNode(\"div\", { class: \"label\" }, \"🌸 私穴\", -1 /* CACHED */)),\n                                                _createElementVNode(\"div\", _hoisted_20, _toDisplayString(getCharacter(key)?.私穴 ?? '--'), 1 /* TEXT */)\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_21, [\n                                                _cache[5] || (_cache[5] = _createElementVNode(\"div\", { class: \"label\" }, \"😊 神态样貌\", -1 /* CACHED */)),\n                                                _createElementVNode(\"div\", _hoisted_22, _toDisplayString(getCharacter(key)?.神态样貌 ?? '--'), 1 /* TEXT */)\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_23, [\n                                                _cache[6] || (_cache[6] = _createElementVNode(\"div\", { class: \"label\" }, \"💃 动作姿势\", -1 /* CACHED */)),\n                                                _createElementVNode(\"div\", _hoisted_24, _toDisplayString(getCharacter(key)?.动作姿势 ?? '--'), 1 /* TEXT */)\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_25, [\n                                            _cache[7] || (_cache[7] = _createElementVNode(\"div\", { class: \"label\" }, \"💭 内心想法\", -1 /* CACHED */)),\n                                            _createElementVNode(\"div\", _hoisted_26, _toDisplayString(getCharacter(key)?.内心想法 ?? '--'), 1 /* TEXT */)\n                                        ])\n                                    ])\n                                ], 2 /* CLASS */)), [\n                                    [_vShow, _unref(active_character_key) === key]\n                                ]);\n                            }), 128 /* KEYED_FRAGMENT */))\n                        ], 64 /* STABLE_FRAGMENT */))\n                        : (_openBlock(), _createElementBlock(\"div\", _hoisted_27, \"暂无登场角色\"))\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./CharactersSection.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CharactersSection.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { withModifiers as _withModifiers, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, unref as _unref, isRef as _isRef, vModelSelect as _vModelSelect, withDirectives as _withDirectives, normalizeClass as _normalizeClass, createStaticVNode as _createStaticVNode } from \"vue\";\n\nimport { ref, watch, onMounted, onBeforeUnmount } from 'vue';\nimport { useLocalStorage } from '@vueuse/core';\nconst _hoisted_1 = { class: \"section\" };\nconst _hoisted_2 = [\"onClick\"];\nconst _hoisted_3 = {\n    key: 1,\n    class: \"choice-item\",\n    type: \"button\",\n    disabled: \"\"\n};\nconst _hoisted_4 = { class: \"palette-option\" };\nconst _hoisted_5 = { class: \"palette-option\" };\nconst _hoisted_6 = { class: \"palette-option\" };\nconst _hoisted_7 = { class: \"palette-buttons\" };\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'ChoicesSection',\n    props: {\n        options: {}\n    },\n    setup(__props) {\n        const props = __props;\n        const palette_open = ref(false);\n        const theme = useLocalStorage('eden_theme', 'apocalypse_tech');\n        const font_key = useLocalStorage('eden_font_key', 'yahei');\n        const font_size = useLocalStorage('eden_font_size_key', '16');\n        const palette_button = ref(null);\n        const palette_modal = ref(null);\n        function togglePalette() {\n            palette_open.value = !palette_open.value;\n        }\n        watch(theme, value => {\n            if (value === 'apocalypse_tech') {\n                delete document.documentElement.dataset.theme;\n                return;\n            }\n            document.documentElement.dataset.theme = value;\n        }, { immediate: true });\n        watch(font_key, value => {\n            const main = document.getElementById('eden-main-container');\n            if (!main)\n                return;\n            const fontMap = {\n                yahei: '\"Microsoft YaHei\", sans-serif',\n                simsun: 'SimSun, serif',\n                kaiti: 'KaiTi, serif',\n            };\n            main.style.fontFamily = fontMap[value] || fontMap.yahei;\n        }, { immediate: true });\n        watch(font_size, value => {\n            const main = document.getElementById('eden-main-container');\n            if (!main)\n                return;\n            main.style.setProperty('--font-size-main', `${value}px`);\n        }, { immediate: true });\n        function handleChoiceClick(text) {\n            const trigger = window.triggerSlash;\n            if (typeof trigger === 'function') {\n                try {\n                    trigger(`/send ${text} | /trigger await=true`);\n                    return;\n                }\n                catch {\n                    alert(`指令发送失败: ${text}`);\n                    return;\n                }\n            }\n            alert(`无法自动发送: ${text}`);\n        }\n        function onDocumentClick(ev) {\n            if (!palette_open.value)\n                return;\n            const target = ev.target;\n            if (!target)\n                return;\n            if (palette_modal.value?.contains(target))\n                return;\n            if (palette_button.value?.contains(target))\n                return;\n            palette_open.value = false;\n        }\n        onMounted(() => {\n            document.addEventListener('click', onDocumentClick);\n        });\n        onBeforeUnmount(() => {\n            document.removeEventListener('click', onDocumentClick);\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n                _createElementVNode(\"button\", {\n                    ref_key: \"palette_button\",\n                    ref: palette_button,\n                    class: \"palette-button\",\n                    type: \"button\",\n                    onClick: _withModifiers(togglePalette, [\"stop\"])\n                }, \"🎨\", 512 /* NEED_PATCH */),\n                _cache[11] || (_cache[11] = _createElementVNode(\"h2\", { class: \"section-title choices-title\" }, \"⚜️ 快速剧情 ⚜️\", -1 /* CACHED */)),\n                _createElementVNode(\"div\", null, [\n                    (props.options.length > 0)\n                        ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(props.options, (opt, idx) => {\n                            return (_openBlock(), _createElementBlock(\"button\", {\n                                key: idx,\n                                class: \"choice-item\",\n                                type: \"button\",\n                                onClick: ($event) => (handleChoiceClick(opt))\n                            }, _toDisplayString(opt), 9 /* TEXT, PROPS */, _hoisted_2));\n                        }), 128 /* KEYED_FRAGMENT */))\n                        : (_openBlock(), _createElementBlock(\"button\", _hoisted_3, \"当前无选项，请自由行动...\"))\n                ]),\n                _createElementVNode(\"div\", {\n                    ref_key: \"palette_modal\",\n                    ref: palette_modal,\n                    class: _normalizeClass([\"palette-modal\", { show: _unref(palette_open) }])\n                }, [\n                    _cache[10] || (_cache[10] = _createElementVNode(\"h3\", null, \"显示设置\", -1 /* CACHED */)),\n                    _createElementVNode(\"div\", _hoisted_4, [\n                        _cache[5] || (_cache[5] = _createElementVNode(\"label\", null, \"🎨 主题\", -1 /* CACHED */)),\n                        _withDirectives(_createElementVNode(\"select\", {\n                            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => (_isRef(theme) ? (theme).value = $event : null))\n                        }, [...(_cache[4] || (_cache[4] = [\n                                _createElementVNode(\"option\", { value: \"apocalypse_tech\" }, \"末日科技 (默认)\", -1 /* CACHED */),\n                                _createElementVNode(\"option\", { value: \"jade_green\" }, \"淡翡翠绿\", -1 /* CACHED */),\n                                _createElementVNode(\"option\", { value: \"parchment\" }, \"复古羊皮纸\", -1 /* CACHED */),\n                                _createElementVNode(\"option\", { value: \"milky\" }, \"清新奶白\", -1 /* CACHED */)\n                            ]))], 512 /* NEED_PATCH */), [\n                            [_vModelSelect, _unref(theme)]\n                        ])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_5, [\n                        _cache[7] || (_cache[7] = _createElementVNode(\"label\", null, \"🖋️ 字体\", -1 /* CACHED */)),\n                        _withDirectives(_createElementVNode(\"select\", {\n                            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => (_isRef(font_key) ? (font_key).value = $event : null))\n                        }, [...(_cache[6] || (_cache[6] = [\n                                _createElementVNode(\"option\", { value: \"yahei\" }, \"微软雅黑 (默认)\", -1 /* CACHED */),\n                                _createElementVNode(\"option\", { value: \"simsun\" }, \"宋体\", -1 /* CACHED */),\n                                _createElementVNode(\"option\", { value: \"kaiti\" }, \"楷体\", -1 /* CACHED */)\n                            ]))], 512 /* NEED_PATCH */), [\n                            [_vModelSelect, _unref(font_key)]\n                        ])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_6, [\n                        _cache[9] || (_cache[9] = _createElementVNode(\"label\", null, \"↔️ 字体大小\", -1 /* CACHED */)),\n                        _withDirectives(_createElementVNode(\"select\", {\n                            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => (_isRef(font_size) ? (font_size).value = $event : null))\n                        }, [...(_cache[8] || (_cache[8] = [\n                                _createStaticVNode(\"<option value=\\\"12\\\">12px (最小)</option><option value=\\\"14\\\">14px (较小)</option><option value=\\\"15\\\">15px (稍小)</option><option value=\\\"16\\\">16px (默认)</option><option value=\\\"18\\\">18px (稍大)</option><option value=\\\"20\\\">20px (较大)</option><option value=\\\"22\\\">22px (很大)</option><option value=\\\"24\\\">24px (最大)</option>\", 8)\n                            ]))], 512 /* NEED_PATCH */), [\n                            [_vModelSelect, _unref(font_size)]\n                        ])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_7, [\n                        _createElementVNode(\"button\", {\n                            class: \"palette-close\",\n                            type: \"button\",\n                            onClick: _cache[3] || (_cache[3] = ($event) => (palette_open.value = false))\n                        }, \"关闭\")\n                    ])\n                ], 2 /* CLASS */)\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./ChoicesSection.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ChoicesSection.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, unref as _unref, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, vShow as _vShow, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n    id: \"mission-section\",\n    class: \"section\"\n};\nconst _hoisted_2 = { class: \"mission-content\" };\nconst _hoisted_3 = { class: \"mission-phase\" };\nconst _hoisted_4 = { class: \"phase-name\" };\nconst _hoisted_5 = { class: \"goals-progress-bar\" };\nconst _hoisted_6 = { class: \"progress-header\" };\nconst _hoisted_7 = { class: \"progress-text\" };\nconst _hoisted_8 = { class: \"progress-track\" };\nconst _hoisted_9 = { class: \"mission-goals\" };\nconst _hoisted_10 = { class: \"toggle-icon\" };\nconst _hoisted_11 = { class: \"goals-count\" };\nconst _hoisted_12 = { class: \"goals-list\" };\nconst _hoisted_13 = { class: \"goal-checkbox\" };\nconst _hoisted_14 = {\n    key: 0,\n    viewBox: \"0 0 24 24\",\n    class: \"check-icon\"\n};\nconst _hoisted_15 = {\n    key: 1,\n    viewBox: \"0 0 24 24\",\n    class: \"check-icon empty\"\n};\nconst _hoisted_16 = { class: \"goal-content\" };\nconst _hoisted_17 = {\n    key: 0,\n    class: \"goal-status-tag\"\n};\nconst _hoisted_18 = {\n    key: 1,\n    class: \"goal-item empty\"\n};\nconst _hoisted_19 = { class: \"mission-intel\" };\nconst _hoisted_20 = { class: \"toggle-icon\" };\nconst _hoisted_21 = { class: \"intel-count\" };\nconst _hoisted_22 = { class: \"intel-list\" };\nconst _hoisted_23 = {\n    viewBox: \"0 0 36 36\",\n    class: \"progress-ring\"\n};\nconst _hoisted_24 = [\"stroke-dasharray\"];\nconst _hoisted_25 = { class: \"ring-icon\" };\nconst _hoisted_26 = { class: \"intel-content\" };\nconst _hoisted_27 = { class: \"intel-header\" };\nconst _hoisted_28 = { class: \"intel-id\" };\nconst _hoisted_29 = { class: \"intel-desc\" };\nconst _hoisted_30 = { class: \"intel-meta\" };\nconst _hoisted_31 = { class: \"intel-value\" };\nconst _hoisted_32 = { class: \"intel-risk\" };\nconst _hoisted_33 = {\n    key: 1,\n    class: \"intel-item empty\"\n};\nimport { ref, computed } from 'vue';\nimport { useDataStore } from '../../store';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'MissionSection',\n    setup(__props) {\n        const store = useDataStore();\n        const isGoalsExpanded = ref(false);\n        const isIntelExpanded = ref(false);\n        // 阶段目标完成状态存储\n        const completedGoals = computed(() => store.data.主线任务.阶段目标.filter((_, idx) => isGoalCompleted(idx)).length);\n        const progressPercent = computed(() => {\n            const total = store.data.主线任务.阶段目标.length;\n            if (total === 0)\n                return 0;\n            return Math.round((completedGoals.value / total) * 100);\n        });\n        // 从 store 读取目标完成状态\n        function isGoalCompleted(idx) {\n            const key = String(idx);\n            return store.data.主线任务.目标完成状态[key] === true;\n        }\n        // 情报碎片统计\n        const intelTotal = computed(() => Object.keys(store.data.主线任务.情报碎片).length);\n        const intelCompleted = computed(() => Object.values(store.data.主线任务.情报碎片).filter(i => i.状态 === '已完成').length);\n        function getStatusIcon(status) {\n            switch (status) {\n                case '已完成':\n                    return '✓';\n                case '已探索':\n                    return '◐';\n                case '未探索':\n                    return '○';\n                default:\n                    return '○';\n            }\n        }\n        function getRingProgress(status) {\n            let progress = 33;\n            switch (status) {\n                case '已完成':\n                    progress = 100;\n                    break;\n                case '已探索':\n                    progress = 66;\n                    break;\n                case '未探索':\n                    progress = 33;\n                    break;\n            }\n            const circumference = 2 * Math.PI * 16;\n            const offset = circumference - (progress / 100) * circumference;\n            return `${progress} ${circumference} ${offset}`;\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n                _cache[9] || (_cache[9] = _createElementVNode(\"h2\", { class: \"section-title\" }, \"📜 主线任务 📜\", -1 /* CACHED */)),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createCommentVNode(\" 当前阶段 \"),\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _cache[2] || (_cache[2] = _createElementVNode(\"div\", { class: \"phase-label\" }, \"📍 当前阶段\", -1 /* CACHED */)),\n                        _createElementVNode(\"div\", _hoisted_4, _toDisplayString(_unref(store).data.主线任务.当前阶段), 1 /* TEXT */)\n                    ]),\n                    _createCommentVNode(\" 阶段目标进度条 \"),\n                    _createElementVNode(\"div\", _hoisted_5, [\n                        _createElementVNode(\"div\", _hoisted_6, [\n                            _cache[3] || (_cache[3] = _createElementVNode(\"span\", null, \"🎯 阶段目标进度\", -1 /* CACHED */)),\n                            _createElementVNode(\"span\", _hoisted_7, _toDisplayString(completedGoals.value) + \"/\" + _toDisplayString(_unref(store).data.主线任务.阶段目标.length), 1 /* TEXT */)\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_8, [\n                            _createElementVNode(\"div\", {\n                                class: \"progress-fill\",\n                                style: _normalizeStyle({ width: progressPercent.value + '%' })\n                            }, null, 4 /* STYLE */)\n                        ])\n                    ]),\n                    _createCommentVNode(\" 阶段目标 \"),\n                    _createElementVNode(\"div\", _hoisted_9, [\n                        _createElementVNode(\"button\", {\n                            class: \"collapse-toggle-btn\",\n                            onClick: _cache[0] || (_cache[0] = ($event) => (isGoalsExpanded.value = !isGoalsExpanded.value))\n                        }, [\n                            _createElementVNode(\"span\", _hoisted_10, _toDisplayString(isGoalsExpanded.value ? '▼' : '▶'), 1 /* TEXT */),\n                            _cache[4] || (_cache[4] = _createElementVNode(\"span\", { class: \"toggle-text\" }, \"📋 目标清单\", -1 /* CACHED */)),\n                            _createElementVNode(\"span\", _hoisted_11, \"(\" + _toDisplayString(completedGoals.value) + \"/\" + _toDisplayString(_unref(store).data.主线任务.阶段目标.length) + \")\", 1 /* TEXT */)\n                        ]),\n                        _withDirectives(_createElementVNode(\"div\", _hoisted_12, [\n                            (_unref(store).data.主线任务.阶段目标.length > 0)\n                                ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_unref(store).data.主线任务.阶段目标, (goal, idx) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        key: idx,\n                                        class: _normalizeClass([\"goal-item\", { completed: isGoalCompleted(idx) }])\n                                    }, [\n                                        _createElementVNode(\"div\", _hoisted_13, [\n                                            (isGoalCompleted(idx))\n                                                ? (_openBlock(), _createElementBlock(\"svg\", _hoisted_14, [...(_cache[5] || (_cache[5] = [\n                                                        _createElementVNode(\"path\", { d: \"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\" }, null, -1 /* CACHED */)\n                                                    ]))]))\n                                                : (_openBlock(), _createElementBlock(\"svg\", _hoisted_15, [...(_cache[6] || (_cache[6] = [\n                                                        _createElementVNode(\"circle\", {\n                                                            cx: \"12\",\n                                                            cy: \"12\",\n                                                            r: \"10\"\n                                                        }, null, -1 /* CACHED */)\n                                                    ]))]))\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_16, [\n                                            _createElementVNode(\"span\", {\n                                                class: _normalizeClass([\"goal-text\", { completed: isGoalCompleted(idx) }])\n                                            }, _toDisplayString(goal), 3 /* TEXT, CLASS */),\n                                            (isGoalCompleted(idx))\n                                                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_17, \"已完成\"))\n                                                : _createCommentVNode(\"v-if\", true)\n                                        ])\n                                    ], 2 /* CLASS */));\n                                }), 128 /* KEYED_FRAGMENT */))\n                                : (_openBlock(), _createElementBlock(\"div\", _hoisted_18, \"(暂无目标)\"))\n                        ], 512 /* NEED_PATCH */), [\n                            [_vShow, isGoalsExpanded.value]\n                        ])\n                    ]),\n                    _createCommentVNode(\" 情报碎片 \"),\n                    _createElementVNode(\"div\", _hoisted_19, [\n                        _createElementVNode(\"button\", {\n                            class: \"collapse-toggle-btn\",\n                            onClick: _cache[1] || (_cache[1] = ($event) => (isIntelExpanded.value = !isIntelExpanded.value))\n                        }, [\n                            _createElementVNode(\"span\", _hoisted_20, _toDisplayString(isIntelExpanded.value ? '▼' : '▶'), 1 /* TEXT */),\n                            _cache[7] || (_cache[7] = _createElementVNode(\"span\", { class: \"toggle-text\" }, \"🔍 情报碎片\", -1 /* CACHED */)),\n                            _createElementVNode(\"span\", _hoisted_21, \"(\" + _toDisplayString(intelCompleted.value) + \"/\" + _toDisplayString(intelTotal.value) + \")\", 1 /* TEXT */)\n                        ]),\n                        _withDirectives(_createElementVNode(\"div\", _hoisted_22, [\n                            (intelTotal.value > 0)\n                                ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_unref(store).data.主线任务.情报碎片, (intel, key) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        key: key,\n                                        class: _normalizeClass([\"intel-item\", intel.状态])\n                                    }, [\n                                        _createElementVNode(\"div\", {\n                                            class: _normalizeClass([\"intel-status-ring\", intel.状态])\n                                        }, [\n                                            (_openBlock(), _createElementBlock(\"svg\", _hoisted_23, [\n                                                _cache[8] || (_cache[8] = _createElementVNode(\"circle\", {\n                                                    cx: \"18\",\n                                                    cy: \"18\",\n                                                    r: \"16\",\n                                                    class: \"ring-bg\"\n                                                }, null, -1 /* CACHED */)),\n                                                _createElementVNode(\"circle\", {\n                                                    cx: \"18\",\n                                                    cy: \"18\",\n                                                    r: \"16\",\n                                                    class: _normalizeClass([\"ring-progress\", intel.状态]),\n                                                    \"stroke-dasharray\": getRingProgress(intel.状态)\n                                                }, null, 10 /* CLASS, PROPS */, _hoisted_24)\n                                            ])),\n                                            _createElementVNode(\"span\", _hoisted_25, _toDisplayString(getStatusIcon(intel.状态)), 1 /* TEXT */)\n                                        ], 2 /* CLASS */),\n                                        _createElementVNode(\"div\", _hoisted_26, [\n                                            _createElementVNode(\"div\", _hoisted_27, [\n                                                _createElementVNode(\"span\", _hoisted_28, _toDisplayString(intel.编号), 1 /* TEXT */),\n                                                _createElementVNode(\"span\", {\n                                                    class: _normalizeClass([\"intel-status-badge\", intel.状态])\n                                                }, _toDisplayString(intel.状态), 3 /* TEXT, CLASS */)\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_29, _toDisplayString(intel.描述), 1 /* TEXT */),\n                                            _createElementVNode(\"div\", _hoisted_30, [\n                                                _createElementVNode(\"span\", _hoisted_31, \"💰 \" + _toDisplayString(intel.价值), 1 /* TEXT */),\n                                                _createElementVNode(\"span\", _hoisted_32, \"⚠️ \" + _toDisplayString(intel.风险), 1 /* TEXT */)\n                                            ])\n                                        ])\n                                    ], 2 /* CLASS */));\n                                }), 128 /* KEYED_FRAGMENT */))\n                                : (_openBlock(), _createElementBlock(\"div\", _hoisted_33, \"(暂无情报碎片)\"))\n                        ], 512 /* NEED_PATCH */), [\n                            [_vShow, isIntelExpanded.value]\n                        ])\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./MissionSection.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MissionSection.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./MissionSection.vue?vue&type=style&index=0&id=ebc00eba&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ebc00eba\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n    class: \"section\",\n    id: \"other-residents-section\"\n};\nconst _hoisted_2 = { class: \"other-residents-item\" };\nconst _hoisted_3 = { class: \"value\" };\nconst _hoisted_4 = { class: \"other-residents-item\" };\nconst _hoisted_5 = { class: \"value\" };\nimport { useDataStore } from '../../store';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'OtherResidentsSection',\n    setup(__props) {\n        const store = useDataStore();\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n                _cache[2] || (_cache[2] = _createElementVNode(\"h2\", { class: \"section-title\" }, \"🏢 其他楼层情况 🏢\", -1 /* CACHED */)),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _cache[0] || (_cache[0] = _createElementVNode(\"div\", { class: \"label\" }, \"💬 楼层言语\", -1 /* CACHED */)),\n                    _createElementVNode(\"div\", _hoisted_3, _toDisplayString(_unref(store).data.楼层其他住户.言语), 1 /* TEXT */)\n                ]),\n                _createElementVNode(\"div\", _hoisted_4, [\n                    _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"label\" }, \"🏃 楼层行为\", -1 /* CACHED */)),\n                    _createElementVNode(\"div\", _hoisted_5, _toDisplayString(_unref(store).data.楼层其他住户.行为), 1 /* TEXT */)\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./OtherResidentsSection.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./OtherResidentsSection.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, withDirectives as _withDirectives, createTextVNode as _createTextVNode, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n    id: \"shelter-section\",\n    class: \"section\"\n};\nconst _hoisted_2 = { class: \"shelter-grid\" };\nconst _hoisted_3 = { class: \"shelter-item\" };\nconst _hoisted_4 = { class: \"value\" };\nconst _hoisted_5 = { class: \"shelter-item\" };\nconst _hoisted_6 = { class: \"value\" };\nconst _hoisted_7 = { class: \"shelter-item\" };\nconst _hoisted_8 = { class: \"value\" };\nconst _hoisted_9 = { class: \"shelter-item\" };\nconst _hoisted_10 = { class: \"expansion-list\" };\nconst _hoisted_11 = { class: \"status\" };\nconst _hoisted_12 = { class: \"status\" };\nconst _hoisted_13 = { class: \"status\" };\nconst _hoisted_14 = { class: \"shelter-item\" };\nconst _hoisted_15 = { class: \"toggle-icon\" };\nconst _hoisted_16 = { class: \"toggle-text\" };\nconst _hoisted_17 = { class: \"map-container\" };\nconst _hoisted_18 = { class: \"map-zone\" };\nconst _hoisted_19 = { class: \"room-grid entrance-grid\" };\nconst _hoisted_20 = { class: \"room-cell highlight\" };\nconst _hoisted_21 = { class: \"room-value\" };\nconst _hoisted_22 = { class: \"room-value\" };\nconst _hoisted_23 = { class: \"room-resident\" };\nconst _hoisted_24 = { class: \"room-value\" };\nconst _hoisted_25 = { class: \"room-resident\" };\nconst _hoisted_26 = { class: \"map-zone\" };\nconst _hoisted_27 = { class: \"room-grid core-grid\" };\nconst _hoisted_28 = { class: \"room-value\" };\nconst _hoisted_29 = { class: \"room-resident\" };\nconst _hoisted_30 = { class: \"room-value\" };\nconst _hoisted_31 = { class: \"room-resident\" };\nconst _hoisted_32 = { class: \"map-zone\" };\nconst _hoisted_33 = { class: \"room-grid floor-grid\" };\nconst _hoisted_34 = { class: \"room-number\" };\nconst _hoisted_35 = { class: \"room-value\" };\nconst _hoisted_36 = { class: \"room-resident\" };\nconst _hoisted_37 = { class: \"map-zone\" };\nconst _hoisted_38 = { class: \"room-grid floor-grid\" };\nconst _hoisted_39 = { class: \"room-number\" };\nconst _hoisted_40 = { class: \"room-value\" };\nconst _hoisted_41 = { class: \"room-resident\" };\nconst _hoisted_42 = { class: \"shelter-item\" };\nconst _hoisted_43 = { class: \"toggle-icon\" };\nconst _hoisted_44 = { class: \"ability-list\" };\nconst _hoisted_45 = { class: \"name\" };\nconst _hoisted_46 = { class: \"desc\" };\nimport { ref, computed } from 'vue';\nimport { useDataStore } from '../../store';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'ShelterSection',\n    setup(__props) {\n        const store = useDataStore();\n        const isMapExpanded = ref(false);\n        const isAbilityExpanded = ref(false);\n        // 20层房间数据\n        const floor20Rooms = [\n            { number: '2001' },\n            { number: '2002' },\n            { number: '2003' },\n            { number: '2004' },\n            { number: '2005' },\n            { number: '2006' },\n            { number: '2007' },\n            { number: '2008' },\n            { number: '2009' },\n            { number: '2010' },\n            { number: '2011' },\n            { number: '2012' },\n        ];\n        // 19层房间数据\n        const floor19Rooms = [\n            { number: '1901' },\n            { number: '1902' },\n            { number: '1903' },\n            { number: '1904' },\n            { number: '1905' },\n            { number: '1906' },\n            { number: '1907' },\n            { number: '1908' },\n            { number: '1909' },\n            { number: '1910' },\n            { number: '1911' },\n            { number: '1912' },\n        ];\n        // 玄关区域计算属性\n        const hasTempGuestA = computed(() => store.data.房间.玄关.临时客房A入住者.length > 0);\n        const hasTempGuestB = computed(() => store.data.房间.玄关.临时客房B入住者.length > 0);\n        function getTempGuestNames(room) {\n            const names = room === 'A' ? store.data.房间.玄关.临时客房A入住者 : store.data.房间.玄关.临时客房B入住者;\n            return names.length > 0 ? names.join('、') : '-';\n        }\n        function getEntranceStatus() {\n            // 玄关总是显示\"就绪\"\n            return '就绪';\n        }\n        // 核心区计算属性\n        const hasBedroomUser = computed(() => store.data.房间.核心区.主卧室使用者.length > 0);\n        const hasBathroomUser = computed(() => store.data.房间.核心区.主浴室使用者.length > 0);\n        function getBedroomUserNames() {\n            const names = store.data.房间.核心区.主卧室使用者;\n            return names.length > 0 ? names.join('、') : '-';\n        }\n        function getBathroomUserNames() {\n            const names = store.data.房间.核心区.主浴室使用者;\n            return names.length > 0 ? names.join('、') : '-';\n        }\n        // 楼层房间辅助函数\n        function getFloorRoomData(floor, room) {\n            const floorKey = floor === '20' ? '楼层20房间' : '楼层19房间';\n            const rooms = store.data.房间.楼层房间[floorKey];\n            return rooms?.[room] || { 入住者: [] };\n        }\n        function hasFloorResident(floor, room) {\n            return getFloorRoomData(floor, room).入住者.length > 0;\n        }\n        function getFloorRoomStatus(floor, room) {\n            const data = getFloorRoomData(floor, room);\n            return data.入住者.length > 0 ? '已入住' : '空置';\n        }\n        function getFloorRoomNames(floor, room) {\n            const data = getFloorRoomData(floor, room);\n            if (data.入住者.length === 0)\n                return '-';\n            // 特殊房间显示固定名称\n            if (room === '2001')\n                return '{{user}} (你)';\n            if (room === '1901')\n                return '爱宫铃 & 爱宫心爱';\n            return data.入住者.join('、');\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n                _cache[24] || (_cache[24] = _createElementVNode(\"h2\", { class: \"section-title\" }, \"🏰 庇护所信息 🏰\", -1 /* CACHED */)),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _cache[2] || (_cache[2] = _createElementVNode(\"div\", { class: \"label\" }, \"⚜️ 庇护所等级\", -1 /* CACHED */)),\n                        _createElementVNode(\"div\", _hoisted_4, _toDisplayString(_unref(store).data.庇护所.庇护所等级), 1 /* TEXT */)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_5, [\n                        _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"label\" }, \"🎲 今日投掷点数\", -1 /* CACHED */)),\n                        _createElementVNode(\"div\", _hoisted_6, _toDisplayString(_unref(store).data.庇护所.今日投掷点数), 1 /* TEXT */)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_7, [\n                        _cache[4] || (_cache[4] = _createElementVNode(\"div\", { class: \"label\" }, \"⏳ 距离下次保底升级\", -1 /* CACHED */)),\n                        _createElementVNode(\"div\", _hoisted_8, _toDisplayString(_unref(store).data.庇护所.距离上次升级), 1 /* TEXT */)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_9, [\n                        _cache[8] || (_cache[8] = _createElementVNode(\"div\", { class: \"label\" }, \"🔒 可扩展区域状态\", -1 /* CACHED */)),\n                        _createElementVNode(\"div\", _hoisted_10, [\n                            _createElementVNode(\"div\", {\n                                class: _normalizeClass([\"expansion-card\", { unlocked: _unref(store).data.庇护所.可扩展区域.医疗翼 !== '未解锁' }])\n                            }, [\n                                _cache[5] || (_cache[5] = _createElementVNode(\"div\", { class: \"name\" }, \"⚕️ 医疗翼\", -1 /* CACHED */)),\n                                _createElementVNode(\"div\", _hoisted_11, _toDisplayString(_unref(store).data.庇护所.可扩展区域.医疗翼), 1 /* TEXT */)\n                            ], 2 /* CLASS */),\n                            _createElementVNode(\"div\", {\n                                class: _normalizeClass([\"expansion-card\", { unlocked: _unref(store).data.庇护所.可扩展区域.制造工坊 !== '未解锁' }])\n                            }, [\n                                _cache[6] || (_cache[6] = _createElementVNode(\"div\", { class: \"name\" }, \"🔧 制造工坊\", -1 /* CACHED */)),\n                                _createElementVNode(\"div\", _hoisted_12, _toDisplayString(_unref(store).data.庇护所.可扩展区域.制造工坊), 1 /* TEXT */)\n                            ], 2 /* CLASS */),\n                            _createElementVNode(\"div\", {\n                                class: _normalizeClass([\"expansion-card\", { unlocked: _unref(store).data.庇护所.可扩展区域.载具格纳库 !== '未解锁' }])\n                            }, [\n                                _cache[7] || (_cache[7] = _createElementVNode(\"div\", { class: \"name\" }, \"🚜 载具格纳库\", -1 /* CACHED */)),\n                                _createElementVNode(\"div\", _hoisted_13, _toDisplayString(_unref(store).data.庇护所.可扩展区域.载具格纳库), 1 /* TEXT */)\n                            ], 2 /* CLASS */)\n                        ])\n                    ]),\n                    _createCommentVNode(\" 伊甸空间地图 \"),\n                    _createElementVNode(\"div\", _hoisted_14, [\n                        _cache[22] || (_cache[22] = _createElementVNode(\"div\", { class: \"label\" }, \"🗺️ 伊甸空间地图\", -1 /* CACHED */)),\n                        _createElementVNode(\"button\", {\n                            class: \"map-toggle-btn\",\n                            onClick: _cache[0] || (_cache[0] = ($event) => (isMapExpanded.value = !isMapExpanded.value))\n                        }, [\n                            _createElementVNode(\"span\", _hoisted_15, _toDisplayString(isMapExpanded.value ? '▼' : '▶'), 1 /* TEXT */),\n                            _createElementVNode(\"span\", _hoisted_16, _toDisplayString(isMapExpanded.value ? '收起地图' : '展开地图'), 1 /* TEXT */)\n                        ]),\n                        _withDirectives(_createElementVNode(\"div\", _hoisted_17, [\n                            _createCommentVNode(\" 玄关区域 \"),\n                            _createElementVNode(\"div\", _hoisted_18, [\n                                _cache[13] || (_cache[13] = _createElementVNode(\"div\", { class: \"zone-label\" }, \"🚪 玄关 - 净化区\", -1 /* CACHED */)),\n                                _createElementVNode(\"div\", _hoisted_19, [\n                                    _createElementVNode(\"div\", _hoisted_20, [\n                                        _cache[9] || (_cache[9] = _createElementVNode(\"div\", { class: \"room-number\" }, \"玄关\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_21, _toDisplayString(getEntranceStatus()), 1 /* TEXT */),\n                                        _cache[10] || (_cache[10] = _createElementVNode(\"div\", { class: \"room-resident\" }, \"净化/隔离区\", -1 /* CACHED */))\n                                    ]),\n                                    _createElementVNode(\"div\", {\n                                        class: _normalizeClass([\"room-cell\", { occupied: hasTempGuestA.value }])\n                                    }, [\n                                        _cache[11] || (_cache[11] = _createElementVNode(\"div\", { class: \"room-number\" }, \"临时客房 A\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_22, _toDisplayString(hasTempGuestA.value ? '已入住' : '空置'), 1 /* TEXT */),\n                                        _createElementVNode(\"div\", _hoisted_23, _toDisplayString(getTempGuestNames('A')), 1 /* TEXT */)\n                                    ], 2 /* CLASS */),\n                                    _createElementVNode(\"div\", {\n                                        class: _normalizeClass([\"room-cell\", { occupied: hasTempGuestB.value }])\n                                    }, [\n                                        _cache[12] || (_cache[12] = _createElementVNode(\"div\", { class: \"room-number\" }, \"临时客房 B\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_24, _toDisplayString(hasTempGuestB.value ? '已入住' : '空置'), 1 /* TEXT */),\n                                        _createElementVNode(\"div\", _hoisted_25, _toDisplayString(getTempGuestNames('B')), 1 /* TEXT */)\n                                    ], 2 /* CLASS */)\n                                ])\n                            ]),\n                            _createCommentVNode(\" 核心区 \"),\n                            _createElementVNode(\"div\", _hoisted_26, [\n                                _cache[17] || (_cache[17] = _createElementVNode(\"div\", { class: \"zone-label\" }, \"💎 核心生活区\", -1 /* CACHED */)),\n                                _createElementVNode(\"div\", _hoisted_27, [\n                                    _cache[16] || (_cache[16] = _createStaticVNode(\"<div class=\\\"room-cell highlight\\\"><div class=\\\"room-number\\\">客厅</div><div class=\\\"room-value\\\">公共区域</div><div class=\\\"room-resident\\\">-</div></div><div class=\\\"room-cell highlight\\\"><div class=\\\"room-number\\\">餐厅/厨房</div><div class=\\\"room-value\\\">万象合成终端</div><div class=\\\"room-resident\\\">-</div></div>\", 2)),\n                                    _createElementVNode(\"div\", {\n                                        class: _normalizeClass([\"room-cell\", { occupied: hasBedroomUser.value }])\n                                    }, [\n                                        _cache[14] || (_cache[14] = _createElementVNode(\"div\", { class: \"room-number\" }, \"主卧室\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_28, _toDisplayString(hasBedroomUser.value ? '使用中' : '空闲'), 1 /* TEXT */),\n                                        _createElementVNode(\"div\", _hoisted_29, _toDisplayString(getBedroomUserNames()), 1 /* TEXT */)\n                                    ], 2 /* CLASS */),\n                                    _createElementVNode(\"div\", {\n                                        class: _normalizeClass([\"room-cell\", { occupied: hasBathroomUser.value }])\n                                    }, [\n                                        _cache[15] || (_cache[15] = _createElementVNode(\"div\", { class: \"room-number\" }, \"主浴室\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_30, _toDisplayString(hasBathroomUser.value ? '使用中' : '空闲'), 1 /* TEXT */),\n                                        _createElementVNode(\"div\", _hoisted_31, _toDisplayString(getBathroomUserNames()), 1 /* TEXT */)\n                                    ], 2 /* CLASS */)\n                                ])\n                            ]),\n                            _createCommentVNode(\" 20层走廊 \"),\n                            _createElementVNode(\"div\", _hoisted_32, [\n                                _cache[18] || (_cache[18] = _createElementVNode(\"div\", { class: \"zone-label\" }, \"🏢 20层 - 公寓走廊\", -1 /* CACHED */)),\n                                _cache[19] || (_cache[19] = _createElementVNode(\"div\", { class: \"floor-indicator\" }, \"↓ 通往外部楼梯\", -1 /* CACHED */)),\n                                _createElementVNode(\"div\", _hoisted_33, [\n                                    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(floor20Rooms, (room) => {\n                                        return _createElementVNode(\"div\", {\n                                            key: room.number,\n                                            class: _normalizeClass([\"room-cell\", { 'user-room': room.number === '2001', occupied: hasFloorResident('20', room.number) }])\n                                        }, [\n                                            _createElementVNode(\"div\", _hoisted_34, _toDisplayString(room.number), 1 /* TEXT */),\n                                            _createElementVNode(\"div\", _hoisted_35, _toDisplayString(getFloorRoomStatus('20', room.number)), 1 /* TEXT */),\n                                            _createElementVNode(\"div\", _hoisted_36, _toDisplayString(getFloorRoomNames('20', room.number)), 1 /* TEXT */)\n                                        ], 2 /* CLASS */);\n                                    }), 64 /* STABLE_FRAGMENT */))\n                                ])\n                            ]),\n                            _createCommentVNode(\" 19层走廊 \"),\n                            _createElementVNode(\"div\", _hoisted_37, [\n                                _cache[20] || (_cache[20] = _createElementVNode(\"div\", { class: \"zone-label\" }, \"🏢 19层 - 公寓走廊\", -1 /* CACHED */)),\n                                _createElementVNode(\"div\", _hoisted_38, [\n                                    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(floor19Rooms, (room) => {\n                                        return _createElementVNode(\"div\", {\n                                            key: room.number,\n                                            class: _normalizeClass([\"room-cell\", { occupied: hasFloorResident('19', room.number) }])\n                                        }, [\n                                            _createElementVNode(\"div\", _hoisted_39, _toDisplayString(room.number), 1 /* TEXT */),\n                                            _createElementVNode(\"div\", _hoisted_40, _toDisplayString(getFloorRoomStatus('19', room.number)), 1 /* TEXT */),\n                                            _createElementVNode(\"div\", _hoisted_41, _toDisplayString(getFloorRoomNames('19', room.number)), 1 /* TEXT */)\n                                        ], 2 /* CLASS */);\n                                    }), 64 /* STABLE_FRAGMENT */))\n                                ]),\n                                _cache[21] || (_cache[21] = _createElementVNode(\"div\", { class: \"floor-indicator\" }, \"↓ 通往18层\", -1 /* CACHED */))\n                            ])\n                        ], 512 /* NEED_PATCH */), [\n                            [_vShow, isMapExpanded.value]\n                        ])\n                    ]),\n                    _createCommentVNode(\" 庇护所能力列表（可折叠） \"),\n                    _createElementVNode(\"div\", _hoisted_42, [\n                        _createElementVNode(\"button\", {\n                            class: \"collapse-toggle-btn\",\n                            onClick: _cache[1] || (_cache[1] = ($event) => (isAbilityExpanded.value = !isAbilityExpanded.value))\n                        }, [\n                            _createElementVNode(\"span\", _hoisted_43, _toDisplayString(isAbilityExpanded.value ? '▼' : '▶'), 1 /* TEXT */),\n                            _cache[23] || (_cache[23] = _createElementVNode(\"span\", { class: \"toggle-text\" }, \"💡 庇护所能力列表\", -1 /* CACHED */))\n                        ]),\n                        _withDirectives(_createElementVNode(\"div\", _hoisted_44, [\n                            (_unref(store).data.庇护所.庇护所能力.length > 0)\n                                ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_unref(store).data.庇护所.庇护所能力, (ab, idx) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        key: idx,\n                                        class: \"ability-card\"\n                                    }, [\n                                        _createElementVNode(\"div\", _hoisted_45, _toDisplayString(ab.name), 1 /* TEXT */),\n                                        _createElementVNode(\"div\", _hoisted_46, _toDisplayString(ab.desc), 1 /* TEXT */)\n                                    ]));\n                                }), 128 /* KEYED_FRAGMENT */))\n                                : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                    _createTextVNode(\"(暂无能力)\")\n                                ], 64 /* STABLE_FRAGMENT */))\n                        ], 512 /* NEED_PATCH */), [\n                            [_vShow, isAbilityExpanded.value]\n                        ])\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./ShelterSection.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ShelterSection.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\n\nimport { computed } from 'vue';\nconst _hoisted_1 = { class: \"section\" };\nconst _hoisted_2 = { class: \"content-text\" };\nconst _hoisted_3 = [\"src\", \"alt\"];\nconst _hoisted_4 = {\n    key: 1,\n    class: \"markdown-table\"\n};\nconst _hoisted_5 = [\"innerHTML\"];\nconst _hoisted_6 = {\n    key: 2,\n    class: \"system-message\"\n};\nconst _hoisted_7 = {\n    key: 3,\n    class: \"image-prompt\"\n};\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'StorySection',\n    props: {\n        content: {}\n    },\n    setup(__props) {\n        const props = __props;\n        const segments = computed(() => {\n            const text = props.content ?? '';\n            if (!text.trim()) {\n                return [{ key: 'empty', text: '(暂无正文)' }];\n            }\n            // 表格正则：匹配完整的 markdown 表格\n            const tablePattern = /(?:^|\\n)(\\|[\\s\\S]*?\\|)(?:\\n\\|[\\s\\S]*?\\|)*/g;\n            // 系统消息正则：>>> content <<< 格式（可带可选的 ** 标记）\n            const systemPattern = /(\\*{0,2}>>>(?:[\\s\\S]*?)<<<\\*{0,2})/g;\n            // 图片提示词正则：image###prompt### - 保留格式供生图插件提取\n            const imagePromptPattern = /image###([\\s\\S]*?)###/g;\n            // 绘图思考标签：<imgthink>...</imgthink> - 隐藏不显示\n            const imageThinkPattern = /<imgthink>[\\s\\S]*?<\\/imgthink>/g;\n            // 通用正则：匹配图片、对话、思考、系统提示、伊甸/系统发言\n            const pattern = /!\\[(.*?)\\]\\((.*?)\\)|\"([^\"]+)\"|\\*([^*]+)\\*|【(.*?)】|(?:^|\\n)((?:伊甸|系统|System)[：:].*?)(?=$|\\n)/g;\n            const result = [];\n            let lastIndex = 0;\n            // 先处理表格\n            for (const tableMatch of text.matchAll(tablePattern)) {\n                const index = tableMatch.index ?? 0;\n                // 处理表格之前的普通文本\n                if (index > lastIndex) {\n                    result.push({ key: `t${result.length}`, text: text.slice(lastIndex, index) });\n                }\n                // 解析表格\n                const tableContent = tableMatch[0];\n                const rows = tableContent\n                    .trim()\n                    .split('\\n')\n                    .filter(row => row.trim().startsWith('|'));\n                if (rows.length >= 2) {\n                    // 去掉分隔行（|---|---）\n                    const dataRows = rows.filter(row => !row.includes('---') && !row.includes('---'));\n                    if (dataRows.length >= 1) {\n                        const headers = parseTableRow(dataRows[0]);\n                        const tableRows = dataRows.slice(1).map(parseTableRow);\n                        result.push({\n                            key: `table${result.length}`,\n                            isTable: true,\n                            tableHeaders: headers,\n                            tableRows: tableRows,\n                        });\n                    }\n                }\n                lastIndex = index + tableMatch[0].length;\n            }\n            // 处理绘图思考标签 <imgthink> - 隐藏不显示\n            for (const thinkMatch of text.matchAll(imageThinkPattern)) {\n                const index = thinkMatch.index ?? 0;\n                // 处理之前的内容\n                if (index > lastIndex) {\n                    result.push({ key: `t${result.length}`, text: text.slice(lastIndex, index) });\n                }\n                // 跳过，不添加到结果中（隐藏）\n                lastIndex = index + thinkMatch[0].length;\n            }\n            // 处理图片提示词 image###prompt### - 保留格式作为代码块显示\n            for (const imgMatch of text.matchAll(imagePromptPattern)) {\n                const index = imgMatch.index ?? 0;\n                // 处理之前的内容\n                if (index > lastIndex) {\n                    result.push({ key: `t${result.length}`, text: text.slice(lastIndex, index) });\n                }\n                // 作为代码块保留，供生图插件提取\n                result.push({\n                    key: `imgprompt${result.length}`,\n                    text: imgMatch[0],\n                    className: 'image-prompt',\n                });\n                lastIndex = index + imgMatch[0].length;\n            }\n            // 处理系统消息（>>> content <<<）\n            for (const systemMatch of text.matchAll(systemPattern)) {\n                const index = systemMatch.index ?? 0;\n                // 处理公告之前的普通文本\n                if (index > lastIndex) {\n                    result.push({ key: `t${result.length}`, text: text.slice(lastIndex, index) });\n                }\n                // 清理内容：移除周围的 >>> 和 <<<，以及可选的 **\n                let content = systemMatch[1];\n                content = content.replace(/^\\*{0,2}>>>\\s*/, '').replace(/\\s*<<<\\*{0,2}$/, '');\n                result.push({\n                    key: `system${result.length}`,\n                    text: content,\n                    isSystem: true,\n                    className: 'system-message',\n                });\n                lastIndex = index + systemMatch[0].length;\n            }\n            // 处理剩余的非表格、非系统消息内容\n            if (lastIndex < text.length) {\n                const remainingText = text.slice(lastIndex);\n                for (const match of remainingText.matchAll(pattern)) {\n                    const index = (match.index ?? 0) + lastIndex;\n                    // 处理匹配项之前的普通文本\n                    if (index > lastIndex) {\n                        result.push({ key: `t${result.length}`, text: remainingText.slice(lastIndex - lastIndex, match.index) });\n                    }\n                    if (match[2] != null) {\n                        // 图片 ![]() - match[1]可能是alt text（可空），match[2]是URL\n                        result.push({\n                            key: `img${result.length}`,\n                            text: match[0],\n                            isImage: true,\n                            altText: match[1] ?? '',\n                            imageUrl: match[2],\n                        });\n                    }\n                    else if (match[6] != null) {\n                        // 伊甸：消息 或 系统：消息（统一为系统消息样式）\n                        result.push({\n                            key: `system${result.length}`,\n                            text: match[6],\n                            isSystem: true,\n                            className: 'system-message',\n                        });\n                    }\n                    else if (match[5] === '系统') {\n                        // 【系统】消息 - 黄色单独样式\n                        result.push({\n                            key: `t${result.length}`,\n                            text: '【系统】消息',\n                            className: 'system-hint',\n                        });\n                    }\n                    else if (match[5] != null) {\n                        // 【角色名】- 蓝色高亮样式\n                        result.push({\n                            key: `t${result.length}`,\n                            text: `【${match[5]}】`,\n                            className: 'character-name',\n                        });\n                    }\n                    else if (match[3] != null) {\n                        // \"中文对话\"\n                        result.push({\n                            key: `t${result.length}`,\n                            text: `“${match[3]}\"`,\n                            className: 'dialog-text',\n                        });\n                    }\n                    else if (match[4] != null) {\n                        // \"英文对话\"\n                        result.push({\n                            key: `t${result.length}`,\n                            text: `\"${match[4]}\"`,\n                            className: 'dialog-text',\n                        });\n                    }\n                    lastIndex = index + match[0].length;\n                }\n                if (lastIndex < text.length) {\n                    result.push({ key: `t${result.length}`, text: text.slice(lastIndex) });\n                }\n            }\n            return result;\n        });\n        // 解析表格行\n        function parseTableRow(row) {\n            return row\n                .trim()\n                .split('|')\n                .slice(1, -1) // 去掉首尾的空字符串\n                .map(cell => cell.trim());\n        }\n        // 格式化表格单元格（支持粗体、斜体等）- 安全处理防止 XSS\n        function formatTableCell(cell) {\n            // 先转义 HTML 特殊字符\n            const safe = cell\n                .replace(/&/g, '&amp;')\n                .replace(/</g, '&lt;')\n                .replace(/>/g, '&gt;')\n                .replace(/\"/g, '&quot;')\n                .replace(/'/g, '&#039;');\n            // 再处理支持的格式\n            return safe\n                .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n                .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n                .replace(/【(.*?)】/g, '【$1】');\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n                _cache[0] || (_cache[0] = _createElementVNode(\"h2\", { class: \"section-title\" }, \"📖 正文剧情 📖\", -1 /* CACHED */)),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(segments), (seg) => {\n                        return (_openBlock(), _createElementBlock(_Fragment, {\n                            key: seg.key\n                        }, [\n                            (seg.isImage)\n                                ? (_openBlock(), _createElementBlock(\"img\", {\n                                    key: 0,\n                                    src: seg.imageUrl,\n                                    alt: seg.altText,\n                                    class: \"story-image\"\n                                }, null, 8 /* PROPS */, _hoisted_3))\n                                : (seg.isTable)\n                                    ? (_openBlock(), _createElementBlock(\"table\", _hoisted_4, [\n                                        _createElementVNode(\"thead\", null, [\n                                            _createElementVNode(\"tr\", null, [\n                                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(seg.tableHeaders, (header, idx) => {\n                                                    return (_openBlock(), _createElementBlock(\"th\", { key: idx }, _toDisplayString(header), 1 /* TEXT */));\n                                                }), 128 /* KEYED_FRAGMENT */))\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"tbody\", null, [\n                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(seg.tableRows, (row, rowIdx) => {\n                                                return (_openBlock(), _createElementBlock(\"tr\", { key: rowIdx }, [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(row, (cell, cellIdx) => {\n                                                        return (_openBlock(), _createElementBlock(\"td\", {\n                                                            key: cellIdx,\n                                                            innerHTML: formatTableCell(cell)\n                                                        }, null, 8 /* PROPS */, _hoisted_5));\n                                                    }), 128 /* KEYED_FRAGMENT */))\n                                                ]));\n                                            }), 128 /* KEYED_FRAGMENT */))\n                                        ])\n                                    ]))\n                                    : (seg.isSystem)\n                                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                                            _createElementVNode(\"pre\", null, _toDisplayString(seg.text), 1 /* TEXT */)\n                                        ]))\n                                        : (seg.className === 'image-prompt')\n                                            ? (_openBlock(), _createElementBlock(\"pre\", _hoisted_7, _toDisplayString(seg.text), 1 /* TEXT */))\n                                            : (_openBlock(), _createElementBlock(\"span\", {\n                                                key: 4,\n                                                class: _normalizeClass(seg.className)\n                                            }, _toDisplayString(seg.text), 3 /* TEXT, CLASS */))\n                        ], 64 /* STABLE_FRAGMENT */));\n                    }), 128 /* KEYED_FRAGMENT */))\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./StorySection.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./StorySection.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./StorySection.vue?vue&type=style&index=0&id=2f45ee8b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2f45ee8b\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"section\" };\nconst _hoisted_2 = { class: \"global-info-bar\" };\nconst _hoisted_3 = { class: \"info-item info-item--location\" };\nconst _hoisted_4 = { class: \"info-item info-item--date\" };\nconst _hoisted_5 = { class: \"info-item info-item--time\" };\nimport { useDataStore } from '../../store';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'WorldSection',\n    setup(__props) {\n        const store = useDataStore();\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n                _cache[0] || (_cache[0] = _createElementVNode(\"h2\", { class: \"section-title\" }, \"🌐 基础信息 🌐\", -1 /* CACHED */)),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, \"🗺️ \" + _toDisplayString(_unref(store).data.世界.地址), 1 /* TEXT */),\n                    _createElementVNode(\"div\", _hoisted_4, \" 📅 \" + _toDisplayString(_unref(store).data.世界.日期) + \"（末日第 \" + _toDisplayString(_unref(store).data.世界.末日天数) + \" 天） \", 1 /* TEXT */),\n                    _createElementVNode(\"div\", _hoisted_5, \"⏳ \" + _toDisplayString(_unref(store).data.世界.时间), 1 /* TEXT */)\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./WorldSection.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./WorldSection.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","// 要过滤的自定义标签列表（绘图提示词等）\nconst CUSTOM_BLOCK_TAGS = ['imgthink', 'drawprompt', 'imageprompt', 'genimage'];\nfunction cleanCustomBlocks(raw) {\n    let cleaned = raw;\n    for (const tag of CUSTOM_BLOCK_TAGS) {\n        // 匹配 <tag>...</tag>（不区分大小写，非贪婪匹配，避免跨标签匹配）\n        cleaned = cleaned.replace(new RegExp(`<${tag}>[^<]*<\\\\/${tag}>`, 'gi'), '');\n    }\n    return cleaned;\n}\nfunction parseWithDom(raw) {\n    if (!raw.trim())\n        return null;\n    try {\n        // 先过滤自定义块\n        const cleaned = cleanCustomBlocks(raw);\n        const doc = new DOMParser().parseFromString(cleaned, 'text/html');\n        const contentEl = doc.querySelector('content');\n        const optionEl = doc.querySelector('option');\n        if (!contentEl && !optionEl)\n            return null;\n        const content = contentEl?.textContent?.trim() ?? '';\n        const optionsRaw = optionEl?.textContent?.trim() ?? '';\n        const options = optionsRaw\n            ? optionsRaw\n                .split('\\n')\n                .map((line) => line.trim())\n                .filter(Boolean)\n            : [];\n        return { content, options };\n    }\n    catch {\n        return null;\n    }\n}\nfunction parseInjectedText(raw) {\n    // 先过滤自定义块\n    const cleaned = cleanCustomBlocks(raw);\n    // 按原版规则：取最后一个 <content>…</content>（或以 </option> / 结尾收束）\n    const contentMatch = cleaned.match(/(<content>(?!.*<content>)[\\s\\S]*?(?:<\\/content>|<\\/option>|$))/i);\n    const optionMatch = cleaned.match(/(<option>(?!.*<option>)[\\s\\S]*?(?:<\\/option>|$))/i);\n    const content = contentMatch\n        ? contentMatch[1]\n            .replace(/<\\/?content>/gi, '')\n            .replace(/<\\/option>/gi, '')\n            .trim()\n        : '';\n    const optionsRaw = optionMatch ? optionMatch[1].replace(/<\\/?option>/gi, '').trim() : '';\n    const options = optionsRaw\n        ? optionsRaw\n            .split('\\n')\n            .map((line) => line.trim())\n            .filter(Boolean)\n        : [];\n    return { content, options };\n}\nfunction fetchFromMessages() {\n    try {\n        // getChatMessages 需要 range 字符串参数，如 '0-{{lastMessageId}}'\n        const msgs = getChatMessages('0-{{lastMessageId}}');\n        // 获取最后一条消息（当前楼层的消息），而不是第一条\n        const lastMsg = msgs?.[msgs.length - 1];\n        // 优先读取 message 字段（AI 输出内容），其次是 data.extra_text 和 text\n        const raw = lastMsg?.message ?? lastMsg?.data?.extra_text ?? lastMsg?.text ?? '';\n        if (!raw)\n            return null;\n        const domResult = parseWithDom(raw);\n        if (domResult)\n            return domResult;\n        return parseInjectedText(raw);\n    }\n    catch (e) {\n        console.error('[InjectedData] 错误:', e);\n        return null;\n    }\n}\nfunction getMockData() {\n    return {\n        content: `\n<p>\n  <strong>【当前剧情】</strong>\n  你和幸存者们正在探索一栋废弃医院的二楼，寻找可用的医疗物资。空气中弥漫着消毒水和腐朽混合的怪异气味，寂静得令人不安。\n</p>\n<p>\n  <em>\"小心点，这里可能还有\"那些东西\"。\"</em> 浅见亚美紧握着手中的消防斧，低声提醒道。\n</p>\n<p>\n  突然，一声刺耳的尖叫从走廊尽头传来，打破了沉寂。\n</p>\n`,\n        options: ['前往尖叫声传来的方向查看', '立刻寻找房间躲避', '呼叫其他幸存者支援'],\n    };\n}\nexport function useInjectedData() {\n    const content = ref('');\n    const options = ref([]);\n    // 开发模式检测 (通过 URL 查询参数)\n    const isDevMode = new URLSearchParams(window.location.search).has('dev');\n    const refresh = () => {\n        if (isDevMode) {\n            const mockData = getMockData();\n            content.value = mockData.content;\n            options.value = mockData.options;\n            return;\n        }\n        const fromMsg = fetchFromMessages(); // 同步调用\n        if (fromMsg) {\n            content.value = fromMsg.content;\n            options.value = fromMsg.options;\n            return;\n        }\n        const el = document.getElementById('injected-data-container');\n        const raw = el?.textContent ?? '';\n        const parsed = parseInjectedText(raw);\n        content.value = parsed.content;\n        options.value = parsed.options;\n    };\n    let observer = null;\n    onMounted(() => {\n        refresh();\n        // 在生产环境中才监听 DOM 变化\n        if (!isDevMode) {\n            const el = document.getElementById('injected-data-container');\n            if (!el)\n                return;\n            observer = new MutationObserver(() => refresh());\n            observer.observe(el, { characterData: true, childList: true, subtree: true });\n        }\n    });\n    onBeforeUnmount(() => {\n        observer?.disconnect();\n        observer = null;\n    });\n    return { content, options, refresh };\n}\n","import { defineComponent as _defineComponent } from 'vue';\nimport { createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { id: \"eden-main-container\" };\nimport CharactersSection from './components/CharactersSection.vue';\nimport ChoicesSection from './components/ChoicesSection.vue';\nimport MissionSection from './components/MissionSection.vue';\nimport OtherResidentsSection from './components/OtherResidentsSection.vue';\nimport ShelterSection from './components/ShelterSection.vue';\nimport StorySection from './components/StorySection.vue';\nimport WorldSection from './components/WorldSection.vue';\nimport { useInjectedData } from './useInjectedData';\n\nimport { watchDebounced } from '@vueuse/core';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'App',\n    setup(__props) {\n        const { content, options } = useInjectedData();\n        watchDebounced(() => [content.value, options.value.join('\\n')], () => {\n            window.dispatchEvent(new Event('resize'));\n        }, { debounce: 200 });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"main\", _hoisted_1, [\n                _createVNode(WorldSection),\n                _createVNode(MissionSection),\n                _createVNode(StorySection, { content: _unref(content) }, null, 8 /* PROPS */, [\"content\"]),\n                _createVNode(ShelterSection),\n                _createVNode(CharactersSection),\n                _createVNode(OtherResidentsSection),\n                _createVNode(ChoicesSection, { options: _unref(options) }, null, 8 /* PROPS */, [\"options\"])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import App from './App.vue';\nimport './global.css';\n$(async () => {\n    // 等待 MVU 初始化完成\n    await waitGlobalInitialized('Mvu');\n    // 挂载 Vue 应用\n    const app = createApp(App);\n    app.use(createPinia());\n    app.mount('#app');\n});\n// 卸载时清理资源\n$(window).on('pagehide', () => {\n    eventClearAll();\n});\n"],"names":["exports","sfc","props","target","__vccOpts","key","val","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","n","getter","__esModule","d","a","definition","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Vue","_","z","CharacterSchema","object","string","prefault","enum","optional","coerce","number","min","max","describe","WorldSchema","ShelterSchema","array","name","desc","RoomSchema","record","NeighborsSchema","MissionSchema","boolean","Schema","initialData","parse","useDataStore","errorCatched","message_id","getCurrentMessageId","data","ref","refresh_from_mvu","next","mvu_data","Mvu","getMvuData","type","read_stat_data","isEqual","value","waitGlobalInitialized","eventOn","events","VARIABLE_UPDATE_ENDED","VARIABLE_INITIALIZED","new_data","parsed","updateVariablesWith","variables","set","deep","debounce","_hoisted_1","id","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","__name","setup","__props","CHARACTER_ORDER","store","active_character_keys","computed","keys","forEach","char","push","dynamicKeys","includes","active_character_key","getCharacter","healthPercent","health","watch","length","immediate","_ctx","_cache","active","onClick","$event","getCharacterDisplayName","style","width","disabled","options","palette_open","theme","font_key","font_size","palette_button","palette_modal","togglePalette","onDocumentClick","ev","contains","document","documentElement","dataset","main","getElementById","fontMap","yahei","simsun","kaiti","fontFamily","setProperty","onMounted","addEventListener","onBeforeUnmount","removeEventListener","ref_key","opt","idx","text","trigger","window","triggerSlash","alert","show","viewBox","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","isGoalsExpanded","isIntelExpanded","completedGoals","filter","isGoalCompleted","progressPercent","total","Math","round","String","intelTotal","intelCompleted","values","i","getStatusIcon","status","getRingProgress","progress","circumference","PI","goal","completed","cx","cy","r","intel","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","isMapExpanded","isAbilityExpanded","floor20Rooms","floor19Rooms","hasTempGuestA","hasTempGuestB","getTempGuestNames","room","names","join","hasBedroomUser","hasBathroomUser","getBedroomUserNames","getBathroomUserNames","getFloorRoomData","floor","floorKey","rooms","hasFloorResident","getFloorRoomStatus","getFloorRoomNames","unlocked","occupied","ab","content","segments","trim","tablePattern","systemPattern","imagePromptPattern","imageThinkPattern","pattern","result","lastIndex","tableMatch","matchAll","index","slice","rows","split","row","startsWith","dataRows","headers","parseTableRow","tableRows","map","isTable","tableHeaders","thinkMatch","imgMatch","className","systemMatch","replace","isSystem","remainingText","match","isImage","altText","imageUrl","cell","formatTableCell","seg","src","alt","header","rowIdx","cellIdx","innerHTML","CUSTOM_BLOCK_TAGS","cleanCustomBlocks","raw","cleaned","tag","RegExp","parseInjectedText","contentMatch","optionMatch","optionsRaw","line","Boolean","fetchFromMessages","msgs","getChatMessages","lastMsg","message","extra_text","domResult","doc","DOMParser","parseFromString","contentEl","querySelector","optionEl","textContent","parseWithDom","e","console","error","isDevMode","URLSearchParams","location","search","has","refresh","mockData","fromMsg","el","observer","MutationObserver","observe","characterData","childList","subtree","disconnect","useInjectedData","dispatchEvent","Event","WorldSection","MissionSection","StorySection","ShelterSection","CharactersSection","OtherResidentsSection","ChoicesSection","$","async","app","createApp","App","use","mount","on","eventClearAll"],"ignoreList":[],"sourceRoot":""}