{"version":3,"file":"main.css","mappings":"AAoKA,kCACE,YAAa,CACb,qBAAsB,CACtB,QACF,CAEA,gCACE,iCAAkC,CAClC,YAAa,CACb,iBAAkB,CAClB,uCACF,CAEA,8BACE,gBAAiB,CACjB,uBAAwB,CACxB,WAAY,CACZ,iBACF,CAEA,6BACE,aAAc,CACd,gBAAiB,CACjB,wBACF,CAGA,qCACE,iCAAkC,CAClC,YAAa,CACb,iBAAkB,CAClB,uCACF,CAEA,kCACE,YAAa,CACb,6BAA8B,CAC9B,iBAAkB,CAClB,eAAgB,CAChB,uBACF,CAEA,gCACE,wBAAyB,CACzB,gBACF,CAEA,iCACE,UAAW,CACX,+BAAgC,CAChC,iBAAkB,CAClB,eACF,CAEA,gCACE,WAAY,CACZ,wEAA2E,CAC3E,iBAAkB,CAClB,0BACF,CAEA,gEAEE,cACF,CAEA,4DAEE,gBAAiB,CACjB,WACF,CAEA,0DAEE,cAAe,CACf,WAAY,CACZ,+BAAgC,CAChC,iBACF,CAGA,4BACE,YAAa,CACb,sBAAuB,CACvB,QAAS,CACT,gBAAiB,CACjB,8CAAkD,CAClD,wBACF,CAEA,uCACE,kBACF,CAEA,kCACE,uBAAwB,CACxB,WAAY,CACZ,sBACF,CAEA,sCACE,qCACF,CAEA,gCACE,UAAW,CACX,WAAY,CACZ,aAAc,CACd,cACF,CAEA,6BACE,UAAW,CACX,WAAY,CACZ,wBACF,CAEA,mCACE,oBAAqB,CACrB,wBAAyB,CACzB,WACF,CAEA,+BACE,MAAO,CACP,YAAa,CACb,sBAAuB,CACvB,OAAQ,CACR,cACF,CAEA,4BACE,eAAgB,CAChB,uBAAwB,CACxB,eAAgB,CAChB,MAAO,CACP,wBACF,CAEA,sCACE,WAAY,CACZ,4BACF,CAEA,kCACE,eAAgB,CAChB,eAAgB,CAChB,iBAAkB,CAClB,oCAAqC,CACrC,oBAAqB,CACrB,gBACF,CAGA,6BACE,YAAa,CACb,sBAAuB,CACvB,QAAS,CACT,iCAAkC,CAClC,YAAa,CACb,iBAAkB,CAClB,iBAAkB,CAClB,iCAAkC,CAClC,wBACF,CAEA,wCACE,eACF,CAEA,mCACE,iBAAkB,CAClB,uBAAwB,CACxB,WAAY,CACZ,YAAa,CACb,sBAAuB,CACvB,gBACF,CAEA,iCACE,qCAAsC,CACtC,sCACF,CAEA,iCACE,oCAAqC,CACrC,uCACF,CAEA,iCACE,mCAAoC,CACpC,WACF,CAGA,oCACE,UAAW,CACX,WAAY,CACZ,aAAc,CACd,iBACF,CAEA,gCACE,UAAW,CACX,WAAY,CACZ,wBACF,CAEA,0BACE,SAAU,CACV,qBAAsB,CACtB,cACF,CAEA,gCACE,SAAU,CACV,cAAe,CACf,oBAAqB,CACrB,qCACF,CAEA,oCACE,0BACF,CAEA,oCACE,yBACF,CAEA,oCACE,wBAAyB,CACzB,WACF,CAEA,4BACE,iBAAkB,CAClB,OAAQ,CACR,QAAS,CACT,8BAAgC,CAChC,gBAAiB,CACjB,gBACF,CAEA,gCACE,MAAO,CACP,WACF,CAEA,+BACE,YAAa,CACb,6BAA8B,CAC9B,kBAAmB,CACnB,iBACF,CAEA,2BACE,gBAAiB,CACjB,wBAAyB,CACzB,eACF,CAEA,qCACE,eAAgB,CAChB,eAAgB,CAChB,iBAAkB,CAClB,gBACF,CAEA,yCACE,uBAAwB,CACxB,+BACF,CAEA,yCACE,oBAAqB,CACrB,mCACF,CAEA,yCACE,oBAAqB,CACrB,oCACF,CAEA,6BACE,gBAAiB,CACjB,uBAAwB,CACxB,iBAAkB,CAClB,eACF,CAEA,6BACE,YAAa,CACb,QAAS,CACT,gBACF,CAEA,8BACE,wBACF,CAEA,6BACE,uBACF;;ACzFA,iCACE,UAAW,CACX,wBAAyB,CACzB,aAAc,CACd,eAAgB,CAChB,iCAAkC,CAClC,iBAAkB,CAClB,eACF,CAEA,wEAEE,iBAAkB,CAClB,eAAgB,CAChB,6CACF,CAEA,oCACE,+BAAgC,CAChC,wBAAyB,CACzB,gBAAiB,CACjB,gBACF,CAEA,oCACE,uBAAwB,CACxB,eACF,CAEA,2CACE,wBACF,CAEA,uCACE,wBACF,CAEA,oDACE,wBAAyB,CACzB,eACF,CAEA,kDACE,kBACF,CAEA,gDACE,uCACF,CAGA,iCACE,oCAAwC,CACxC,oCAAwC,CACxC,iBAAkB,CAClB,iB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CACE,yBACF,CAEA,yBACE,cACE,yBACF,CAEA,KACE,YAAa,CACb,eAAgB,CAChB,oCACF,CAEA,YACE,gBAAiB,CACjB,gBACF,CACF,CAGA,qCAEE,YAAa,CACb,kBAAmB,CACnB,OAAQ,CACR,UAAW,CACX,iBAAkB,CAClB,iCAAkC,CAClC,oCAAqC,CACrC,iBAAkB,CAClB,uBAAwB,CACxB,cAAe,CACf,gBAAiB,CACjB,sCAAuC,CACvC,iBACF,CAEA,iDAEE,oCAAqC,CACrC,oBACF,CAEA,aACE,eAAgB,CAChB,4CACF,CAEA,aACE,MAAO,CACP,eACF,CAEA,eACE,2CACF,CAEA,qBACE,KACE,SAAU,CACV,2BACF,CACA,GACE,SAAU,CACV,uBACF,CACF,CAEA,UACE,kBAAmB,CACnB,YAAa,CACb,+BAAgC,CAChC,kBAAmB,CACnB,uCACF,CAEA,YACE,gBAAiB,CACjB,wBAAyB,CACzB,kBAAmB,CACnB,gBAAiB,CACjB,YAAa,CACb,kBAAmB,CACnB,OACF,CAEA,iBACE,iBAAkB,CAClB,eAAgB,CAChB,uBAAwB,CACxB,WAAY,CACZ,YAAa,CACb,WAAY,CACZ,2CAA+C,CAC/C,8CACF,CAEA,WACE,YAAa,CACb,OACF,CAEA,eACE,mCACF,CAEA,WACE,mCACF,CAEA,YACE,mCACF,CAEA,gBACE,YAAa,CACb,mCAAqC,CACrC,OACF,CAEA,WACE,iCAAkC,CAClC,eAAgB,CAChB,iBAAkB,CAClB,iBAAkB,CAClB,uCAA2C,CAC3C,sCAAuC,CACvC,eAAgB,CAChB,YAAa,CACb,qBAAsB,CACtB,sBACF,CAEA,iBACE,gCAAiC,CACjC,wCACF,CAEA,qBACE,gCAAiC,CACjC,gCAAiC,CACjC,0CACF,CAEA,qBACE,+BAAgC,CAChC,sCACF,CAEA,kCACE,wBACF,CAEA,oBACE,gCAAiC,CACjC,sCACF,CAEA,gCACE,yBACF,CAEA,aACE,eAAgB,CAChB,gBAAiB,CACjB,wBAAyB,CACzB,iBACF,CAEA,YACE,gBAAiB,CACjB,wBAAyB,CACzB,iBAAkB,CAClB,kBAAmB,CACnB,eAAgB,CAChB,sBACF,CAEA,eACE,eAAgB,CAChB,uBAAwB,CACxB,WAAY,CACZ,kBAAmB,CACnB,eAAgB,CAChB,sBACF,CAEA,gBACE,iCAAkC,CAClC,gBAAiB,CACjB,iBAAkB,CAClB,iBAAkB,CAClB,uCAA2C,CAC3C,WAAY,CACZ,sCACF,CAEA,yBACE,SAAU,CACV,kBAAmB,CACnB,gCAAiC,CACjC,gCACF,CAEA,gBACE,eAAgB,CAChB,iBACF,CAEA,gBACE,gBAAiB,CACjB,gBAAiB,CACjB,uBAAwB,CACxB,iBACF,CAEA,kBACE,eAAgB,CAChB,uBACF,CAEA,2CACE,yBACF,CAGA,yBACE,eACE,mCACF,CAEA,WACE,mCACF,CAEA,YACE,mCACF,CAEA,gBACE,mCACF,CAEA,WACE,eAAgB,CAChB,eACF,CAEA,aACE,gBACF,CAEA,eACE,gBACF,CACF,CAEA,yBACE,YACE,mCACF,CAEA,gBACE,mCACF,CACF","sources":["src://tavern_helper_template/src/ÂØíÂÜ¨Êú´Êó•/ÁïåÈù¢/Áä∂ÊÄÅÊ†è/components/MissionSection.vue","src://tavern_helper_template/src/ÂØíÂÜ¨Êú´Êó•/ÁïåÈù¢/Áä∂ÊÄÅÊ†è/components/StorySection.vue","src://tavern_helper_template/src/ÂØíÂÜ¨Êú´Êó•/ÁïåÈù¢/Áä∂ÊÄÅÊ†è/global.css"],"sourcesContent":["<template>\n  <section id=\"mission-section\" class=\"section\">\n    <h2 class=\"section-title\">üìú ‰∏ªÁ∫ø‰ªªÂä° üìú</h2>\n    <div class=\"mission-content\">\n      <!-- ÂΩìÂâçÈò∂ÊÆµ -->\n      <div class=\"mission-phase\">\n        <div class=\"phase-label\">üìç ÂΩìÂâçÈò∂ÊÆµ</div>\n        <div class=\"phase-name\">{{ store.data.‰∏ªÁ∫ø‰ªªÂä°.ÂΩìÂâçÈò∂ÊÆµ }}</div>\n      </div>\n\n      <!-- Èò∂ÊÆµÁõÆÊ†áËøõÂ∫¶Êù° -->\n      <div class=\"goals-progress-bar\">\n        <div class=\"progress-header\">\n          <span>üéØ Èò∂ÊÆµÁõÆÊ†áËøõÂ∫¶</span>\n          <span class=\"progress-text\">{{ completedGoals }}/{{ store.data.‰∏ªÁ∫ø‰ªªÂä°.Èò∂ÊÆµÁõÆÊ†á.length }}</span>\n        </div>\n        <div class=\"progress-track\">\n          <div class=\"progress-fill\" :style=\"{ width: progressPercent + '%' }\"></div>\n        </div>\n      </div>\n\n      <!-- Èò∂ÊÆµÁõÆÊ†á -->\n      <div class=\"mission-goals\">\n        <button class=\"collapse-toggle-btn\" @click=\"isGoalsExpanded = !isGoalsExpanded\">\n          <span class=\"toggle-icon\">{{ isGoalsExpanded ? '‚ñº' : '‚ñ∂' }}</span>\n          <span class=\"toggle-text\">üìã ÁõÆÊ†áÊ∏ÖÂçï</span>\n          <span class=\"goals-count\">({{ completedGoals }}/{{ store.data.‰∏ªÁ∫ø‰ªªÂä°.Èò∂ÊÆµÁõÆÊ†á.length }})</span>\n        </button>\n        <div v-show=\"isGoalsExpanded\" class=\"goals-list\">\n          <template v-if=\"store.data.‰∏ªÁ∫ø‰ªªÂä°.Èò∂ÊÆµÁõÆÊ†á.length > 0\">\n            <div\n              v-for=\"(goal, idx) in store.data.‰∏ªÁ∫ø‰ªªÂä°.Èò∂ÊÆµÁõÆÊ†á\"\n              :key=\"idx\"\n              class=\"goal-item\"\n              :class=\"{ completed: isGoalCompleted(idx) }\"\n            >\n              <div class=\"goal-checkbox\">\n                <svg v-if=\"isGoalCompleted(idx)\" viewBox=\"0 0 24 24\" class=\"check-icon\">\n                  <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\" />\n                </svg>\n                <svg v-else viewBox=\"0 0 24 24\" class=\"check-icon empty\">\n                  <circle cx=\"12\" cy=\"12\" r=\"10\" />\n                </svg>\n              </div>\n              <div class=\"goal-content\">\n                <span class=\"goal-text\" :class=\"{ completed: isGoalCompleted(idx) }\">{{ goal }}</span>\n                <span v-if=\"isGoalCompleted(idx)\" class=\"goal-status-tag\">Â∑≤ÂÆåÊàê</span>\n              </div>\n            </div>\n          </template>\n          <template v-else>\n            <div class=\"goal-item empty\">(ÊöÇÊó†ÁõÆÊ†á)</div>\n          </template>\n        </div>\n      </div>\n\n      <!-- ÊÉÖÊä•Á¢éÁâá -->\n      <div class=\"mission-intel\">\n        <button class=\"collapse-toggle-btn\" @click=\"isIntelExpanded = !isIntelExpanded\">\n          <span class=\"toggle-icon\">{{ isIntelExpanded ? '‚ñº' : '‚ñ∂' }}</span>\n          <span class=\"toggle-text\">üîç ÊÉÖÊä•Á¢éÁâá</span>\n          <span class=\"intel-count\">({{ intelCompleted }}/{{ intelTotal }})</span>\n        </button>\n        <div v-show=\"isIntelExpanded\" class=\"intel-list\">\n          <template v-if=\"intelTotal > 0\">\n            <div v-for=\"(intel, key) in store.data.‰∏ªÁ∫ø‰ªªÂä°.ÊÉÖÊä•Á¢éÁâá\" :key=\"key\" class=\"intel-item\" :class=\"intel.Áä∂ÊÄÅ\">\n              <div class=\"intel-status-ring\" :class=\"intel.Áä∂ÊÄÅ\">\n                <svg viewBox=\"0 0 36 36\" class=\"progress-ring\">\n                  <circle cx=\"18\" cy=\"18\" r=\"16\" class=\"ring-bg\" />\n                  <circle\n                    cx=\"18\"\n                    cy=\"18\"\n                    r=\"16\"\n                    class=\"ring-progress\"\n                    :stroke-dasharray=\"getRingProgress(intel.Áä∂ÊÄÅ)\"\n                    :class=\"intel.Áä∂ÊÄÅ\"\n                  />\n                </svg>\n                <span class=\"ring-icon\">{{ getStatusIcon(intel.Áä∂ÊÄÅ) }}</span>\n              </div>\n              <div class=\"intel-content\">\n                <div class=\"intel-header\">\n                  <span class=\"intel-id\">{{ intel.ÁºñÂè∑ }}</span>\n                  <span class=\"intel-status-badge\" :class=\"intel.Áä∂ÊÄÅ\">{{ intel.Áä∂ÊÄÅ }}</span>\n                </div>\n                <div class=\"intel-desc\">{{ intel.ÊèèËø∞ }}</div>\n                <div class=\"intel-meta\">\n                  <span class=\"intel-value\">üí∞ {{ intel.‰ª∑ÂÄº }}</span>\n                  <span class=\"intel-risk\">‚ö†Ô∏è {{ intel.È£éÈô© }}</span>\n                </div>\n              </div>\n            </div>\n          </template>\n          <template v-else>\n            <div class=\"intel-item empty\">(ÊöÇÊó†ÊÉÖÊä•Á¢éÁâá)</div>\n          </template>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue';\nimport { useDataStore } from '../../store';\n\nconst store = useDataStore();\nconst isGoalsExpanded = ref(false);\nconst isIntelExpanded = ref(false);\n\n// Èò∂ÊÆµÁõÆÊ†áÂÆåÊàêÁä∂ÊÄÅÂ≠òÂÇ®\nconst completedGoals = computed(() => store.data.‰∏ªÁ∫ø‰ªªÂä°.Èò∂ÊÆµÁõÆÊ†á.filter((_, idx) => isGoalCompleted(idx)).length);\n\nconst progressPercent = computed(() => {\n  const total = store.data.‰∏ªÁ∫ø‰ªªÂä°.Èò∂ÊÆµÁõÆÊ†á.length;\n  if (total === 0) return 0;\n  return Math.round((completedGoals.value / total) * 100);\n});\n\n// ‰ªé store ËØªÂèñÁõÆÊ†áÂÆåÊàêÁä∂ÊÄÅ\nfunction isGoalCompleted(idx: number): boolean {\n  const key = String(idx);\n  return store.data.‰∏ªÁ∫ø‰ªªÂä°.ÁõÆÊ†áÂÆåÊàêÁä∂ÊÄÅ[key] === true;\n}\n\n// ÊÉÖÊä•Á¢éÁâáÁªüËÆ°\nconst intelTotal = computed(() => Object.keys(store.data.‰∏ªÁ∫ø‰ªªÂä°.ÊÉÖÊä•Á¢éÁâá).length);\nconst intelCompleted = computed(\n  () => Object.values(store.data.‰∏ªÁ∫ø‰ªªÂä°.ÊÉÖÊä•Á¢éÁâá).filter(i => i.Áä∂ÊÄÅ === 'Â∑≤ÂÆåÊàê').length,\n);\n\nfunction getStatusIcon(status: string): string {\n  switch (status) {\n    case 'Â∑≤ÂÆåÊàê':\n      return '‚úì';\n    case 'Â∑≤Êé¢Á¥¢':\n      return '‚óê';\n    case 'Êú™Êé¢Á¥¢':\n      return '‚óã';\n    default:\n      return '‚óã';\n  }\n}\n\nfunction getRingProgress(status: string): string {\n  let progress = 33;\n  switch (status) {\n    case 'Â∑≤ÂÆåÊàê':\n      progress = 100;\n      break;\n    case 'Â∑≤Êé¢Á¥¢':\n      progress = 66;\n      break;\n    case 'Êú™Êé¢Á¥¢':\n      progress = 33;\n      break;\n  }\n  const circumference = 2 * Math.PI * 16;\n  const offset = circumference - (progress / 100) * circumference;\n  return `${progress} ${circumference} ${offset}`;\n}\n</script>\n\n<style scoped>\n.mission-content {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.mission-phase {\n  background-color: var(--bg-medium);\n  padding: 12px;\n  border-radius: 8px;\n  border: 1px solid rgba(255, 255, 255, 0.05);\n}\n\n.phase-label {\n  font-size: 0.85em;\n  color: var(--text-color);\n  opacity: 0.8;\n  margin-bottom: 6px;\n}\n\n.phase-name {\n  font-size: 1em;\n  font-weight: bold;\n  color: var(--accent-gold);\n}\n\n/* ËøõÂ∫¶Êù° */\n.goals-progress-bar {\n  background-color: var(--bg-medium);\n  padding: 12px;\n  border-radius: 8px;\n  border: 1px solid rgba(255, 255, 255, 0.05);\n}\n\n.progress-header {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 8px;\n  font-size: 0.9em;\n  color: var(--text-color);\n}\n\n.progress-text {\n  color: var(--accent-gold);\n  font-weight: bold;\n}\n\n.progress-track {\n  height: 8px;\n  background-color: var(--bg-dark);\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.progress-fill {\n  height: 100%;\n  background: linear-gradient(90deg, var(--dialog-color), var(--accent-gold));\n  border-radius: 4px;\n  transition: width 0.3s ease;\n}\n\n.mission-goals,\n.mission-intel {\n  margin-top: 4px;\n}\n\n.goals-count,\n.intel-count {\n  font-size: 0.85em;\n  opacity: 0.7;\n}\n\n.goals-list,\n.intel-list {\n  margin-top: 8px;\n  padding: 8px;\n  background-color: var(--bg-dark);\n  border-radius: 8px;\n}\n\n/* ÁõÆÊ†áÊ∏ÖÂçï */\n.goal-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 10px;\n  padding: 10px 8px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n  transition: all 0.2s ease;\n}\n\n.goal-item:last-child {\n  border-bottom: none;\n}\n\n.goal-item.empty {\n  color: var(--text-color);\n  opacity: 0.6;\n  justify-content: center;\n}\n\n.goal-item.completed {\n  background-color: rgba(80, 250, 123, 0.1);\n}\n\n.goal-checkbox {\n  width: 22px;\n  height: 22px;\n  flex-shrink: 0;\n  margin-top: 1px;\n}\n\n.check-icon {\n  width: 100%;\n  height: 100%;\n  fill: var(--dialog-color);\n}\n\n.check-icon.empty {\n  fill: var(--bg-light);\n  stroke: var(--text-color);\n  opacity: 0.5;\n}\n\n.goal-content {\n  flex: 1;\n  display: flex;\n  align-items: flex-start;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n\n.goal-text {\n  font-size: 0.9em;\n  color: var(--text-color);\n  line-height: 1.4;\n  flex: 1;\n  transition: all 0.2s ease;\n}\n\n.goal-text.completed {\n  opacity: 0.6;\n  text-decoration: line-through;\n}\n\n.goal-status-tag {\n  font-size: 0.7em;\n  padding: 2px 6px;\n  border-radius: 4px;\n  background-color: var(--dialog-color);\n  color: var(--bg-dark);\n  font-weight: bold;\n}\n\n/* ÊÉÖÊä•Á¢éÁâá */\n.intel-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 12px;\n  background-color: var(--bg-medium);\n  padding: 12px;\n  border-radius: 8px;\n  margin-bottom: 8px;\n  border-left: 3px solid transparent;\n  transition: all 0.2s ease;\n}\n\n.intel-item:last-child {\n  margin-bottom: 0;\n}\n\n.intel-item.empty {\n  text-align: center;\n  color: var(--text-color);\n  opacity: 0.6;\n  padding: 16px;\n  justify-content: center;\n  border-left: none;\n}\n\n.intel-item.Â∑≤ÂÆåÊàê {\n  border-left-color: var(--dialog-color);\n  background-color: rgba(80, 250, 123, 0.08);\n}\n\n.intel-item.Â∑≤Êé¢Á¥¢ {\n  border-left-color: var(--accent-blue);\n  background-color: rgba(189, 147, 249, 0.08);\n}\n\n.intel-item.Êú™Êé¢Á¥¢ {\n  border-left-color: var(--text-color);\n  opacity: 0.7;\n}\n\n/* ËøõÂ∫¶ÁéØ */\n.intel-status-ring {\n  width: 36px;\n  height: 36px;\n  flex-shrink: 0;\n  position: relative;\n}\n\n.progress-ring {\n  width: 100%;\n  height: 100%;\n  transform: rotate(-90deg);\n}\n\n.ring-bg {\n  fill: none;\n  stroke: var(--bg-dark);\n  stroke-width: 2;\n}\n\n.ring-progress {\n  fill: none;\n  stroke-width: 2;\n  stroke-linecap: round;\n  transition: stroke-dasharray 0.3s ease;\n}\n\n.ring-progress.Â∑≤ÂÆåÊàê {\n  stroke: var(--dialog-color);\n}\n\n.ring-progress.Â∑≤Êé¢Á¥¢ {\n  stroke: var(--accent-blue);\n}\n\n.ring-progress.Êú™Êé¢Á¥¢ {\n  stroke: var(--text-color);\n  opacity: 0.5;\n}\n\n.ring-icon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 0.75em;\n  font-weight: bold;\n}\n\n.intel-content {\n  flex: 1;\n  min-width: 0;\n}\n\n.intel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 6px;\n}\n\n.intel-id {\n  font-weight: bold;\n  color: var(--accent-gold);\n  font-size: 0.9em;\n}\n\n.intel-status-badge {\n  font-size: 0.7em;\n  padding: 2px 8px;\n  border-radius: 4px;\n  font-weight: bold;\n}\n\n.intel-status-badge.Êú™Êé¢Á¥¢ {\n  color: var(--text-color);\n  background-color: var(--bg-dark);\n}\n\n.intel-status-badge.Â∑≤Êé¢Á¥¢ {\n  color: var(--bg-dark);\n  background-color: var(--accent-blue);\n}\n\n.intel-status-badge.Â∑≤ÂÆåÊàê {\n  color: var(--bg-dark);\n  background-color: var(--dialog-color);\n}\n\n.intel-desc {\n  font-size: 0.85em;\n  color: var(--text-color);\n  margin-bottom: 8px;\n  line-height: 1.4;\n}\n\n.intel-meta {\n  display: flex;\n  gap: 12px;\n  font-size: 0.75em;\n}\n\n.intel-value {\n  color: var(--accent-gold);\n}\n\n.intel-risk {\n  color: var(--accent-red);\n}\n</style>\n","<template>\n  <section class=\"section\">\n    <h2 class=\"section-title\">üìñ Ê≠£ÊñáÂâßÊÉÖ üìñ</h2>\n    <div class=\"content-text\">\n      <template v-for=\"seg in segments\" :key=\"seg.key\">\n        <img\n          v-if=\"seg.isImage\"\n          :src=\"seg.imageUrl\"\n          :alt=\"seg.altText\"\n          class=\"story-image\"\n          @load=\"scheduleResize\"\n          @error=\"scheduleResize\"\n        />\n        <table v-else-if=\"seg.isTable\" class=\"markdown-table\">\n          <thead>\n            <tr>\n              <th v-for=\"(header, idx) in seg.tableHeaders\" :key=\"idx\">{{ header }}</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(row, rowIdx) in seg.tableRows\" :key=\"rowIdx\">\n              <!-- eslint-disable-next-line vue/no-v-html -->\n              <td v-for=\"(cell, cellIdx) in row\" :key=\"cellIdx\" v-html=\"formatTableCell(cell)\"></td>\n            </tr>\n          </tbody>\n        </table>\n        <div v-else-if=\"seg.isSystem\" class=\"system-message\">\n          <pre>{{ seg.text }}</pre>\n        </div>\n        <pre v-else-if=\"seg.className === 'image-prompt'\" class=\"image-prompt\">{{ seg.text }}</pre>\n        <span v-else :class=\"seg.className\">{{ seg.text }}</span>\n      </template>\n    </div>\n  </section>\n</template>\n\n<script setup lang=\"ts\">\ntype Segment = {\n  key: string;\n  text?: string;\n  className?: string;\n  isImage?: boolean;\n  imageUrl?: string;\n  altText?: string;\n  isTable?: boolean;\n  tableHeaders?: string[];\n  tableRows?: string[][];\n  isSystem?: boolean;\n};\n\nconst props = defineProps<{\n  content: string;\n}>();\n\nconst segments = computed<Segment[]>(() => {\n  const rawText = props.content ?? '';\n  const text = normalizeStoryText(rawText);\n  if (!text.trim()) {\n    return [{ key: 'empty', text: '(ÊöÇÊó†Ê≠£Êñá)' }];\n  }\n\n  return buildSegments(text);\n});\n\nlet __resizeScheduled = false;\nfunction scheduleResize() {\n  if (__resizeScheduled) return;\n  __resizeScheduled = true;\n  requestAnimationFrame(() => {\n    __resizeScheduled = false;\n    window.dispatchEvent(new Event('resize'));\n  });\n}\n\nfunction normalizeStoryText(raw: string): string {\n  // 1) ÈöêËóèÁªòÂõæÊÄùÁª¥Èìæ\n  // 2) ÈöêËóè <image> ÂåÖË£πÊ†áÁ≠æÔºå‰ΩÜ‰øùÁïôÂÖ∂‰∏≠ÁöÑ image###...### ‰æõÁîüÂõæÊèí‰ª∂ÊèêÂèñ\n  // 3) ÂΩí‰∏ÄÂåñÁ©∫ÁôΩË°åÔºåÂáèÂ∞ëÂõæÁâá/ÊèêÁ§∫ËØçÂâçÂêéÁöÑ‚ÄúË¢´Âä®ÊãâÈ´ò‚Äù\n  return raw\n    .replace(/\\r\\n/g, '\\n')\n    .replace(/<imgthink>[\\s\\S]*?<\\/imgthink>/gi, '')\n    .replace(/<\\/?image(?:\\s[^>]*)?>/gi, '')\n    .replace(/\\n{3,}/g, '\\n\\n');\n}\n\ntype TableBlock = {\n  start: number;\n  end: number;\n  headers: string[];\n  rows: string[][];\n};\n\nfunction buildSegments(text: string): Segment[] {\n  // Á≥ªÁªüÊ∂àÊÅØÂùóÔºö>>> content <<<ÔºàÂèØÂ∏¶ **Ôºâ\n  const systemBlockRe = /\\*{0,2}>>>([\\s\\S]*?)<<<\\*{0,2}/g;\n  // ÂõæÁâáÊèêÁ§∫ËØçÂùóÔºöimage###prompt###Ôºà‰øùÁïô‰æõÊèí‰ª∂ÊèêÂèñÔºâ\n  const imagePromptRe = /image###([\\s\\S]*?)###/g;\n  // markdown ÂõæÁâáÔºö![](url)\n  const mdImageRe = /!\\[(.*?)\\]\\((.*?)\\)/g;\n  // ÂçïË°åÁ≥ªÁªüÊèêÁ§∫Ôºö‰ºäÁî∏Ôºö... / Á≥ªÁªüÔºö... / System: ...\n  const systemLineRe = /^(?:‰ºäÁî∏|Á≥ªÁªü|System)[Ôºö:].*$/gm;\n\n  const out: Segment[] = [];\n  let cursor = 0;\n  let segId = 0;\n\n  const pushInline = (chunk: string) => {\n    const normalized = normalizeInlineChunk(chunk);\n    if (!normalized) return;\n    for (const seg of splitInline(normalized, () => `t${segId++}`)) out.push(seg);\n  };\n\n  while (cursor < text.length) {\n    const nextTable = findNextTable(text, cursor);\n    const nextSystemBlock = execFrom(systemBlockRe, text, cursor);\n    const nextImagePrompt = execFrom(imagePromptRe, text, cursor);\n    const nextMdImage = execFrom(mdImageRe, text, cursor);\n    const nextSystemLine = execFrom(systemLineRe, text, cursor);\n\n    const candidates: Array<\n      | { kind: 'table'; start: number; end: number; table: TableBlock }\n      | { kind: 'systemBlock'; start: number; end: number; content: string }\n      | { kind: 'imagePrompt'; start: number; end: number; raw: string }\n      | { kind: 'mdImage'; start: number; end: number; alt: string; url: string }\n      | { kind: 'systemLine'; start: number; end: number; content: string }\n    > = [];\n\n    if (nextTable) candidates.push({ kind: 'table', start: nextTable.start, end: nextTable.end, table: nextTable });\n    if (nextSystemBlock)\n      candidates.push({\n        kind: 'systemBlock',\n        start: nextSystemBlock.index ?? 0,\n        end: (nextSystemBlock.index ?? 0) + nextSystemBlock[0].length,\n        content: nextSystemBlock[1] ?? '',\n      });\n    if (nextImagePrompt)\n      candidates.push({\n        kind: 'imagePrompt',\n        start: nextImagePrompt.index ?? 0,\n        end: (nextImagePrompt.index ?? 0) + nextImagePrompt[0].length,\n        raw: nextImagePrompt[0],\n      });\n    if (nextMdImage)\n      candidates.push({\n        kind: 'mdImage',\n        start: nextMdImage.index ?? 0,\n        end: (nextMdImage.index ?? 0) + nextMdImage[0].length,\n        alt: nextMdImage[1] ?? '',\n        url: nextMdImage[2] ?? '',\n      });\n    if (nextSystemLine)\n      candidates.push({\n        kind: 'systemLine',\n        start: nextSystemLine.index ?? 0,\n        end: (nextSystemLine.index ?? 0) + nextSystemLine[0].length,\n        content: nextSystemLine[0] ?? '',\n      });\n\n    if (candidates.length === 0) {\n      pushInline(text.slice(cursor));\n      break;\n    }\n\n    // ÈÄâÊã©ÊúÄÈù†ÂâçÁöÑÂùóÔºõÂêå‰ΩçÁΩÆÊó∂Êåâ‰ºòÂÖàÁ∫ßÔºötable > systemBlock > imagePrompt > mdImage > systemLine\n    const priority: Record<string, number> = { table: 1, systemBlock: 2, imagePrompt: 3, mdImage: 4, systemLine: 5 };\n    candidates.sort((a, b) => (a.start !== b.start ? a.start - b.start : priority[a.kind] - priority[b.kind]));\n    const pick = candidates[0];\n\n    if (pick.start > cursor) {\n      pushInline(text.slice(cursor, pick.start));\n    }\n\n    if (pick.kind === 'table') {\n      out.push({\n        key: `table${segId++}`,\n        isTable: true,\n        tableHeaders: pick.table.headers,\n        tableRows: pick.table.rows,\n      });\n    } else if (pick.kind === 'systemBlock') {\n      out.push({\n        key: `system${segId++}`,\n        isSystem: true,\n        className: 'system-message',\n        text: pick.content.trim(),\n      });\n    } else if (pick.kind === 'imagePrompt') {\n      out.push({\n        key: `imgprompt${segId++}`,\n        className: 'image-prompt',\n        text: pick.raw,\n      });\n    } else if (pick.kind === 'mdImage') {\n      out.push({\n        key: `img${segId++}`,\n        isImage: true,\n        imageUrl: pick.url,\n        altText: pick.alt,\n        text: pick.url,\n      });\n    } else if (pick.kind === 'systemLine') {\n      out.push({\n        key: `system${segId++}`,\n        isSystem: true,\n        className: 'system-message',\n        text: pick.content.trim(),\n      });\n    }\n\n    cursor = Math.max(cursor, pick.end);\n  }\n\n  return out.length ? out : [{ key: 'empty', text: '(ÊöÇÊó†Ê≠£Êñá)' }];\n}\n\nfunction normalizeInlineChunk(chunk: string): string {\n  // Êî∂ÊïõÂùó‰∏éÂùó‰πãÈó¥ÁöÑÁ©∫ÁôΩÔºàÂ∞§ÂÖ∂ÊòØÁîüÂõæÁªìÊûúÊèíÂÖ•ÂêéÂ∏∏Âá∫Áé∞ÁöÑÂ§ö‰ΩôÁ©∫Ë°åÔºâ\n  const normalized = chunk.replace(/[ \\t]+\\n/g, '\\n').replace(/\\n{3,}/g, '\\n\\n');\n  if (!normalized.trim()) return '';\n  return normalized;\n}\n\nfunction execFrom(re: RegExp, text: string, from: number): RegExpExecArray | null {\n  re.lastIndex = from;\n  return re.exec(text);\n}\n\nfunction splitInline(chunk: string, nextKey: () => string): Segment[] {\n  if (!chunk) return [];\n\n  // ÈúÄÊ±ÇÔºö‰ªÖ‰øùÁïô„Äê„ÄëÈ´ò‰∫ÆÔºõÊâÄÊúâ‰∏≠Ëã±ÊñáÂºïÂè∑/ÂçïÂºïÂè∑ÈÉΩ‰Ωú‰∏∫ÂØπËØùÈ´ò‰∫Æ\n  const inlineRe = /„Äê[^„Äë\\n]+„Äë|‚Äú[^‚Äù\\n]+‚Äù|‚Äò[^‚Äô\\n]+‚Äô|\"[^\"\\n]+\"|'[^'\\n]+'/g;\n  const parts: Segment[] = [];\n  let cursor = 0;\n\n  for (const m of chunk.matchAll(inlineRe)) {\n    const start = m.index ?? 0;\n    const raw = m[0] ?? '';\n    if (start > cursor) {\n      parts.push({ key: nextKey(), text: chunk.slice(cursor, start) });\n    }\n\n    const isBracket = raw.startsWith('„Äê');\n    parts.push({ key: nextKey(), text: raw, className: isBracket ? 'inline-bracket' : 'dialog-text' });\n    cursor = start + raw.length;\n  }\n\n  if (cursor < chunk.length) {\n    parts.push({ key: nextKey(), text: chunk.slice(cursor) });\n  }\n\n  return parts;\n}\n\nfunction findNextTable(text: string, from: number): TableBlock | null {\n  // ‰ªé from ‰πãÂêéÁöÑ‰∏ã‰∏ÄË°åÂºÄÂßãÊâæÔºåÈÅøÂÖç‰ªéË°å‰∏≠Èó¥ËØØÂà§\n  let i = text.lastIndexOf('\\n', Math.max(0, from - 1)) + 1;\n  if (i < from) {\n    const nl = text.indexOf('\\n', from);\n    if (nl === -1) return null;\n    i = nl + 1;\n  }\n\n  while (i < text.length) {\n    const lineEnd = text.indexOf('\\n', i);\n    const end = lineEnd === -1 ? text.length : lineEnd;\n    const line = text.slice(i, end);\n    const trimmed = line.trim();\n\n    if (trimmed.startsWith('|')) {\n      const headerLine = trimmed;\n\n      // ‰∏ã‰∏ÄË°åÂøÖÈ°ªÊòØÂàÜÈöîË°å\n      const nextLineStart = end + 1;\n      if (nextLineStart >= text.length) return null;\n      const nextLineEnd = text.indexOf('\\n', nextLineStart);\n      const nextEnd = nextLineEnd === -1 ? text.length : nextLineEnd;\n      const delimiterLine = text.slice(nextLineStart, nextEnd).trim();\n\n      if (isMarkdownTableDelimiter(delimiterLine)) {\n        const headers = splitMarkdownTableRow(headerLine);\n        const rows: string[][] = [];\n\n        let rowStart = nextEnd + 1;\n        let tableEnd = nextEnd;\n        while (rowStart < text.length) {\n          const rowLineEnd = text.indexOf('\\n', rowStart);\n          const rowEnd = rowLineEnd === -1 ? text.length : rowLineEnd;\n          const rowLine = text.slice(rowStart, rowEnd);\n          const rowTrimmed = rowLine.trim();\n\n          if (!rowTrimmed.startsWith('|')) break;\n\n          const cells = splitMarkdownTableRow(rowTrimmed);\n          rows.push(normalizeRowCells(cells, headers.length));\n          tableEnd = rowEnd;\n          rowStart = rowEnd + 1;\n        }\n\n        if (headers.length >= 2) {\n          return {\n            start: i,\n            end: tableEnd,\n            headers,\n            rows: rows.length ? rows : [normalizeRowCells([], headers.length)],\n          };\n        }\n      }\n    }\n\n    i = end + 1;\n  }\n\n  return null;\n}\n\nfunction isMarkdownTableDelimiter(line: string): boolean {\n  // | --- | :---: | ---: | Á≠â\n  return /^\\s*\\|?\\s*:?-{3,}:?\\s*(\\|\\s*:?-{3,}:?\\s*)+\\|?\\s*$/.test(line);\n}\n\nfunction splitMarkdownTableRow(row: string): string[] {\n  let s = row.trim();\n  if (s.startsWith('|')) s = s.slice(1);\n  if (s.endsWith('|')) s = s.slice(0, -1);\n\n  const cells: string[] = [];\n  let buf = '';\n  let escaped = false;\n\n  for (let idx = 0; idx < s.length; idx++) {\n    const ch = s[idx];\n    if (escaped) {\n      buf += ch;\n      escaped = false;\n      continue;\n    }\n    if (ch === '\\\\') {\n      escaped = true;\n      continue;\n    }\n    if (ch === '|') {\n      cells.push(buf.trim());\n      buf = '';\n      continue;\n    }\n    buf += ch;\n  }\n\n  cells.push(buf.trim());\n  return cells;\n}\n\nfunction normalizeRowCells(cells: string[], width: number): string[] {\n  const out = cells.slice(0, width);\n  while (out.length < width) out.push('');\n  return out;\n}\n\n// Ê†ºÂºèÂåñË°®Ê†ºÂçïÂÖÉÊ†ºÔºàÊîØÊåÅÁ≤ó‰Ωì„ÄÅÊñú‰ΩìÁ≠âÔºâ- ÂÆâÂÖ®Â§ÑÁêÜÈò≤Ê≠¢ XSS\nfunction formatTableCell(cell: string): string {\n  // ÂÖàËΩ¨‰πâ HTML ÁâπÊÆäÂ≠óÁ¨¶\n  const safe = cell.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\n  // ÂÜçÂ§ÑÁêÜÊîØÊåÅÁöÑÊ†ºÂºè\n  return safe\n    .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n    .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n    .replace(/„Äê([^„Äë\\n]+)„Äë/g, '<span class=\"inline-bracket\">„Äê$1„Äë</span>')\n    .replace(/‚Äú([^‚Äù\\n]+)‚Äù/g, '<span class=\"dialog-text\">‚Äú$1‚Äù</span>')\n    .replace(/‚Äò([^‚Äô\\n]+)‚Äô/g, '<span class=\"dialog-text\">‚Äò$1‚Äô</span>')\n    .replace(/\"([^\"\\n]+)\"/g, '<span class=\"dialog-text\">\"$1\"</span>')\n    .replace(/'([^'\\n]+)'/g, '<span class=\"dialog-text\">\\'$1\\'</span>');\n}\n</script>\n\n<style scoped>\n.markdown-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin: 12px 0;\n  font-size: 0.9em;\n  background-color: var(--bg-medium);\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n.markdown-table th,\n.markdown-table td {\n  padding: 10px 12px;\n  text-align: left;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.markdown-table th {\n  background-color: var(--bg-dark);\n  color: var(--accent-gold);\n  font-weight: bold;\n  font-size: 0.85em;\n}\n\n.markdown-table td {\n  color: var(--text-color);\n  line-height: 1.5;\n}\n\n.markdown-table td :deep(strong) {\n  color: var(--text-strong);\n}\n\n.markdown-table td :deep(em) {\n  color: var(--accent-blue);\n}\n\n.markdown-table td :deep(.inline-bracket) {\n  color: var(--accent-blue);\n  font-weight: 600;\n}\n\n.markdown-table tr:last-child td {\n  border-bottom: none;\n}\n\n.markdown-table tbody tr:hover {\n  background-color: rgba(255, 255, 255, 0.03);\n}\n\n/* Á≥ªÁªüÊ∂àÊÅØÊ†∑ÂºèÔºà‰ºäÁî∏ÔºöÊ∂àÊÅØ„ÄÅ>>> Ê∂àÊÅØ <<<Ôºâ */\n.system-message {\n  background-color: rgba(0, 180, 216, 0.1);\n  border: 1px solid rgba(0, 180, 216, 0.4);\n  border-radius: 8px;\n  padding: 12px 16px;\n  margin: 12px 0;\n  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\n  font-size: 0.9em;\n  line-height: 1.6;\n  color: var(--accent-cyan, #00b4d8);\n  overflow-x: auto;\n}\n\n.system-message pre {\n  margin: 0;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n\n/* „ÄêÁ≥ªÁªü„ÄëÊ∂àÊÅØÊ†∑Âºè - ÈªÑËâ≤ */\n.system-hint {\n  color: var(--accent-gold, #f1fa8c);\n  font-weight: 500;\n}\n\n/* „ÄêËßíËâ≤Âêç„ÄëÊ†∑Âºè - ËìùËâ≤È´ò‰∫Æ */\n.character-name {\n  color: var(--accent-blue, #bd93f9);\n  font-weight: 600;\n}\n\n/* ÂõæÁâáÊèêÁ§∫ËØçÊ†∑Âºè - ‰ª£Á†ÅÂùóÂΩ¢Âºè‰øùÁïô‰æõÊèí‰ª∂ÊèêÂèñ */\n.image-prompt {\n  display: block;\n  background-color: rgba(255, 255, 255, 0.05);\n  border: 1px dashed rgba(255, 255, 255, 0.2);\n  border-radius: 4px;\n  padding: 8px 12px;\n  margin: 8px 0;\n  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\n  font-size: 0.85em;\n  color: var(--accent-gold);\n  overflow-x: auto;\n}\n\n.inline-bracket {\n  color: var(--accent-blue, #bd93f9);\n  font-weight: 600;\n}\n</style>\n","/* Êú´Êó•‰ºäÁî∏Âõ≠Áä∂ÊÄÅÊ†èÔºàiframe ÂâçÁ´ØÁïåÈù¢ÔºâÂÖ®Â±ÄÊ†∑Âºè */\n:root {\n  --bg-main: #1a1b26;\n  --bg-light: #282a36;\n  --bg-medium: #44475a;\n  --bg-dark: #13141b;\n  --border-color: #8be9fd;\n  --border-shadow-color: #b3f2ff;\n  --text-color: #f8f8f2;\n  --text-strong: #ffffff;\n  --dialog-color: #50fa7b;\n  --thought-color: #ff79c6;\n  --accent-gold: #f1fa8c;\n  --accent-red: #ff5555;\n  --accent-blue: #bd93f9;\n  --accent-cyan: #00b4d8;\n  --health-bar-color: #50fa7b;\n  --border-radius: 12px;\n  --section-gap: 16px;\n  --inner-padding: 18px;\n  --transition-speed: 0.3s;\n  --font-main:\n    'Microsoft YaHei', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n}\n\n:root[data-theme='jade_green'] {\n  --bg-main: #f0f8f8;\n  --bg-light: #ffffff;\n  --bg-medium: #e0f0e0;\n  --bg-dark: #d0e0d0;\n  --border-color: #20b2aa;\n  --border-shadow-color: #a7dbd8;\n  --text-color: #333333;\n  --text-strong: #000000;\n  --dialog-color: #1e90ff;\n  --thought-color: #6a5acd;\n  --accent-gold: #ffa500;\n  --accent-red: #dc143c;\n  --accent-blue: #4682b4;\n  --accent-cyan: #00b4d8;\n  --health-bar-color: #28a745;\n}\n\n:root[data-theme='parchment'] {\n  --bg-main: #efe3c3;\n  --bg-light: #e8d9b0;\n  --bg-medium: #c3a56e;\n  --bg-dark: #6c4a24;\n  --border-color: #8a6642;\n  --border-shadow-color: #5a3a28;\n  --text-color: #3a2d1f;\n  --text-strong: #000000;\n  --dialog-color: #1e3a8a;\n  --thought-color: #8b0000;\n  --accent-gold: #c19a49;\n  --accent-red: #8b3a3a;\n  --accent-blue: #2c4875;\n  --accent-cyan: #008b8b;\n  --health-bar-color: #d2691e;\n}\n\n:root[data-theme='milky'] {\n  --bg-main: #f5f5f5;\n  --bg-medium: #e8e8e8;\n  --bg-light: #ffffff;\n  --bg-dark: #dcdcdc;\n  --border-color: #79a07b;\n  --border-shadow-color: #c0c0c0;\n  --text-color: #4a4a4a;\n  --text-strong: #000000;\n  --dialog-color: #4682b4;\n  --thought-color: #6a5acd;\n  --accent-gold: #d2b48c;\n  --accent-red: #cd5c5c;\n  --accent-blue: #5f9ea0;\n  --accent-cyan: #20b2aa;\n  --health-bar-color: #8fbc8f;\n}\n\n* {\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: var(--font-main);\n  margin: 0;\n  padding: 8px;\n  background-color: transparent;\n  color: var(--text-color);\n  line-height: 1.7;\n}\n\nmain {\n  font-size: var(--font-size-main, 16px);\n  border: 1px solid var(--border-color);\n  box-shadow:\n    0 0 25px 0px var(--border-shadow-color),\n    inset 0 0 15px rgba(255, 255, 255, 0.05);\n  background-color: var(--bg-main);\n  padding: 20px;\n  border-radius: var(--border-radius);\n  max-width: 900px;\n  margin: 10px auto;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: var(--section-gap);\n}\n\n.section {\n  background-color: var(--bg-light);\n  padding: var(--inner-padding);\n  border-radius: var(--border-radius);\n  border: 1px solid rgba(200, 200, 220, 0.1);\n  position: relative;\n}\n\n.section-title {\n  font-size: 1.25em;\n  font-weight: bold;\n  color: var(--text-strong);\n  text-align: center;\n  margin: 0 0 16px 0;\n  border-bottom: 2px solid var(--border-color);\n  padding-bottom: 10px;\n}\n\n.choices-title {\n  text-align: left;\n  border-bottom: none;\n  padding-bottom: 0;\n}\n\n.global-info-bar {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 8px;\n}\n\n.info-item {\n  padding: 4px 10px;\n  border-radius: 8px;\n  background-color: var(--bg-medium);\n  font-size: 0.9em;\n  width: 100%;\n  white-space: normal;\n}\n\n.info-item--location {\n  color: var(--accent-blue);\n}\n\n.info-item--date {\n  color: var(--accent-gold);\n}\n\n.info-item--time {\n  color: var(--accent-red);\n}\n\n.content-text {\n  white-space: pre-line;\n  word-break: break-word;\n}\n\n.dialog-text {\n  color: var(--dialog-color);\n  font-weight: 500;\n}\n\n.thought-text {\n  color: var(--thought-color);\n  font-style: italic;\n}\n\n.system-text {\n  color: var(--accent-gold);\n  font-weight: bold;\n  text-shadow: 0 0 5px rgba(241, 250, 140, 0.3);\n  display: inline-block;\n  margin: 4px 0;\n}\n\n.eden-text {\n  color: #00ffff; /* ËµõÂçöÈùí */\n  font-family: 'Courier New', monospace;\n  background: rgba(0, 255, 255, 0.1);\n  padding: 2px 6px;\n  border-radius: 4px;\n  border-left: 2px solid #00ffff;\n  display: block; /* Áã¨Âç†‰∏ÄË°å */\n  margin: 6px 0;\n}\n\n.story-image {\n  max-width: 100%;\n  height: auto;\n  border-radius: 8px;\n  margin: 10px 0;\n  display: block;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);\n}\n\n.shelter-grid {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 12px;\n}\n\n.shelter-item .label {\n  font-size: 0.9em;\n  color: var(--text-color);\n  opacity: 0.8;\n  margin-bottom: 6px;\n}\n\n.shelter-item .value {\n  font-size: 1.05em;\n  color: var(--text-strong);\n  white-space: pre-line;\n  word-break: break-word;\n}\n\n.ability-list {\n  max-height: 280px;\n  overflow-y: auto;\n  padding: 10px;\n  background-color: var(--bg-dark);\n  border-radius: 8px;\n}\n\n.ability-card {\n  background-color: var(--bg-medium);\n  padding: 12px;\n  border-radius: 6px;\n  margin-bottom: 8px;\n}\n\n.ability-card .name {\n  font-weight: bold;\n  color: var(--border-color);\n  margin-bottom: 4px;\n}\n\n.ability-card .desc {\n  font-size: 0.85em;\n  opacity: 0.9;\n  line-height: 1.4;\n  white-space: pre-line;\n}\n\n.status-tabs-container {\n  background-color: var(--bg-main);\n  border-radius: var(--border-radius);\n  padding: 10px;\n}\n\n.tab-buttons {\n  display: flex;\n  flex-wrap: nowrap;\n  gap: 8px;\n  margin-bottom: 10px;\n  overflow-x: auto;\n  padding-bottom: 8px;\n}\n\n.tab-button {\n  background-color: var(--bg-medium);\n  color: var(--text-color);\n  padding: 8px 12px;\n  border-radius: 8px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  cursor: pointer;\n  font-size: 0.9em;\n  white-space: nowrap;\n  transition: all var(--transition-speed);\n}\n\n.tab-button:hover {\n  background-color: var(--border-color);\n  color: var(--bg-dark);\n}\n\n.tab-button.active {\n  background-color: var(--border-color);\n  color: var(--bg-dark);\n  font-weight: bold;\n  box-shadow: 0 0 10px rgba(139, 233, 253, 0.4);\n}\n\n.tab-content {\n  display: none;\n  animation: fadeEffect var(--transition-speed);\n}\n\n.tab-content.active {\n  display: block;\n}\n\n@keyframes fadeEffect {\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n}\n\n.status-grid {\n  display: flex;\n  flex-direction: column;\n  gap: 14px;\n}\n\n.status-item {\n  background-color: var(--bg-light);\n  padding: 12px;\n  border-radius: 10px;\n  border: 1px solid rgba(255, 255, 255, 0.05);\n}\n\n.status-item .label {\n  font-weight: bold;\n  color: var(--accent-blue);\n  margin-bottom: 6px;\n  font-size: 0.95em;\n}\n\n.status-item .value {\n  color: var(--text-strong);\n  white-space: pre-line;\n  word-break: break-word;\n}\n\n.health-section-header {\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  gap: 10px;\n}\n\n.health-status-subtext {\n  font-size: 0.85em;\n  opacity: 0.85;\n  margin: 4px 0 10px 0;\n  color: var(--accent-gold);\n}\n\n.value-subtext {\n  font-size: 0.85em;\n  opacity: 0.9;\n  margin-top: 8px;\n  color: var(--accent-red);\n  white-space: pre-line;\n}\n\n.progress-bar-container {\n  width: 100%;\n  height: 12px;\n  background-color: var(--bg-dark);\n  border-radius: 6px;\n  overflow: hidden;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.progress-bar-value {\n  height: 100%;\n  width: 0%;\n  background-color: var(--health-bar-color);\n  border-radius: 6px;\n  transition: width var(--transition-speed);\n}\n\n.details-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 12px;\n}\n\n.other-residents-item {\n  padding: 10px;\n  border-radius: 8px;\n  background-color: var(--bg-medium);\n  margin-bottom: 10px;\n}\n\n.other-residents-item .label {\n  font-weight: bold;\n  color: var(--accent-blue);\n  margin-bottom: 4px;\n}\n\n.other-residents-item .value {\n  white-space: pre-line;\n  word-break: break-word;\n}\n\n.choice-item {\n  width: 100%;\n  text-align: left;\n  background-color: var(--bg-medium);\n  padding: 10px;\n  border-radius: 8px;\n  margin-bottom: 8px;\n  cursor: pointer;\n  transition: all var(--transition-speed);\n  border: 0;\n  color: inherit;\n  font: inherit;\n}\n\n.choice-item:hover {\n  background-color: var(--border-color);\n  color: var(--bg-dark);\n}\n\n.palette-button {\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  width: 38px;\n  height: 38px;\n  border-radius: 50%;\n  border: 1px solid var(--border-color);\n  background: var(--bg-medium);\n  color: var(--text-color);\n  cursor: pointer;\n  font-size: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all var(--transition-speed);\n}\n\n.palette-button:hover {\n  background: var(--border-color);\n  color: var(--bg-dark);\n}\n\n.palette-modal {\n  position: absolute;\n  top: 60px;\n  right: 16px;\n  width: 260px;\n  background: var(--bg-light);\n  border: 1px solid var(--border-color);\n  border-radius: 10px;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);\n  padding: 14px;\n  display: none;\n  z-index: 50;\n}\n\n.palette-modal.show {\n  display: block;\n}\n\n.palette-modal h3 {\n  margin: 0 0 10px 0;\n  font-size: 1em;\n  color: var(--text-strong);\n}\n\n.palette-option {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n}\n\n.palette-option label {\n  font-size: 0.85em;\n  color: var(--text-color);\n}\n\n.palette-option select {\n  width: 120px;\n  padding: 4px;\n  border-radius: 6px;\n  border: 1px solid rgba(255, 255, 255, 0.15);\n  background: var(--bg-medium);\n  color: var(--text-color);\n}\n\n.palette-buttons {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.palette-buttons button {\n  padding: 6px 10px;\n  border-radius: 8px;\n  border: none;\n  background: var(--border-color);\n  color: var(--bg-dark);\n  cursor: pointer;\n  font-weight: bold;\n}\n\n.palette-buttons button:hover {\n  background: var(--border-shadow-color);\n}\n\n.ability-list::-webkit-scrollbar {\n  width: 8px;\n}\n\n.ability-list::-webkit-scrollbar-track {\n  background: var(--bg-dark);\n  border-radius: 4px;\n}\n\n.ability-list::-webkit-scrollbar-thumb {\n  background-color: var(--border-color);\n  border-radius: 4px;\n  border: 2px solid var(--bg-dark);\n}\n\n.ability-list::-webkit-scrollbar-thumb:hover {\n  background-color: var(--border-shadow-color);\n}\n\n.expansion-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.expansion-card {\n  background-color: var(--bg-dark);\n  padding: 10px;\n  border-radius: 8px;\n  text-align: center;\n  border: 1px solid rgba(255, 255, 255, 0.05);\n  opacity: 0.5;\n  transition: all var(--transition-speed);\n}\n\n.expansion-card.unlocked {\n  opacity: 1;\n  border-color: var(--border-color);\n  box-shadow: 0 0 10px rgba(139, 233, 253, 0.1);\n  background-color: var(--bg-medium);\n}\n\n.expansion-card .name {\n  font-size: 0.9em;\n  font-weight: bold;\n  color: var(--text-color);\n  margin-bottom: 4px;\n}\n\n.expansion-card.unlocked .name {\n  color: var(--accent-gold);\n}\n\n.expansion-card .status {\n  font-size: 0.8em;\n  color: var(--accent-red);\n}\n\n.expansion-card.unlocked .status {\n  color: var(--dialog-color);\n}\n\n@media (max-width: 600px) {\n  .details-grid {\n    grid-template-columns: 1fr;\n  }\n\n  main {\n    padding: 12px;\n    margin: 5px auto;\n    font-size: var(--font-size-main, 14px);\n  }\n\n  .tab-button {\n    padding: 6px 10px;\n    font-size: 0.85em;\n  }\n}\n\n/* ===== ÊäòÂè†ÊåâÈíÆÊ†∑Âºè ===== */\n.map-toggle-btn,\n.collapse-toggle-btn {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  width: 100%;\n  padding: 10px 14px;\n  background-color: var(--bg-medium);\n  border: 1px solid var(--border-color);\n  border-radius: 8px;\n  color: var(--text-color);\n  cursor: pointer;\n  font-size: 0.95em;\n  transition: all var(--transition-speed);\n  margin-bottom: 8px;\n}\n\n.map-toggle-btn:hover,\n.collapse-toggle-btn:hover {\n  background-color: var(--border-color);\n  color: var(--bg-dark);\n}\n\n.toggle-icon {\n  font-size: 0.8em;\n  transition: transform var(--transition-speed);\n}\n\n.toggle-text {\n  flex: 1;\n  text-align: left;\n}\n\n.map-container {\n  animation: slideDown var(--transition-speed);\n}\n\n@keyframes slideDown {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.map-zone {\n  margin-bottom: 16px;\n  padding: 12px;\n  background-color: var(--bg-dark);\n  border-radius: 10px;\n  border: 1px solid rgba(255, 255, 255, 0.05);\n}\n\n.zone-label {\n  font-weight: bold;\n  color: var(--accent-gold);\n  margin-bottom: 10px;\n  font-size: 0.95em;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.floor-indicator {\n  text-align: center;\n  font-size: 0.8em;\n  color: var(--text-color);\n  opacity: 0.6;\n  margin: 8px 0;\n  padding: 4px;\n  border-top: 1px dashed rgba(255, 255, 255, 0.1);\n  border-bottom: 1px dashed rgba(255, 255, 255, 0.1);\n}\n\n.room-grid {\n  display: grid;\n  gap: 6px;\n}\n\n.entrance-grid {\n  grid-template-columns: repeat(3, 1fr);\n}\n\n.core-grid {\n  grid-template-columns: repeat(2, 1fr);\n}\n\n.floor-grid {\n  grid-template-columns: repeat(6, 1fr);\n}\n\n.expansion-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 8px;\n}\n\n.room-cell {\n  background-color: var(--bg-medium);\n  padding: 8px 6px;\n  border-radius: 6px;\n  text-align: center;\n  border: 1px solid rgba(255, 255, 255, 0.05);\n  transition: all var(--transition-speed);\n  min-height: 56px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.room-cell:hover {\n  border-color: var(--border-color);\n  box-shadow: 0 0 8px rgba(139, 233, 253, 0.2);\n}\n\n.room-cell.highlight {\n  background-color: var(--bg-light);\n  border-color: var(--border-color);\n  box-shadow: 0 0 10px rgba(139, 233, 253, 0.15);\n}\n\n.room-cell.user-room {\n  border-color: var(--accent-gold);\n  background-color: rgba(241, 250, 140, 0.1);\n}\n\n.room-cell.user-room .room-number {\n  color: var(--accent-gold);\n}\n\n.room-cell.occupied {\n  border-color: var(--dialog-color);\n  background-color: rgba(80, 250, 123, 0.08);\n}\n\n.room-cell.occupied .room-value {\n  color: var(--dialog-color);\n}\n\n.room-number {\n  font-size: 0.8em;\n  font-weight: bold;\n  color: var(--text-strong);\n  margin-bottom: 4px;\n}\n\n.room-value {\n  font-size: 0.75em;\n  color: var(--accent-blue);\n  margin-bottom: 2px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.room-resident {\n  font-size: 0.7em;\n  color: var(--text-color);\n  opacity: 0.8;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.expansion-cell {\n  background-color: var(--bg-medium);\n  padding: 10px 8px;\n  border-radius: 8px;\n  text-align: center;\n  border: 1px dashed rgba(255, 255, 255, 0.1);\n  opacity: 0.5;\n  transition: all var(--transition-speed);\n}\n\n.expansion-cell.unlocked {\n  opacity: 1;\n  border-style: solid;\n  border-color: var(--border-color);\n  background-color: var(--bg-light);\n}\n\n.expansion-icon {\n  font-size: 1.4em;\n  margin-bottom: 4px;\n}\n\n.expansion-name {\n  font-size: 0.85em;\n  font-weight: bold;\n  color: var(--text-color);\n  margin-bottom: 4px;\n}\n\n.expansion-status {\n  font-size: 0.7em;\n  color: var(--accent-red);\n}\n\n.expansion-cell.unlocked .expansion-status {\n  color: var(--dialog-color);\n}\n\n/* ÂìçÂ∫îÂºèË∞ÉÊï¥ */\n@media (max-width: 600px) {\n  .entrance-grid {\n    grid-template-columns: repeat(3, 1fr);\n  }\n\n  .core-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  .floor-grid {\n    grid-template-columns: repeat(4, 1fr);\n  }\n\n  .expansion-grid {\n    grid-template-columns: repeat(3, 1fr);\n  }\n\n  .room-cell {\n    min-height: 48px;\n    padding: 6px 4px;\n  }\n\n  .room-number {\n    font-size: 0.75em;\n  }\n\n  .room-resident {\n    font-size: 0.65em;\n  }\n}\n\n@media (max-width: 400px) {\n  .floor-grid {\n    grid-template-columns: repeat(3, 1fr);\n  }\n\n  .expansion-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n"],"names":[],"ignoreList":[],"sourceRoot":""}