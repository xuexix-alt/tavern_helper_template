<!doctype html><html><head><script src="https://unpkg.com/lodash@4.17.21/lodash.min.js"></script><script src="https://unpkg.com/vue@3/dist/vue.global.js"></script><script src="https://unpkg.com/zod@3.21.4/lib/zod.umd.js"></script><script type="module">import{createPinia as e,defineStore as t}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';import{useLocalStorage as n,watchDebounced as a}from'https://testingcf.jsdelivr.net/npm/@vueuse/core/+esm';var l={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},d:(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const o=Vue,s=_;var c=l.n(s);const i=z,r=i.z.object({ÂßìÂêç:i.z.string(),ÂÅ•Â∫∑:i.z.coerce.number().min(0).max(100).describe('ËåÉÂõ¥0-100„ÄÇËÆ∞ÂΩïÂÅ•Â∫∑Êï∞ÂÄº„ÄÇËé∑ÂæóÈ£üÁâ©/Ê∏©ÊöñÂ¢ûÂä†ÔºõÂèó‰º§/È••È•ø/ÂØíÂÜ∑ÂáèÂ∞ë„ÄÇ'),ÂÅ•Â∫∑Êõ¥Êñ∞ÂéüÂõ†:i.z.string().describe('ËÆ∞ÂΩïÂÅ•Â∫∑ÂÄºÂèòÂåñÁöÑÂéüÂõ†ÂíåÊï∞ÂÄºÔºåÊ†ºÂºèÔºö+/-X, ÂéüÂõ†ÊèèËø∞'),ÂÅ•Â∫∑Áä∂ÂÜµ:i.z.enum(['ÂÅ•Â∫∑','‰∫öÂÅ•Â∫∑','ÁîüÁóÖ/Âèó‰º§','ÈáçÁóÖ/ÊøíÊ≠ª','Êó†','Ê≠ª‰∫°']).describe('>=80:ÂÅ•Â∫∑; 60-79:‰∫öÂÅ•Â∫∑; 30-59:ÁîüÁóÖ/Âèó‰º§; <30:ÈáçÁóÖ/ÊøíÊ≠ª'),Ë°£ÁùÄ:i.z.string().describe('ËØ¶ÁªÜÊèèËø∞ÂΩìÂâçÁöÑË°£ÁùÄÁä∂ÊÄÅ'),ËàåÂîá:i.z.string().describe('Âè£ËÖî„ÄÅÂò¥ÂîáÁöÑÁä∂ÊÄÅ'),ËÉ∏‰π≥:i.z.string().describe('ËÉ∏ÈÉ®ÁöÑÁä∂ÊÄÅ'),ÁßÅÁ©¥:i.z.string().describe('ÁßÅÂ§ÑÁöÑËØ¶ÁªÜÁä∂ÊÄÅ'),Á•ûÊÄÅÊ†∑Ë≤å:i.z.string().describe('Èù¢ÈÉ®Ë°®ÊÉÖÂíåÁ•ûÊÄÅ'),Âä®‰ΩúÂßøÂäø:i.z.string().describe('Ë∫´‰ΩìÂßøÊÄÅÂíåÂä®‰Ωú'),ÂÜÖÂøÉÊÉ≥Ê≥ï:i.z.string().describe('Á¨¨‰∏Ä‰∫∫Áß∞ÂÜÖÂøÉÁã¨ÁôΩ'),ÁôªÂú∫Áä∂ÊÄÅ:i.z.enum(['ÁôªÂú∫','Á¶ªÂú∫']).default('Á¶ªÂú∫').describe('ÂÄº‰∏∫"ÁôªÂú∫"Êó∂ÊòæÁ§∫Âú®UI„ÄÇËßíËâ≤‰∏çÂá∫Áé∞Êó∂ËÆæ‰∏∫"Á¶ªÂú∫"')}),d=i.z.object({Âú∞ÂùÄ:i.z.string().describe('ÂΩìÂâçÊâÄÂú®ÁöÑÁâ©ÁêÜ‰ΩçÁΩÆ'),Êó•Êúü:i.z.string().describe('Ê†ºÂºèÔºöÊú´Êó•Á∫™ÂÖÉÔºåXXXXÂπ¥XXÊúàXXÊó•'),Êó∂Èó¥:i.z.string().describe('Ê†ºÂºèÔºöÊó∂Èó¥ÊÆµ - HH:MM'),Êú´Êó•Â§©Êï∞:i.z.coerce.number().describe('Ëá™‚ÄúÊ∞∏ÊÅíÊö¥Èõ™‚ÄùÈôç‰∏¥‰ª•Êù•ÁöÑÊÄªÂ§©Êï∞')}),m=i.z.object({Â∫áÊä§ÊâÄÁ≠âÁ∫ß:i.z.coerce.number().max(10),‰ªäÊó•ÊäïÊé∑ÁÇπÊï∞:i.z.string().describe('ËÆ∞ÂΩïÊØèÊó•ÂçáÁ∫ßÂà§ÂÆöÁªìÊûú'),Ë∑ùÁ¶ª‰∏äÊ¨°ÂçáÁ∫ß:i.z.string().describe('ËÆ∞ÂΩï‰øùÂ∫ïËøõÂ∫¶'),Â∫áÊä§ÊâÄËÉΩÂäõ:i.z.array(i.z.object({name:i.z.string(),desc:i.z.string()})).describe('Â∑≤ÊøÄÊ¥ªÁöÑÂ∫áÊä§ÊâÄËÉΩÂäõÂàóË°®')}),u=i.z.object({Ë®ÄËØ≠:i.z.string().describe('ÂÖ∂‰ªñÂπ∏Â≠òËÄÖÁöÑÊÄª‰ΩìË®ÄËØ≠Áä∂ÊÄÅ'),Ë°å‰∏∫:i.z.string().describe('ÂÖ∂‰ªñÂπ∏Â≠òËÄÖÁöÑÊÄª‰ΩìË°å‰∏∫Áä∂ÊÄÅ')}),p=i.z.object({‰∏ñÁïå:d,Â∫áÊä§ÊâÄ:m,ÊµÖËßÅ‰∫öÁæé:r,Áõ∏Áî∞Âì≤‰πü:r,ÊòüÈáéÁêâÁíÉ:r,Êó©Â∑ùÈÅ•:r,Êó©Â∑ùËàû:r,Ëó§‰∫ïÈõ™‰πÉ:r,‰∏≠ÊùëÊÉ†Â≠ê:r,Áà±ÂÆ´ÂøÉÁà±:r,Áà±ÂÆ´ÈìÉ:r,'Ê°É‰πê‰∏ù„ÉªÊ≥ΩÂ∑¥Âìà':r,‰ΩïÈìÉ:r,ÁéãÈùô:r,Â∫∑ÁªÆÊúà:r,ËñõËêç:r,‰∏¥Êó∂NPC:r.optional().describe('ÂΩìÊúâ‰∏¥Êó∂NPCÁôªÂú∫Êó∂‰ΩøÁî®ÔºåÁ¶ªÂú∫Êó∂ËÆæ‰∏∫undefinedÊàñÈáçÁΩÆ'),Ê•ºÂ±ÇÂÖ∂‰ªñ‰ΩèÊà∑:u}),v=t('data',errorCatched(()=>{const e=getCurrentMessageId(),t=()=>{const t=Mvu.getMvuData({type:'message',message_id:e});return p.parse(_.get(t,'stat_data',{}))},n=(0,o.ref)(t()),l=()=>{try{const e=t();_.isEqual(e,n.value)||(n.value=e)}catch{}};return eventOn(Mvu.events.VARIABLE_UPDATE_ENDED,l),eventOn(Mvu.events.VARIABLE_INITIALIZED,l),a(n,t=>{const a=p.parse(t);_.isEqual(a,t)||(n.value=a),updateVariablesWith(e=>(_.set(e,'stat_data',a),e),{type:'message',message_id:e})},{deep:!0,debounce:500}),{data:n}})),E={id:'characters-section',class:'section'},N={class:'status-tabs-container'},g={class:'tab-buttons'},V=['onClick'],h={class:'status-grid'},f={class:'status-item health-section'},b={class:'health-section-header'},y={class:'value'},k={class:'health-status-subtext'},B={class:'progress-bar-container'},S={class:'value-subtext'},D={class:'details-grid'},x={class:'status-item'},C={class:'value'},w={class:'status-item'},M={class:'value'},I={class:'status-item'},j={class:'value'},L={class:'status-item'},P={class:'value'},A={class:'status-item'},F={class:'value'},U={class:'status-item'},X={class:'value'},O={class:'status-item'},R={class:'value thought-text'},T={key:1,class:'content-text'},H=(0,o.defineComponent)({__name:'CharactersSection',setup(e){const t=['ÊµÖËßÅ‰∫öÁæé','Áõ∏Áî∞Âì≤‰πü','ÊòüÈáéÁêâÁíÉ','Êó©Â∑ùÈÅ•','Êó©Â∑ùËàû','Ëó§‰∫ïÈõ™‰πÉ','‰∏≠ÊùëÊÉ†Â≠ê','Áà±ÂÆ´ÂøÉÁà±','Áà±ÂÆ´ÈìÉ','Ê°É‰πê‰∏ù„ÉªÊ≥ΩÂ∑¥Âìà','‰ΩïÈìÉ','ÁéãÈùô','Â∫∑ÁªÆÊúà','ËñõËêç'],a=v(),l=(0,o.computed)(()=>{const e=[];return t.forEach(t=>{'ÁôªÂú∫'===a.data[t].ÁôªÂú∫Áä∂ÊÄÅ&&e.push(t)}),'ÁôªÂú∫'===a.data.‰∏¥Êó∂NPC?.ÁôªÂú∫Áä∂ÊÄÅ&&e.push('‰∏¥Êó∂NPC'),e}),s=n('eden_status_bar:active_character',null);function i(e){return'‰∏¥Êó∂NPC'===e?a.data.‰∏¥Êó∂NPC:a.data[e]}function r(e){const t=i(e)?.ÂÅ•Â∫∑;return'number'!=typeof t?0:c().clamp(t,0,100)}return(0,o.watch)(l,e=>{0!==e.length?s.value&&e.includes(s.value)||(s.value=e[0]):s.value=null},{immediate:!0}),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('section',E,[t[8]||(t[8]=(0,o.createElementVNode)('h2',{class:'section-title'},'üë§ ÁôªÂú∫ËßíËâ≤ üë§',-1)),(0,o.createElementVNode)('div',N,[(0,o.unref)(l).length>0?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createElementVNode)('div',g,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(l),e=>((0,o.openBlock)(),(0,o.createElementBlock)('button',{key:e,class:(0,o.normalizeClass)(['tab-button',{active:(0,o.unref)(s)===e}]),type:'button',onClick:t=>s.value=e},(0,o.toDisplayString)(function(e){const t=i(e);return t?.ÂßìÂêç??e}(e)),11,V))),128))]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(l),e=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:`${e}:tab`,class:(0,o.normalizeClass)(['tab-content',{active:(0,o.unref)(s)===e}])},[(0,o.createElementVNode)('div',h,[(0,o.createElementVNode)('div',f,[(0,o.createElementVNode)('div',b,[t[0]||(t[0]=(0,o.createElementVNode)('div',{class:'label'},'‚ù§Ô∏è ÂÅ•Â∫∑',-1)),(0,o.createElementVNode)('div',y,(0,o.toDisplayString)(i(e)?.ÂÅ•Â∫∑??'--'),1)]),(0,o.createElementVNode)('div',k,(0,o.toDisplayString)(i(e)?.ÂÅ•Â∫∑Áä∂ÂÜµ??'--'),1),(0,o.createElementVNode)('div',B,[(0,o.createElementVNode)('div',{class:'progress-bar-value',style:(0,o.normalizeStyle)({width:`${r(e)}%`})},null,4)]),(0,o.createElementVNode)('div',S,(0,o.toDisplayString)(i(e)?.ÂÅ•Â∫∑Êõ¥Êñ∞ÂéüÂõ†??'--'),1)]),(0,o.createElementVNode)('div',D,[(0,o.createElementVNode)('div',x,[t[1]||(t[1]=(0,o.createElementVNode)('div',{class:'label'},'üëö Ë°£ÁùÄ',-1)),(0,o.createElementVNode)('div',C,(0,o.toDisplayString)(i(e)?.Ë°£ÁùÄ??'--'),1)]),(0,o.createElementVNode)('div',w,[t[2]||(t[2]=(0,o.createElementVNode)('div',{class:'label'},'üëÖ ËàåÂîá',-1)),(0,o.createElementVNode)('div',M,(0,o.toDisplayString)(i(e)?.ËàåÂîá??'--'),1)]),(0,o.createElementVNode)('div',I,[t[3]||(t[3]=(0,o.createElementVNode)('div',{class:'label'},'üçà ËÉ∏‰π≥',-1)),(0,o.createElementVNode)('div',j,(0,o.toDisplayString)(i(e)?.ËÉ∏‰π≥??'--'),1)]),(0,o.createElementVNode)('div',L,[t[4]||(t[4]=(0,o.createElementVNode)('div',{class:'label'},'üå∏ ÁßÅÁ©¥',-1)),(0,o.createElementVNode)('div',P,(0,o.toDisplayString)(i(e)?.ÁßÅÁ©¥??'--'),1)]),(0,o.createElementVNode)('div',A,[t[5]||(t[5]=(0,o.createElementVNode)('div',{class:'label'},'üòä Á•ûÊÄÅÊ†∑Ë≤å',-1)),(0,o.createElementVNode)('div',F,(0,o.toDisplayString)(i(e)?.Á•ûÊÄÅÊ†∑Ë≤å??'--'),1)]),(0,o.createElementVNode)('div',U,[t[6]||(t[6]=(0,o.createElementVNode)('div',{class:'label'},'üíÉ Âä®‰ΩúÂßøÂäø',-1)),(0,o.createElementVNode)('div',X,(0,o.toDisplayString)(i(e)?.Âä®‰ΩúÂßøÂäø??'--'),1)])]),(0,o.createElementVNode)('div',O,[t[7]||(t[7]=(0,o.createElementVNode)('div',{class:'label'},'üí≠ ÂÜÖÂøÉÊÉ≥Ê≥ï',-1)),(0,o.createElementVNode)('div',R,(0,o.toDisplayString)(i(e)?.ÂÜÖÂøÉÊÉ≥Ê≥ï??'--'),1)])])],2))),128))],64)):((0,o.openBlock)(),(0,o.createElementBlock)('div',T,'ÊöÇÊó†ÁôªÂú∫ËßíËâ≤'))])]))}}),q={class:'section'},W=['onClick'],G={key:1,class:'choice-item',type:'button',disabled:''},K={class:'palette-option'},Y={class:'palette-option'},Z={class:'palette-option'},J={class:'palette-buttons'},Q=(0,o.defineComponent)({__name:'ChoicesSection',props:{options:{}},setup(e){const t=e,a=(0,o.ref)(!1),l=n('eden_theme','apocalypse_tech'),s=n('eden_font_key','yahei'),c=n('eden_font_size_key','16'),i=(0,o.ref)(null),r=(0,o.ref)(null);function d(){a.value=!a.value}function m(e){if(!a.value)return;const t=e.target;t&&(r.value?.contains(t)||i.value?.contains(t)||(a.value=!1))}return(0,o.watch)(l,e=>{'apocalypse_tech'!==e?document.documentElement.dataset.theme=e:delete document.documentElement.dataset.theme},{immediate:!0}),(0,o.watch)(s,e=>{const t=document.getElementById('eden-main-container');if(!t)return;const n={yahei:'"Microsoft YaHei", sans-serif',simsun:'SimSun, serif',kaiti:'KaiTi, serif'};t.style.fontFamily=n[e]||n.yahei},{immediate:!0}),(0,o.watch)(c,e=>{const t=document.getElementById('eden-main-container');t&&t.style.setProperty('--font-size-main',`${e}px`)},{immediate:!0}),(0,o.onMounted)(()=>{document.addEventListener('click',m)}),(0,o.onBeforeUnmount)(()=>{document.removeEventListener('click',m)}),(e,n)=>((0,o.openBlock)(),(0,o.createElementBlock)('section',q,[(0,o.createElementVNode)('button',{ref_key:'palette_button',ref:i,class:'palette-button',type:'button',onClick:(0,o.withModifiers)(d,['stop'])},'üé®',512),n[11]||(n[11]=(0,o.createElementVNode)('h2',{class:'section-title choices-title'},'‚öúÔ∏è Âø´ÈÄüÂâßÊÉÖ ‚öúÔ∏è',-1)),(0,o.createElementVNode)('div',null,[t.options.length>0?((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,{key:0},(0,o.renderList)(t.options,(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('button',{key:t,class:'choice-item',type:'button',onClick:t=>function(e){const t=window.triggerSlash;if('function'==typeof t)try{return void t(`/send ${e} | /trigger await=true`)}catch{return void alert(`Êåá‰ª§ÂèëÈÄÅÂ§±Ë¥•: ${e}`)}alert(`Êó†Ê≥ïËá™Âä®ÂèëÈÄÅ: ${e}`)}(e)},(0,o.toDisplayString)(e),9,W))),128)):((0,o.openBlock)(),(0,o.createElementBlock)('button',G,'ÂΩìÂâçÊó†ÈÄâÈ°πÔºåËØ∑Ëá™Áî±Ë°åÂä®...'))]),(0,o.createElementVNode)('div',{ref_key:'palette_modal',ref:r,class:(0,o.normalizeClass)(['palette-modal',{show:(0,o.unref)(a)}])},[n[10]||(n[10]=(0,o.createElementVNode)('h3',null,'ÊòæÁ§∫ËÆæÁΩÆ',-1)),(0,o.createElementVNode)('div',K,[n[5]||(n[5]=(0,o.createElementVNode)('label',null,'üé® ‰∏ªÈ¢ò',-1)),(0,o.withDirectives)((0,o.createElementVNode)('select',{'onUpdate:modelValue':n[0]||(n[0]=e=>(0,o.isRef)(l)?l.value=e:null)},[...n[4]||(n[4]=[(0,o.createElementVNode)('option',{value:'apocalypse_tech'},'Êú´Êó•ÁßëÊäÄ (ÈªòËÆ§)',-1),(0,o.createElementVNode)('option',{value:'jade_green'},'Ê∑°Áø°Áø†Áªø',-1),(0,o.createElementVNode)('option',{value:'parchment'},'Â§çÂè§ÁæäÁöÆÁ∫∏',-1),(0,o.createElementVNode)('option',{value:'milky'},'Ê∏ÖÊñ∞Â•∂ÁôΩ',-1)])],512),[[o.vModelSelect,(0,o.unref)(l)]])]),(0,o.createElementVNode)('div',Y,[n[7]||(n[7]=(0,o.createElementVNode)('label',null,'üñãÔ∏è Â≠ó‰Ωì',-1)),(0,o.withDirectives)((0,o.createElementVNode)('select',{'onUpdate:modelValue':n[1]||(n[1]=e=>(0,o.isRef)(s)?s.value=e:null)},[...n[6]||(n[6]=[(0,o.createElementVNode)('option',{value:'yahei'},'ÂæÆËΩØÈõÖÈªë (ÈªòËÆ§)',-1),(0,o.createElementVNode)('option',{value:'simsun'},'ÂÆã‰Ωì',-1),(0,o.createElementVNode)('option',{value:'kaiti'},'Ê•∑‰Ωì',-1)])],512),[[o.vModelSelect,(0,o.unref)(s)]])]),(0,o.createElementVNode)('div',Z,[n[9]||(n[9]=(0,o.createElementVNode)('label',null,'‚ÜîÔ∏è Â≠ó‰ΩìÂ§ßÂ∞è',-1)),(0,o.withDirectives)((0,o.createElementVNode)('select',{'onUpdate:modelValue':n[2]||(n[2]=e=>(0,o.isRef)(c)?c.value=e:null)},[...n[8]||(n[8]=[(0,o.createStaticVNode)('<option value="12">12px (ÊúÄÂ∞è)</option><option value="14">14px (ËæÉÂ∞è)</option><option value="15">15px (Á®çÂ∞è)</option><option value="16">16px (ÈªòËÆ§)</option><option value="18">18px (Á®çÂ§ß)</option><option value="20">20px (ËæÉÂ§ß)</option><option value="22">22px (ÂæàÂ§ß)</option><option value="24">24px (ÊúÄÂ§ß)</option>',8)])],512),[[o.vModelSelect,(0,o.unref)(c)]])]),(0,o.createElementVNode)('div',J,[(0,o.createElementVNode)('button',{class:'palette-close',type:'button',onClick:n[3]||(n[3]=e=>a.value=!1)},'ÂÖ≥Èó≠')])],2)]))}}),ee={class:'section',id:'other-residents-section'},te={class:'other-residents-item'},ne={class:'value'},ae={class:'other-residents-item'},le={class:'value'},oe=(0,o.defineComponent)({__name:'OtherResidentsSection',setup(e){const t=v();return(e,n)=>((0,o.openBlock)(),(0,o.createElementBlock)('section',ee,[n[2]||(n[2]=(0,o.createElementVNode)('h2',{class:'section-title'},'üè¢ ÂÖ∂‰ªñÊ•ºÂ±ÇÊÉÖÂÜµ üè¢',-1)),(0,o.createElementVNode)('div',te,[n[0]||(n[0]=(0,o.createElementVNode)('div',{class:'label'},'üí¨ Ê•ºÂ±ÇË®ÄËØ≠',-1)),(0,o.createElementVNode)('div',ne,(0,o.toDisplayString)((0,o.unref)(t).data.Ê•ºÂ±ÇÂÖ∂‰ªñ‰ΩèÊà∑.Ë®ÄËØ≠),1)]),(0,o.createElementVNode)('div',ae,[n[1]||(n[1]=(0,o.createElementVNode)('div',{class:'label'},'üèÉ Ê•ºÂ±ÇË°å‰∏∫',-1)),(0,o.createElementVNode)('div',le,(0,o.toDisplayString)((0,o.unref)(t).data.Ê•ºÂ±ÇÂÖ∂‰ªñ‰ΩèÊà∑.Ë°å‰∏∫),1)])]))}}),se={class:'section',id:'shelter-section'},ce={class:'shelter-grid'},ie={class:'shelter-item'},re={class:'value'},de={class:'shelter-item'},me={class:'value'},ue={class:'shelter-item'},pe={class:'value'},ve={class:'shelter-item'},Ee={class:'ability-list'},Ne={class:'name'},ge={class:'desc'},Ve=(0,o.defineComponent)({__name:'ShelterSection',setup(e){const t=v();return(e,n)=>((0,o.openBlock)(),(0,o.createElementBlock)('section',se,[n[4]||(n[4]=(0,o.createElementVNode)('h2',{class:'section-title'},'üè∞ Â∫áÊä§ÊâÄ‰ø°ÊÅØ üè∞',-1)),(0,o.createElementVNode)('div',ce,[(0,o.createElementVNode)('div',ie,[n[0]||(n[0]=(0,o.createElementVNode)('div',{class:'label'},'‚öúÔ∏è Â∫áÊä§ÊâÄÁ≠âÁ∫ß',-1)),(0,o.createElementVNode)('div',re,(0,o.toDisplayString)((0,o.unref)(t).data.Â∫áÊä§ÊâÄ.Â∫áÊä§ÊâÄÁ≠âÁ∫ß),1)]),(0,o.createElementVNode)('div',de,[n[1]||(n[1]=(0,o.createElementVNode)('div',{class:'label'},'üé≤ ‰ªäÊó•ÊäïÊé∑ÁÇπÊï∞',-1)),(0,o.createElementVNode)('div',me,(0,o.toDisplayString)((0,o.unref)(t).data.Â∫áÊä§ÊâÄ.‰ªäÊó•ÊäïÊé∑ÁÇπÊï∞),1)]),(0,o.createElementVNode)('div',ue,[n[2]||(n[2]=(0,o.createElementVNode)('div',{class:'label'},'‚è≥ Ë∑ùÁ¶ª‰∏ãÊ¨°‰øùÂ∫ïÂçáÁ∫ß',-1)),(0,o.createElementVNode)('div',pe,(0,o.toDisplayString)((0,o.unref)(t).data.Â∫áÊä§ÊâÄ.Ë∑ùÁ¶ª‰∏äÊ¨°ÂçáÁ∫ß),1)]),(0,o.createElementVNode)('div',ve,[n[3]||(n[3]=(0,o.createElementVNode)('div',{class:'label'},'üí° Â∫áÊä§ÊâÄËÉΩÂäõÂàóË°®',-1)),(0,o.createElementVNode)('div',Ee,[(0,o.unref)(t).data.Â∫áÊä§ÊâÄ.Â∫áÊä§ÊâÄËÉΩÂäõ.length>0?((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,{key:0},(0,o.renderList)((0,o.unref)(t).data.Â∫áÊä§ÊâÄ.Â∫áÊä§ÊâÄËÉΩÂäõ,(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:t,class:'ability-card'},[(0,o.createElementVNode)('div',Ne,(0,o.toDisplayString)(e.name),1),(0,o.createElementVNode)('div',ge,(0,o.toDisplayString)(e.desc),1)]))),128)):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createTextVNode)('(ÊöÇÊó†ËÉΩÂäõ)')],64))])])])]))}}),he={class:'section'},fe={class:'content-text'},be=['src','alt'],ye=(0,o.defineComponent)({__name:'StorySection',props:{content:{}},setup(e){const t=e,n=(0,o.computed)(()=>{const e=t.content??'';if(!e.trim())return[{key:'empty',text:'(ÊöÇÊó†Ê≠£Êñá)'}];const n=/!\[(.*?)\]\((.*?)\)|‚Äú([^‚Äù]+)‚Äù|"([^"]+)"|\*([^*]+)\*/g,a=[];let l=0;for(const t of e.matchAll(n)){const n=t.index??0;n>l&&a.push({key:`t${a.length}`,text:e.slice(l,n)}),null!=t[1]&&null!=t[2]?a.push({key:`img${a.length}`,text:t[0],isImage:!0,altText:t[1],imageUrl:t[2]}):null!=t[5]?a.push({key:`t${a.length}`,text:`*${t[5]}*`,className:'thought-text'}):null!=t[3]?a.push({key:`t${a.length}`,text:`‚Äú${t[3]}‚Äù`,className:'dialog-text'}):null!=t[4]&&a.push({key:`t${a.length}`,text:`"${t[4]}"`,className:'dialog-text'}),l=n+t[0].length}return l<e.length&&a.push({key:`t${a.length}`,text:e.slice(l)}),a});return(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('section',he,[t[0]||(t[0]=(0,o.createElementVNode)('h2',{class:'section-title'},'üìñ Ê≠£ÊñáÂâßÊÉÖ üìñ',-1)),(0,o.createElementVNode)('div',fe,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(n),e=>((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:e.key},[e.isImage?((0,o.openBlock)(),(0,o.createElementBlock)('img',{key:0,src:e.imageUrl,alt:e.altText,class:'story-image'},null,8,be)):((0,o.openBlock)(),(0,o.createElementBlock)('span',{key:1,class:(0,o.normalizeClass)(e.className)},(0,o.toDisplayString)(e.text),3))],64))),128))])]))}}),ke={class:'section'},Be={class:'global-info-bar'},_e={class:'info-item info-item--location'},Se={class:'info-item info-item--date'},ze={class:'info-item info-item--time'},De=(0,o.defineComponent)({__name:'WorldSection',setup(e){const t=v();return(e,n)=>((0,o.openBlock)(),(0,o.createElementBlock)('section',ke,[n[0]||(n[0]=(0,o.createElementVNode)('h2',{class:'section-title'},'üåê Âü∫Á°Ä‰ø°ÊÅØ üåê',-1)),(0,o.createElementVNode)('div',Be,[(0,o.createElementVNode)('div',_e,'üó∫Ô∏è '+(0,o.toDisplayString)((0,o.unref)(t).data.‰∏ñÁïå.Âú∞ÂùÄ),1),(0,o.createElementVNode)('div',Se,' üìÖ '+(0,o.toDisplayString)((0,o.unref)(t).data.‰∏ñÁïå.Êó•Êúü)+'ÔºàÊú´Êó•Á¨¨ '+(0,o.toDisplayString)((0,o.unref)(t).data.‰∏ñÁïå.Êú´Êó•Â§©Êï∞)+' Â§©Ôºâ ',1),(0,o.createElementVNode)('div',ze,'‚è≥ '+(0,o.toDisplayString)((0,o.unref)(t).data.‰∏ñÁïå.Êó∂Èó¥),1)])]))}});function xe(){const e=(0,o.ref)(''),t=(0,o.ref)([]),n=()=>{const n=document.getElementById('injected-data-container'),a=function(e){const t=e.match(/<content>([\s\S]*?)(?:<\/content>|<option>|$)/),n=e.match(/<option>([\s\S]*?)<\/option>/),a=t?.[1]?.trim()??'',l=n?.[1]?.trim()??'';return{content:a,options:l?l.split('\n').map(e=>e.trim()).filter(Boolean):[]}}(n?.textContent??'');e.value=a.content,t.value=a.options};let a=null;return(0,o.onMounted)(()=>{n();const e=document.getElementById('injected-data-container');e&&(a=new MutationObserver(()=>n()),a.observe(e,{characterData:!0,childList:!0,subtree:!0}))}),(0,o.onBeforeUnmount)(()=>{a?.disconnect(),a=null}),{content:e,options:t,refresh:n}}const Ce={id:'eden-main-container'},we=(0,o.defineComponent)({__name:'App',setup(e){const{content:t,options:n}=xe();return a(()=>[t.value,n.value.join('\n')],()=>{window.dispatchEvent(new Event('resize'))},{debounce:200}),(e,a)=>((0,o.openBlock)(),(0,o.createElementBlock)('main',Ce,[(0,o.createVNode)(De),(0,o.createVNode)(ye,{content:(0,o.unref)(t)},null,8,['content']),(0,o.createVNode)(Ve),(0,o.createVNode)(H),(0,o.createVNode)(oe),(0,o.createVNode)(Q,{options:(0,o.unref)(n)},null,8,['options'])]))}});$(async()=>{await waitGlobalInitialized('Mvu'),(0,o.createApp)(we).use(e()).mount('#app')});
//# sourceMappingURL=index.js.map</script><style>:root{--bg-main:#1a1b26;--bg-light:#282a36;--bg-medium:#44475a;--bg-dark:#13141b;--border-color:#8be9fd;--border-shadow-color:#b3f2ff;--text-color:#f8f8f2;--text-strong:#ffffff;--dialog-color:#50fa7b;--thought-color:#ff79c6;--accent-gold:#f1fa8c;--accent-red:#ff5555;--accent-blue:#bd93f9;--health-bar-color:#50fa7b;--border-radius:12px;--section-gap:16px;--inner-padding:18px;--transition-speed:0.3s;--font-main:'Microsoft YaHei',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif}:root[data-theme='jade_green']{--bg-main:#f0f8f8;--bg-light:#ffffff;--bg-medium:#e0f0e0;--bg-dark:#d0e0d0;--border-color:#20b2aa;--border-shadow-color:#a7dbd8;--text-color:#333333;--text-strong:#000000;--dialog-color:#1e90ff;--thought-color:#6a5acd;--accent-gold:#ffa500;--accent-red:#dc143c;--accent-blue:#4682b4;--health-bar-color:#28a745}:root[data-theme='parchment']{--bg-main:#efe3c3;--bg-light:#e8d9b0;--bg-medium:#c3a56e;--bg-dark:#6c4a24;--border-color:#8a6642;--border-shadow-color:#5a3a28;--text-color:#3a2d1f;--text-strong:#000000;--dialog-color:#1e3a8a;--thought-color:#8b0000;--accent-gold:#c19a49;--accent-red:#8b3a3a;--accent-blue:#2c4875;--health-bar-color:#d2691e}:root[data-theme='milky']{--bg-main:#f5f5f5;--bg-medium:#e8e8e8;--bg-light:#ffffff;--bg-dark:#dcdcdc;--border-color:#79a07b;--border-shadow-color:#c0c0c0;--text-color:#4a4a4a;--text-strong:#000000;--dialog-color:#4682b4;--thought-color:#6a5acd;--accent-gold:#d2b48c;--accent-red:#cd5c5c;--accent-blue:#5f9ea0;--health-bar-color:#8fbc8f}*{box-sizing:border-box}body{font-family:var(--font-main);margin:0;padding:8px;background-color:transparent;color:var(--text-color);line-height:1.7}main{font-size:var(--font-size-main,16px);border:1px solid var(--border-color);box-shadow:0 0 25px 0px var(--border-shadow-color),inset 0 0 15px rgba(255,255,255,0.05);background-color:var(--bg-main);padding:20px;border-radius:var(--border-radius);max-width:900px;margin:10px auto;width:100%;display:flex;flex-direction:column;gap:var(--section-gap)}.section{background-color:var(--bg-light);padding:var(--inner-padding);border-radius:var(--border-radius);border:1px solid rgba(200,200,220,0.1);position:relative}.section-title{font-size:1.25em;font-weight:bold;color:var(--text-strong);text-align:center;margin:0 0 16px 0;border-bottom:2px solid var(--border-color);padding-bottom:10px}.choices-title{text-align:left;border-bottom:none;padding-bottom:0}.global-info-bar{display:flex;flex-direction:column;align-items:flex-start;gap:8px}.info-item{padding:4px 10px;border-radius:8px;background-color:var(--bg-medium);font-size:0.9em;width:100%;white-space:normal}.info-item--location{color:var(--accent-blue)}.info-item--date{color:var(--accent-gold)}.info-item--time{color:var(--accent-red)}.content-text{white-space:pre-line;word-break:break-word}.dialog-text{color:var(--dialog-color);font-weight:500}.thought-text{color:var(--thought-color);font-style:italic}.story-image{max-width:100%;height:auto;border-radius:8px;margin:10px 0;display:block;box-shadow:0 4px 6px rgba(0,0,0,0.3)}.shelter-grid{display:grid;grid-template-columns:1fr;gap:12px}.shelter-item .label{font-size:0.9em;color:var(--text-color);opacity:0.8;margin-bottom:6px}.shelter-item .value{font-size:1.05em;color:var(--text-strong);white-space:pre-line;word-break:break-word}.ability-list{max-height:280px;overflow-y:auto;padding:10px;background-color:var(--bg-dark);border-radius:8px}.ability-card{background-color:var(--bg-medium);padding:12px;border-radius:6px;margin-bottom:8px}.ability-card .name{font-weight:bold;color:var(--border-color);margin-bottom:4px}.ability-card .desc{font-size:0.85em;opacity:0.9;line-height:1.4;white-space:pre-line}.status-tabs-container{background-color:var(--bg-main);border-radius:var(--border-radius);padding:10px}.tab-buttons{display:flex;flex-wrap:nowrap;gap:8px;margin-bottom:10px;overflow-x:auto;padding-bottom:8px}.tab-button{background-color:var(--bg-medium);color:var(--text-color);padding:8px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);cursor:pointer;font-size:0.9em;white-space:nowrap;transition:all var(--transition-speed)}.tab-button:hover{background-color:var(--border-color);color:var(--bg-dark)}.tab-button.active{background-color:var(--border-color);color:var(--bg-dark);font-weight:bold;box-shadow:0 0 10px rgba(139,233,253,0.4)}.tab-content{display:none;animation:fadeEffect var(--transition-speed)}.tab-content.active{display:block}@keyframes fadeEffect{from{opacity:0}to{opacity:1}}.status-grid{display:flex;flex-direction:column;gap:14px}.status-item{background-color:var(--bg-light);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.05)}.status-item .label{font-weight:bold;color:var(--accent-blue);margin-bottom:6px;font-size:0.95em}.status-item .value{color:var(--text-strong);white-space:pre-line;word-break:break-word}.health-section-header{display:flex;align-items:baseline;justify-content:space-between;gap:10px}.health-status-subtext{font-size:0.85em;opacity:0.85;margin:4px 0 10px 0;color:var(--accent-gold)}.value-subtext{font-size:0.85em;opacity:0.9;margin-top:8px;color:var(--accent-red);white-space:pre-line}.progress-bar-container{width:100%;height:12px;background-color:var(--bg-dark);border-radius:6px;overflow:hidden;border:1px solid rgba(255,255,255,0.1)}.progress-bar-value{height:100%;width:0%;background-color:var(--health-bar-color);border-radius:6px;transition:width var(--transition-speed)}.details-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}.other-residents-item{padding:10px;border-radius:8px;background-color:var(--bg-medium);margin-bottom:10px}.other-residents-item .label{font-weight:bold;color:var(--accent-blue);margin-bottom:4px}.other-residents-item .value{white-space:pre-line;word-break:break-word}.choice-item{width:100%;text-align:left;background-color:var(--bg-medium);padding:10px;border-radius:8px;margin-bottom:8px;cursor:pointer;transition:all var(--transition-speed);border:0;color:inherit;font:inherit}.choice-item:hover{background-color:var(--border-color);color:var(--bg-dark)}.palette-button{position:absolute;top:16px;right:16px;width:38px;height:38px;border-radius:50%;border:1px solid var(--border-color);background:var(--bg-medium);color:var(--text-color);cursor:pointer;font-size:18px;display:flex;align-items:center;justify-content:center;transition:all var(--transition-speed)}.palette-button:hover{background:var(--border-color);color:var(--bg-dark)}.palette-modal{position:absolute;top:60px;right:16px;width:260px;background:var(--bg-light);border:1px solid var(--border-color);border-radius:10px;box-shadow:0 0 20px rgba(0,0,0,0.4);padding:14px;display:none;z-index:50}.palette-modal.show{display:block}.palette-modal h3{margin:0 0 10px 0;font-size:1em;color:var(--text-strong)}.palette-option{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.palette-option label{font-size:0.85em;color:var(--text-color)}.palette-option select{width:120px;padding:4px;border-radius:6px;border:1px solid rgba(255,255,255,0.15);background:var(--bg-medium);color:var(--text-color)}.palette-buttons{display:flex;justify-content:flex-end}.palette-buttons button{padding:6px 10px;border-radius:8px;border:none;background:var(--border-color);color:var(--bg-dark);cursor:pointer;font-weight:bold}.palette-buttons button:hover{background:var(--border-shadow-color)}.ability-list::-webkit-scrollbar{width:8px}.ability-list::-webkit-scrollbar-track{background:var(--bg-dark);border-radius:4px}.ability-list::-webkit-scrollbar-thumb{background-color:var(--border-color);border-radius:4px;border:2px solid var(--bg-dark)}.ability-list::-webkit-scrollbar-thumb:hover{background-color:var(--border-shadow-color)}@media (max-width:600px){.details-grid{grid-template-columns:1fr}main{padding:12px;margin:5px auto;font-size:var(--font-size-main,14px)}.tab-button{padding:6px 10px;font-size:0.85em}}


/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div><script id="injected-data-container" type="text/plain" style="display:none">$1</script></body></html>
