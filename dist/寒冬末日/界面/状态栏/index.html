<!doctype html><html><head><script type="module">import{createPinia as e,defineStore as t}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';import{useLocalStorage as n,watchDebounced as l}from'https://testingcf.jsdelivr.net/npm/@vueuse/core/+esm';var a={455(e,t){t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,l]of t)n[e]=l;return n}}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return a[e](n,n.exports,s),n.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const r=Vue,c=_;var i=s.n(c);const d=z,m=d.z.object({å§“å:d.z.string().prefault(''),å…³ç³»:d.z.enum(['æ‹’ç»','äº¤æ˜“','é¡ºä»','å¿ è¯š','æ€§å¥´']).optional(),å…³ç³»å€¾å‘:d.z.enum(['æ‹’ç»','äº¤æ˜“','é¡ºä»','å¿ è¯š','æ€§å¥´']).optional(),å¥åº·:d.z.coerce.number().min(0).max(100).prefault(100).describe('èŒƒå›´0-100ã€‚è®°å½•å¥åº·æ•°å€¼ã€‚è·å¾—é£Ÿç‰©/æ¸©æš–å¢åŠ ï¼›å—ä¼¤/é¥¥é¥¿/å¯’å†·å‡å°‘ã€‚'),å¥åº·æ›´æ–°åŸå› :d.z.string().prefault('').describe('è®°å½•å¥åº·å€¼å˜åŒ–çš„åŸå› å’Œæ•°å€¼ï¼Œæ ¼å¼ï¼š+/-X, åŸå› æè¿°'),å¥åº·çŠ¶å†µ:d.z.enum(['å¥åº·','äºšå¥åº·','ç”Ÿç—…/å—ä¼¤','é‡ç—…/æ¿’æ­»','æ— ','æ­»äº¡']).prefault('å¥åº·').describe('>=80:å¥åº·; 60-79:äºšå¥åº·; 30-59:ç”Ÿç—…/å—ä¼¤; <30:é‡ç—…/æ¿’æ­»'),è¡£ç€:d.z.string().prefault('').describe('è¯¦ç»†æè¿°å½“å‰çš„è¡£ç€çŠ¶æ€'),èˆŒå”‡:d.z.string().prefault('').describe('å£è…”ã€å˜´å”‡çš„çŠ¶æ€'),èƒ¸ä¹³:d.z.string().prefault('').describe('èƒ¸éƒ¨çš„çŠ¶æ€'),ç§ç©´:d.z.string().prefault('').describe('ç§å¤„çš„è¯¦ç»†çŠ¶æ€'),ç¥æ€æ ·è²Œ:d.z.string().prefault('').describe('é¢éƒ¨è¡¨æƒ…å’Œç¥æ€'),åŠ¨ä½œå§¿åŠ¿:d.z.string().prefault('').describe('èº«ä½“å§¿æ€å’ŒåŠ¨ä½œ'),å†…å¿ƒæƒ³æ³•:d.z.string().prefault('').describe('ç¬¬ä¸€äººç§°å†…å¿ƒç‹¬ç™½'),ç™»åœºçŠ¶æ€:d.z.enum(['ç™»åœº','ç¦»åœº']).prefault('ç¦»åœº').describe('å€¼ä¸º"ç™»åœº"æ—¶æ˜¾ç¤ºåœ¨UIã€‚è§’è‰²ä¸å‡ºç°æ—¶è®¾ä¸º"ç¦»åœº"')}).prefault({å§“å:'',å¥åº·:100,å¥åº·æ›´æ–°åŸå› :'',å¥åº·çŠ¶å†µ:'å¥åº·',è¡£ç€:'',èˆŒå”‡:'',èƒ¸ä¹³:'',ç§ç©´:'',ç¥æ€æ ·è²Œ:'',åŠ¨ä½œå§¿åŠ¿:'',å†…å¿ƒæƒ³æ³•:'',ç™»åœºçŠ¶æ€:'ç¦»åœº'}),u=d.z.object({åœ°å€:d.z.string().prefault('').describe('å½“å‰æ‰€åœ¨çš„ç‰©ç†ä½ç½®'),æ—¥æœŸ:d.z.string().prefault('').describe('æ ¼å¼ï¼šæœ«æ—¥çºªå…ƒï¼ŒXXXXå¹´XXæœˆXXæ—¥'),æ—¶é—´:d.z.string().prefault('').describe('æ ¼å¼ï¼šæ—¶é—´æ®µ - HH:MM'),æœ«æ—¥å¤©æ•°:d.z.coerce.number().prefault(0).describe('è‡ª"æ°¸æ’æš´é›ª"é™ä¸´ä»¥æ¥çš„æ€»å¤©æ•°')}).prefault({åœ°å€:'',æ—¥æœŸ:'',æ—¶é—´:'',æœ«æ—¥å¤©æ•°:0}),p=d.z.object({åº‡æŠ¤æ‰€ç­‰çº§:d.z.coerce.number().max(10).prefault(1),ä»Šæ—¥æŠ•æ·ç‚¹æ•°:d.z.string().prefault('').describe('è®°å½•æ¯æ—¥å‡çº§åˆ¤å®šç»“æœ'),è·ç¦»ä¸Šæ¬¡å‡çº§:d.z.string().prefault('').describe('è®°å½•ä¿åº•è¿›åº¦'),åº‡æŠ¤æ‰€èƒ½åŠ›:d.z.array(d.z.object({name:d.z.string(),desc:d.z.string()})).prefault([]).describe('å·²æ¿€æ´»çš„åº‡æŠ¤æ‰€èƒ½åŠ›åˆ—è¡¨ã€‚è¯·ä¸¥æ ¼å‚ç…§ä¸–ç•Œä¹¦æ¡ç›®<åº‡æŠ¤æ‰€å‡çº§èƒ½åŠ›>æ·»åŠ æ–°èƒ½åŠ›ã€‚'),å¯æ‰©å±•åŒºåŸŸ:d.z.object({åŒ»ç–—ç¿¼:d.z.string().prefault('æœªè§£é”').describe('ç­‰çº§3è§£é”'),åˆ¶é€ å·¥åŠ:d.z.string().prefault('æœªè§£é”').describe('ç­‰çº§4è§£é”'),è½½å…·æ ¼çº³åº“:d.z.string().prefault('æœªè§£é”').describe('ç­‰çº§7è§£é”')}).prefault({åŒ»ç–—ç¿¼:'æœªè§£é”',åˆ¶é€ å·¥åŠ:'æœªè§£é”',è½½å…·æ ¼çº³åº“:'æœªè§£é”'}).describe('è®°å½•åº‡æŠ¤æ‰€å¯æ‰©å±•åŒºåŸŸçš„è§£é”çŠ¶æ€')}).prefault({åº‡æŠ¤æ‰€ç­‰çº§:1,ä»Šæ—¥æŠ•æ·ç‚¹æ•°:'',è·ç¦»ä¸Šæ¬¡å‡çº§:'',åº‡æŠ¤æ‰€èƒ½åŠ›:[],å¯æ‰©å±•åŒºåŸŸ:{åŒ»ç–—ç¿¼:'æœªè§£é”',åˆ¶é€ å·¥åŠ:'æœªè§£é”',è½½å…·æ ¼çº³åº“:'æœªè§£é”'}}),v=d.z.object({ç„å…³:d.z.object({ä¸´æ—¶å®¢æˆ¿Aå…¥ä½è€…:d.z.array(d.z.string()).prefault([]).describe('ä¸´æ—¶å®¢æˆ¿Aå…¥ä½è€…å§“ååˆ—è¡¨'),ä¸´æ—¶å®¢æˆ¿Bå…¥ä½è€…:d.z.array(d.z.string()).prefault([]).describe('ä¸´æ—¶å®¢æˆ¿Bå…¥ä½è€…å§“ååˆ—è¡¨')}).prefault({ä¸´æ—¶å®¢æˆ¿Aå…¥ä½è€…:[],ä¸´æ—¶å®¢æˆ¿Bå…¥ä½è€…:[]}).describe('ç„å…³åŒºåŸŸæˆ¿é—´çŠ¶æ€'),æ ¸å¿ƒåŒº:d.z.object({ä¸»å§å®¤ä½¿ç”¨è€…:d.z.array(d.z.string()).prefault([]).describe('ä¸»å§å®¤ä½¿ç”¨è€…å§“ååˆ—è¡¨'),ä¸»æµ´å®¤ä½¿ç”¨è€…:d.z.array(d.z.string()).prefault([]).describe('ä¸»æµ´å®¤ä½¿ç”¨è€…å§“ååˆ—è¡¨')}).prefault({ä¸»å§å®¤ä½¿ç”¨è€…:[],ä¸»æµ´å®¤ä½¿ç”¨è€…:[]}).describe('æ ¸å¿ƒåŒºåŸŸæˆ¿é—´çŠ¶æ€'),æ¥¼å±‚æˆ¿é—´:d.z.object({æ¥¼å±‚20æˆ¿é—´:d.z.record(d.z.string(),d.z.object({å…¥ä½è€…:d.z.array(d.z.string())}).prefault({å…¥ä½è€…:[]})).prefault({}).describe('20å±‚å„æˆ¿é—´çŠ¶æ€ï¼Œkeyä¸ºæˆ¿é—´å·'),æ¥¼å±‚19æˆ¿é—´:d.z.record(d.z.string(),d.z.object({å…¥ä½è€…:d.z.array(d.z.string())}).prefault({å…¥ä½è€…:[]})).prefault({}).describe('19å±‚å„æˆ¿é—´çŠ¶æ€ï¼Œkeyä¸ºæˆ¿é—´å·')}).prefault({æ¥¼å±‚20æˆ¿é—´:{},æ¥¼å±‚19æˆ¿é—´:{}}).describe('æ¥¼å±‚æˆ¿é—´çŠ¶æ€')}).prefault({ç„å…³:{ä¸´æ—¶å®¢æˆ¿Aå…¥ä½è€…:[],ä¸´æ—¶å®¢æˆ¿Bå…¥ä½è€…:[]},æ ¸å¿ƒåŒº:{ä¸»å§å®¤ä½¿ç”¨è€…:[],ä¸»æµ´å®¤ä½¿ç”¨è€…:[]},æ¥¼å±‚æˆ¿é—´:{æ¥¼å±‚20æˆ¿é—´:{},æ¥¼å±‚19æˆ¿é—´:{}}}),g=d.z.object({è¨€è¯­:d.z.string().prefault('').describe('å…¶ä»–å¹¸å­˜è€…çš„æ€»ä½“è¨€è¯­çŠ¶æ€'),è¡Œä¸º:d.z.string().prefault('').describe('å…¶ä»–å¹¸å­˜è€…çš„æ€»ä½“è¡Œä¸ºçŠ¶æ€')}).prefault({è¨€è¯­:'',è¡Œä¸º:''}),E=d.z.object({å½“å‰é˜¶æ®µ:d.z.string().prefault('é˜¶æ®µä¸€ï¼šç§©åºçš„èŒèŠ½').describe('ä¸»çº¿ä»»åŠ¡çš„å½“å‰é˜¶æ®µåç§°'),é˜¶æ®µç›®æ ‡:d.z.array(d.z.string()).prefault(['è‚ƒæ¸…20ã€19ã€21å±‚çš„æ•Œå¯¹å¹¸å­˜è€…','åº‡æŠ¤è‡³å°‘3ä¸ªæ ¸å¿ƒå¥³æ€§è§’è‰²æˆ–å®¶åº­','å®Œæˆä¸€ä¸ªå…¬å¯“å†…éƒ¨çš„æƒ…æŠ¥ç¢ç‰‡ä»»åŠ¡']).describe('å½“å‰é˜¶æ®µéœ€è¦è¾¾æˆçš„ç›®æ ‡åˆ—è¡¨'),ç›®æ ‡å®ŒæˆçŠ¶æ€:d.z.record(d.z.string(),d.z.boolean()).prefault({0:!1,1:!1,2:!1}).describe('ç›®æ ‡å®ŒæˆçŠ¶æ€ï¼Œkeyä¸ºç´¢å¼•å­—ç¬¦ä¸²ï¼ˆ0/1/2...ï¼‰ï¼Œvalueä¸ºtrueè¡¨ç¤ºå®Œæˆ'),æƒ…æŠ¥ç¢ç‰‡:d.z.record(d.z.string(),d.z.object({ç¼–å·:d.z.string().prefault(''),æè¿°:d.z.string().prefault(''),ä»·å€¼:d.z.string().prefault(''),é£é™©:d.z.string().prefault(''),çŠ¶æ€:d.z.enum(['æœªæ¢ç´¢','å·²æ¢ç´¢','å·²å®Œæˆ']).prefault('æœªæ¢ç´¢')}).prefault({ç¼–å·:'',æè¿°:'',ä»·å€¼:'',é£é™©:'',çŠ¶æ€:'æœªæ¢ç´¢'})).prefault({}).describe('å·²è§£é”çš„æƒ…æŠ¥ç¢ç‰‡')}).prefault({å½“å‰é˜¶æ®µ:'é˜¶æ®µä¸€ï¼šç§©åºçš„èŒèŠ½',é˜¶æ®µç›®æ ‡:['è‚ƒæ¸…20ã€19ã€21å±‚çš„æ•Œå¯¹å¹¸å­˜è€…','åº‡æŠ¤è‡³å°‘3ä¸ªæ ¸å¿ƒå¥³æ€§è§’è‰²æˆ–å®¶åº­','å®Œæˆä¸€ä¸ªå…¬å¯“å†…éƒ¨çš„æƒ…æŠ¥ç¢ç‰‡ä»»åŠ¡'],ç›®æ ‡å®ŒæˆçŠ¶æ€:{0:!1,1:!1,2:!1},æƒ…æŠ¥ç¢ç‰‡:{}}),N=d.z.object({ä¸–ç•Œ:u,åº‡æŠ¤æ‰€:p,æˆ¿é—´:v,ä¸»çº¿ä»»åŠ¡:E,æµ…è§äºšç¾:m,ç›¸ç”°å“²ä¹Ÿ:m,æ˜Ÿé‡ç‰ç’ƒ:m,æ—©å·é¥:m,æ—©å·èˆ:m,è—¤äº•é›ªä¹ƒ:m,ä¸­æ‘æƒ å­:m,çˆ±å®«å¿ƒçˆ±:m,çˆ±å®«é“ƒ:m,'æ¡ƒä¹ä¸ãƒ»æ³½å·´å“ˆ':m,ä½•é“ƒ:m,ç‹é™:m,åº·ç»®æœˆ:m,è–›è:m,å°æ³½èŠ±:m,ä¸´æ—¶NPC:m.optional().describe('å½“æœ‰ä¸´æ—¶NPCç™»åœºæ—¶ä½¿ç”¨ï¼Œç¦»åœºæ—¶è®¾ä¸ºundefinedæˆ–é‡ç½®'),æ¥¼å±‚å…¶ä»–ä½æˆ·:g}),V=N.parse({ä¸–ç•Œ:{åœ°å€:'',æ—¥æœŸ:'',æ—¶é—´:'',æœ«æ—¥å¤©æ•°:0},åº‡æŠ¤æ‰€:{åº‡æŠ¤æ‰€ç­‰çº§:1,ä»Šæ—¥æŠ•æ·ç‚¹æ•°:'',è·ç¦»ä¸Šæ¬¡å‡çº§:'',åº‡æŠ¤æ‰€èƒ½åŠ›:[],å¯æ‰©å±•åŒºåŸŸ:{åŒ»ç–—ç¿¼:'æœªè§£é”',åˆ¶é€ å·¥åŠ:'æœªè§£é”',è½½å…·æ ¼çº³åº“:'æœªè§£é”'}},æˆ¿é—´:{ç„å…³:{ä¸´æ—¶å®¢æˆ¿Aå…¥ä½è€…:[],ä¸´æ—¶å®¢æˆ¿Bå…¥ä½è€…:[]},æ ¸å¿ƒåŒº:{ä¸»å§å®¤ä½¿ç”¨è€…:[],ä¸»æµ´å®¤ä½¿ç”¨è€…:[]},æ¥¼å±‚æˆ¿é—´:{æ¥¼å±‚20æˆ¿é—´:{},æ¥¼å±‚19æˆ¿é—´:{}}},ä¸»çº¿ä»»åŠ¡:{å½“å‰é˜¶æ®µ:'é˜¶æ®µä¸€ï¼šç§©åºçš„èŒèŠ½',é˜¶æ®µç›®æ ‡:[],ç›®æ ‡å®ŒæˆçŠ¶æ€:{},æƒ…æŠ¥ç¢ç‰‡:{}}}),f=t('data',errorCatched(()=>{const e=getCurrentMessageId(),t=(0,r.ref)(V),n=()=>{try{const n=(()=>{const t=Mvu.getMvuData({type:'message',message_id:e});return N.parse(_.get(t,'stat_data',{}))})();_.isEqual(n,t.value)||(t.value=n)}catch{}};return(async()=>{await waitGlobalInitialized('Mvu'),n(),eventOn(Mvu.events.VARIABLE_UPDATE_ENDED,n),eventOn(Mvu.events.VARIABLE_INITIALIZED,n)})(),l(t,n=>{const l=N.parse(n);_.isEqual(l,n)||(t.value=l),updateVariablesWith(e=>(_.set(e,'stat_data',l),e),{type:'message',message_id:e})},{deep:!0,debounce:500}),{data:t}})),b={id:'characters-section',class:'section'},h={class:'status-tabs-container'},y={class:'tab-buttons'},k=['onClick'],B={class:'status-grid'},S={class:'status-item health-section'},D={class:'health-section-header'},x={class:'value'},C={class:'health-status-subtext'},w={class:'progress-bar-container'},j={class:'value-subtext'},A={class:'details-grid'},M={class:'status-item'},L={class:'value'},I={class:'status-item'},F={class:'value'},P={class:'status-item'},O={class:'value'},R={class:'status-item'},T={class:'value'},U={class:'status-item'},X={class:'value'},H={class:'status-item'},q={class:'value'},W={class:'status-item'},G={class:'value thought-text'},K={key:1,class:'content-text'},Y=(0,r.defineComponent)({__name:'CharactersSection',setup(e){const t=['æµ…è§äºšç¾','ç›¸ç”°å“²ä¹Ÿ','æ˜Ÿé‡ç‰ç’ƒ','æ—©å·é¥','æ—©å·èˆ','è—¤äº•é›ªä¹ƒ','ä¸­æ‘æƒ å­','çˆ±å®«å¿ƒçˆ±','çˆ±å®«é“ƒ','æ¡ƒä¹ä¸ãƒ»æ³½å·´å“ˆ','ä½•é“ƒ','ç‹é™','åº·ç»®æœˆ','è–›è','å°æ³½èŠ±'],n=f(),l=(0,r.computed)(()=>{const e=[];t.forEach(t=>{const l=n.data[t];'ç™»åœº'===l?.ç™»åœºçŠ¶æ€&&e.push(t)});const l=[];return Object.keys(n.data).forEach(e=>{if('ä¸–ç•Œ'!==e&&'åº‡æŠ¤æ‰€'!==e&&'æ¥¼å±‚å…¶ä»–ä½æˆ·'!==e&&!t.includes(e)&&'ä¸´æ—¶NPC'!==e){const t=n.data[e];'ç™»åœº'===t?.ç™»åœºçŠ¶æ€&&l.push(e)}}),[...e,...l]}),a=(0,r.ref)(null);function o(e){return'ä¸´æ—¶NPC'===e?n.data.ä¸´æ—¶NPC:n.data[e]}function s(e){const t=o(e)?.å¥åº·;return'number'!=typeof t?0:i().clamp(t,0,100)}return(0,r.watch)(l,e=>{0!==e.length?a.value&&e.includes(a.value)||(a.value=e[0]):a.value=null},{immediate:!0}),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('section',b,[t[8]||(t[8]=(0,r.createElementVNode)('h2',{class:'section-title'},'ğŸ‘¤ ç™»åœºè§’è‰² ğŸ‘¤',-1)),(0,r.createElementVNode)('div',h,[(0,r.unref)(l).length>0?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createElementVNode)('div',y,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(l),e=>((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:e,class:(0,r.normalizeClass)(['tab-button',{active:(0,r.unref)(a)===e}]),type:'button',onClick:t=>function(e){a.value=e}(e)},(0,r.toDisplayString)(function(e){const t=o(e);return t?.å§“å??e}(e)),11,k))),128))]),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(l),e=>(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:`${e}:tab`,class:(0,r.normalizeClass)(['tab-content',{active:(0,r.unref)(a)===e}])},[(0,r.createElementVNode)('div',B,[(0,r.createElementVNode)('div',S,[(0,r.createElementVNode)('div',D,[t[0]||(t[0]=(0,r.createElementVNode)('div',{class:'label'},'â¤ï¸ å¥åº·',-1)),(0,r.createElementVNode)('div',x,(0,r.toDisplayString)(o(e)?.å¥åº·??'--'),1)]),(0,r.createElementVNode)('div',C,(0,r.toDisplayString)(o(e)?.å¥åº·çŠ¶å†µ??'--'),1),(0,r.createElementVNode)('div',w,[(0,r.createElementVNode)('div',{class:'progress-bar-value',style:(0,r.normalizeStyle)({width:`${s(e)}%`})},null,4)]),(0,r.createElementVNode)('div',j,(0,r.toDisplayString)(o(e)?.å¥åº·æ›´æ–°åŸå› ??'--'),1)]),(0,r.createElementVNode)('div',A,[(0,r.createElementVNode)('div',M,[t[1]||(t[1]=(0,r.createElementVNode)('div',{class:'label'},'ğŸ‘š è¡£ç€',-1)),(0,r.createElementVNode)('div',L,(0,r.toDisplayString)(o(e)?.è¡£ç€??'--'),1)]),(0,r.createElementVNode)('div',I,[t[2]||(t[2]=(0,r.createElementVNode)('div',{class:'label'},'ğŸ‘… èˆŒå”‡',-1)),(0,r.createElementVNode)('div',F,(0,r.toDisplayString)(o(e)?.èˆŒå”‡??'--'),1)]),(0,r.createElementVNode)('div',P,[t[3]||(t[3]=(0,r.createElementVNode)('div',{class:'label'},'ğŸˆ èƒ¸ä¹³',-1)),(0,r.createElementVNode)('div',O,(0,r.toDisplayString)(o(e)?.èƒ¸ä¹³??'--'),1)]),(0,r.createElementVNode)('div',R,[t[4]||(t[4]=(0,r.createElementVNode)('div',{class:'label'},'ğŸŒ¸ ç§ç©´',-1)),(0,r.createElementVNode)('div',T,(0,r.toDisplayString)(o(e)?.ç§ç©´??'--'),1)]),(0,r.createElementVNode)('div',U,[t[5]||(t[5]=(0,r.createElementVNode)('div',{class:'label'},'ğŸ˜Š ç¥æ€æ ·è²Œ',-1)),(0,r.createElementVNode)('div',X,(0,r.toDisplayString)(o(e)?.ç¥æ€æ ·è²Œ??'--'),1)]),(0,r.createElementVNode)('div',H,[t[6]||(t[6]=(0,r.createElementVNode)('div',{class:'label'},'ğŸ’ƒ åŠ¨ä½œå§¿åŠ¿',-1)),(0,r.createElementVNode)('div',q,(0,r.toDisplayString)(o(e)?.åŠ¨ä½œå§¿åŠ¿??'--'),1)])]),(0,r.createElementVNode)('div',W,[t[7]||(t[7]=(0,r.createElementVNode)('div',{class:'label'},'ğŸ’­ å†…å¿ƒæƒ³æ³•',-1)),(0,r.createElementVNode)('div',G,(0,r.toDisplayString)(o(e)?.å†…å¿ƒæƒ³æ³•??'--'),1)])])],2)),[[r.vShow,(0,r.unref)(a)===e]])),128))],64)):((0,r.openBlock)(),(0,r.createElementBlock)('div',K,'æš‚æ— ç™»åœºè§’è‰²'))])]))}}),Z={class:'section'},J=['onClick'],Q={key:1,class:'choice-item',type:'button',disabled:''},ee={class:'palette-option'},te={class:'palette-option'},ne={class:'palette-option'},le={class:'palette-buttons'},ae=(0,r.defineComponent)({__name:'ChoicesSection',props:{options:{}},setup(e){const t=e,l=(0,r.ref)(!1),a=n('eden_theme','apocalypse_tech'),o=n('eden_font_key','yahei'),s=n('eden_font_size_key','16'),c=(0,r.ref)(null),i=(0,r.ref)(null);function d(){l.value=!l.value}function m(e){if(!l.value)return;const t=e.target;t&&(i.value?.contains(t)||c.value?.contains(t)||(l.value=!1))}return(0,r.watch)(a,e=>{'apocalypse_tech'!==e?document.documentElement.dataset.theme=e:delete document.documentElement.dataset.theme},{immediate:!0}),(0,r.watch)(o,e=>{const t=document.getElementById('eden-main-container');if(!t)return;const n={yahei:'"Microsoft YaHei", sans-serif',simsun:'SimSun, serif',kaiti:'KaiTi, serif'};t.style.fontFamily=n[e]||n.yahei},{immediate:!0}),(0,r.watch)(s,e=>{const t=document.getElementById('eden-main-container');t&&t.style.setProperty('--font-size-main',`${e}px`)},{immediate:!0}),(0,r.onMounted)(()=>{document.addEventListener('click',m)}),(0,r.onBeforeUnmount)(()=>{document.removeEventListener('click',m)}),(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)('section',Z,[(0,r.createElementVNode)('button',{ref_key:'palette_button',ref:c,class:'palette-button',type:'button',onClick:(0,r.withModifiers)(d,['stop'])},'ğŸ¨',512),n[11]||(n[11]=(0,r.createElementVNode)('h2',{class:'section-title choices-title'},'âšœï¸ å¿«é€Ÿå‰§æƒ… âšœï¸',-1)),(0,r.createElementVNode)('div',null,[t.options.length>0?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:0},(0,r.renderList)(t.options,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:t,class:'choice-item',type:'button',onClick:t=>function(e){const t=window.triggerSlash;if('function'==typeof t)try{return void t(`/send ${e} | /trigger await=true`)}catch{return void alert(`æŒ‡ä»¤å‘é€å¤±è´¥: ${e}`)}alert(`æ— æ³•è‡ªåŠ¨å‘é€: ${e}`)}(e)},(0,r.toDisplayString)(e),9,J))),128)):((0,r.openBlock)(),(0,r.createElementBlock)('button',Q,'å½“å‰æ— é€‰é¡¹ï¼Œè¯·è‡ªç”±è¡ŒåŠ¨...'))]),(0,r.createElementVNode)('div',{ref_key:'palette_modal',ref:i,class:(0,r.normalizeClass)(['palette-modal',{show:(0,r.unref)(l)}])},[n[10]||(n[10]=(0,r.createElementVNode)('h3',null,'æ˜¾ç¤ºè®¾ç½®',-1)),(0,r.createElementVNode)('div',ee,[n[5]||(n[5]=(0,r.createElementVNode)('label',null,'ğŸ¨ ä¸»é¢˜',-1)),(0,r.withDirectives)((0,r.createElementVNode)('select',{'onUpdate:modelValue':n[0]||(n[0]=e=>(0,r.isRef)(a)?a.value=e:null)},[...n[4]||(n[4]=[(0,r.createElementVNode)('option',{value:'apocalypse_tech'},'æœ«æ—¥ç§‘æŠ€ (é»˜è®¤)',-1),(0,r.createElementVNode)('option',{value:'jade_green'},'æ·¡ç¿¡ç¿ ç»¿',-1),(0,r.createElementVNode)('option',{value:'parchment'},'å¤å¤ç¾Šçš®çº¸',-1),(0,r.createElementVNode)('option',{value:'milky'},'æ¸…æ–°å¥¶ç™½',-1)])],512),[[r.vModelSelect,(0,r.unref)(a)]])]),(0,r.createElementVNode)('div',te,[n[7]||(n[7]=(0,r.createElementVNode)('label',null,'ğŸ–‹ï¸ å­—ä½“',-1)),(0,r.withDirectives)((0,r.createElementVNode)('select',{'onUpdate:modelValue':n[1]||(n[1]=e=>(0,r.isRef)(o)?o.value=e:null)},[...n[6]||(n[6]=[(0,r.createElementVNode)('option',{value:'yahei'},'å¾®è½¯é›…é»‘ (é»˜è®¤)',-1),(0,r.createElementVNode)('option',{value:'simsun'},'å®‹ä½“',-1),(0,r.createElementVNode)('option',{value:'kaiti'},'æ¥·ä½“',-1)])],512),[[r.vModelSelect,(0,r.unref)(o)]])]),(0,r.createElementVNode)('div',ne,[n[9]||(n[9]=(0,r.createElementVNode)('label',null,'â†”ï¸ å­—ä½“å¤§å°',-1)),(0,r.withDirectives)((0,r.createElementVNode)('select',{'onUpdate:modelValue':n[2]||(n[2]=e=>(0,r.isRef)(s)?s.value=e:null)},[...n[8]||(n[8]=[(0,r.createStaticVNode)('<option value="12">12px (æœ€å°)</option><option value="14">14px (è¾ƒå°)</option><option value="15">15px (ç¨å°)</option><option value="16">16px (é»˜è®¤)</option><option value="18">18px (ç¨å¤§)</option><option value="20">20px (è¾ƒå¤§)</option><option value="22">22px (å¾ˆå¤§)</option><option value="24">24px (æœ€å¤§)</option>',8)])],512),[[r.vModelSelect,(0,r.unref)(s)]])]),(0,r.createElementVNode)('div',le,[(0,r.createElementVNode)('button',{class:'palette-close',type:'button',onClick:n[3]||(n[3]=e=>l.value=!1)},'å…³é—­')])],2)]))}}),oe={id:'mission-section',class:'section'},se={class:'mission-content'},re={class:'mission-phase'},ce={class:'phase-name'},ie={class:'goals-progress-bar'},de={class:'progress-header'},me={class:'progress-text'},ue={class:'progress-track'},pe={class:'mission-goals'},ve={class:'toggle-icon'},ge={class:'goals-count'},Ee={class:'goals-list'},Ne={class:'goal-checkbox'},Ve={key:0,viewBox:'0 0 24 24',class:'check-icon'},fe={key:1,viewBox:'0 0 24 24',class:'check-icon empty'},be={class:'goal-content'},he={key:0,class:'goal-status-tag'},ye={key:1,class:'goal-item empty'},ke={class:'mission-intel'},Be={class:'toggle-icon'},ze={class:'intel-count'},Se={class:'intel-list'},De={viewBox:'0 0 36 36',class:'progress-ring'},xe=['stroke-dasharray'],Ce={class:'ring-icon'},_e={class:'intel-content'},we={class:'intel-header'},$e={class:'intel-id'},je={class:'intel-desc'},Ae={class:'intel-meta'},Me={class:'intel-value'},Le={class:'intel-risk'},Ie={key:1,class:'intel-item empty'},Fe=(0,r.defineComponent)({__name:'MissionSection',setup(e){const t=f(),n=(0,r.ref)(!1),l=(0,r.ref)(!1),a=(0,r.computed)(()=>t.data.ä¸»çº¿ä»»åŠ¡.é˜¶æ®µç›®æ ‡.filter((_,e)=>s(e)).length),o=(0,r.computed)(()=>{const e=t.data.ä¸»çº¿ä»»åŠ¡.é˜¶æ®µç›®æ ‡.length;return 0===e?0:Math.round(a.value/e*100)});function s(e){const n=String(e);return!0===t.data.ä¸»çº¿ä»»åŠ¡.ç›®æ ‡å®ŒæˆçŠ¶æ€[n]}const c=(0,r.computed)(()=>Object.keys(t.data.ä¸»çº¿ä»»åŠ¡.æƒ…æŠ¥ç¢ç‰‡).length),i=(0,r.computed)(()=>Object.values(t.data.ä¸»çº¿ä»»åŠ¡.æƒ…æŠ¥ç¢ç‰‡).filter(e=>'å·²å®Œæˆ'===e.çŠ¶æ€).length);function d(e){switch(e){case'å·²å®Œæˆ':return'âœ“';case'å·²æ¢ç´¢':return'â—';default:return'â—‹'}}function m(e){let t=33;switch(e){case'å·²å®Œæˆ':t=100;break;case'å·²æ¢ç´¢':t=66;break;case'æœªæ¢ç´¢':t=33}const n=2*Math.PI*16;return`${t} ${n} ${n-t/100*n}`}return(e,u)=>((0,r.openBlock)(),(0,r.createElementBlock)('section',oe,[u[9]||(u[9]=(0,r.createElementVNode)('h2',{class:'section-title'},'ğŸ“œ ä¸»çº¿ä»»åŠ¡ ğŸ“œ',-1)),(0,r.createElementVNode)('div',se,[(0,r.createCommentVNode)(' å½“å‰é˜¶æ®µ '),(0,r.createElementVNode)('div',re,[u[2]||(u[2]=(0,r.createElementVNode)('div',{class:'phase-label'},'ğŸ“ å½“å‰é˜¶æ®µ',-1)),(0,r.createElementVNode)('div',ce,(0,r.toDisplayString)((0,r.unref)(t).data.ä¸»çº¿ä»»åŠ¡.å½“å‰é˜¶æ®µ),1)]),(0,r.createCommentVNode)(' é˜¶æ®µç›®æ ‡è¿›åº¦æ¡ '),(0,r.createElementVNode)('div',ie,[(0,r.createElementVNode)('div',de,[u[3]||(u[3]=(0,r.createElementVNode)('span',null,'ğŸ¯ é˜¶æ®µç›®æ ‡è¿›åº¦',-1)),(0,r.createElementVNode)('span',me,(0,r.toDisplayString)(a.value)+'/'+(0,r.toDisplayString)((0,r.unref)(t).data.ä¸»çº¿ä»»åŠ¡.é˜¶æ®µç›®æ ‡.length),1)]),(0,r.createElementVNode)('div',ue,[(0,r.createElementVNode)('div',{class:'progress-fill',style:(0,r.normalizeStyle)({width:o.value+'%'})},null,4)])]),(0,r.createCommentVNode)(' é˜¶æ®µç›®æ ‡ '),(0,r.createElementVNode)('div',pe,[(0,r.createElementVNode)('button',{class:'collapse-toggle-btn',onClick:u[0]||(u[0]=e=>n.value=!n.value)},[(0,r.createElementVNode)('span',ve,(0,r.toDisplayString)(n.value?'â–¼':'â–¶'),1),u[4]||(u[4]=(0,r.createElementVNode)('span',{class:'toggle-text'},'ğŸ“‹ ç›®æ ‡æ¸…å•',-1)),(0,r.createElementVNode)('span',ge,'('+(0,r.toDisplayString)(a.value)+'/'+(0,r.toDisplayString)((0,r.unref)(t).data.ä¸»çº¿ä»»åŠ¡.é˜¶æ®µç›®æ ‡.length)+')',1)]),(0,r.withDirectives)((0,r.createElementVNode)('div',Ee,[(0,r.unref)(t).data.ä¸»çº¿ä»»åŠ¡.é˜¶æ®µç›®æ ‡.length>0?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:0},(0,r.renderList)((0,r.unref)(t).data.ä¸»çº¿ä»»åŠ¡.é˜¶æ®µç›®æ ‡,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t,class:(0,r.normalizeClass)(['goal-item',{completed:s(t)}])},[(0,r.createElementVNode)('div',Ne,[s(t)?((0,r.openBlock)(),(0,r.createElementBlock)('svg',Ve,[...u[5]||(u[5]=[(0,r.createElementVNode)('path',{d:'M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'},null,-1)])])):((0,r.openBlock)(),(0,r.createElementBlock)('svg',fe,[...u[6]||(u[6]=[(0,r.createElementVNode)('circle',{cx:'12',cy:'12',r:'10'},null,-1)])]))]),(0,r.createElementVNode)('div',be,[(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['goal-text',{completed:s(t)}])},(0,r.toDisplayString)(e),3),s(t)?((0,r.openBlock)(),(0,r.createElementBlock)('span',he,'å·²å®Œæˆ')):(0,r.createCommentVNode)('v-if',!0)])],2))),128)):((0,r.openBlock)(),(0,r.createElementBlock)('div',ye,'(æš‚æ— ç›®æ ‡)'))],512),[[r.vShow,n.value]])]),(0,r.createCommentVNode)(' æƒ…æŠ¥ç¢ç‰‡ '),(0,r.createElementVNode)('div',ke,[(0,r.createElementVNode)('button',{class:'collapse-toggle-btn',onClick:u[1]||(u[1]=e=>l.value=!l.value)},[(0,r.createElementVNode)('span',Be,(0,r.toDisplayString)(l.value?'â–¼':'â–¶'),1),u[7]||(u[7]=(0,r.createElementVNode)('span',{class:'toggle-text'},'ğŸ” æƒ…æŠ¥ç¢ç‰‡',-1)),(0,r.createElementVNode)('span',ze,'('+(0,r.toDisplayString)(i.value)+'/'+(0,r.toDisplayString)(c.value)+')',1)]),(0,r.withDirectives)((0,r.createElementVNode)('div',Se,[c.value>0?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:0},(0,r.renderList)((0,r.unref)(t).data.ä¸»çº¿ä»»åŠ¡.æƒ…æŠ¥ç¢ç‰‡,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t,class:(0,r.normalizeClass)(['intel-item',e.çŠ¶æ€])},[(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['intel-status-ring',e.çŠ¶æ€])},[((0,r.openBlock)(),(0,r.createElementBlock)('svg',De,[u[8]||(u[8]=(0,r.createElementVNode)('circle',{cx:'18',cy:'18',r:'16',class:'ring-bg'},null,-1)),(0,r.createElementVNode)('circle',{cx:'18',cy:'18',r:'16',class:(0,r.normalizeClass)(['ring-progress',e.çŠ¶æ€]),'stroke-dasharray':m(e.çŠ¶æ€)},null,10,xe)])),(0,r.createElementVNode)('span',Ce,(0,r.toDisplayString)(d(e.çŠ¶æ€)),1)],2),(0,r.createElementVNode)('div',_e,[(0,r.createElementVNode)('div',we,[(0,r.createElementVNode)('span',$e,(0,r.toDisplayString)(e.ç¼–å·),1),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['intel-status-badge',e.çŠ¶æ€])},(0,r.toDisplayString)(e.çŠ¶æ€),3)]),(0,r.createElementVNode)('div',je,(0,r.toDisplayString)(e.æè¿°),1),(0,r.createElementVNode)('div',Ae,[(0,r.createElementVNode)('span',Me,'ğŸ’° '+(0,r.toDisplayString)(e.ä»·å€¼),1),(0,r.createElementVNode)('span',Le,'âš ï¸ '+(0,r.toDisplayString)(e.é£é™©),1)])])],2))),128)):((0,r.openBlock)(),(0,r.createElementBlock)('div',Ie,'(æš‚æ— æƒ…æŠ¥ç¢ç‰‡)'))],512),[[r.vShow,l.value]])])])]))}});var Pe=s(455);const Oe=(0,Pe.A)(Fe,[['__scopeId','data-v-ebc00eba']]),Re={class:'section',id:'other-residents-section'},Te={class:'other-residents-item'},Ue={class:'value'},Xe={class:'other-residents-item'},He={class:'value'},qe=(0,r.defineComponent)({__name:'OtherResidentsSection',setup(e){const t=f();return(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)('section',Re,[n[2]||(n[2]=(0,r.createElementVNode)('h2',{class:'section-title'},'ğŸ¢ å…¶ä»–æ¥¼å±‚æƒ…å†µ ğŸ¢',-1)),(0,r.createElementVNode)('div',Te,[n[0]||(n[0]=(0,r.createElementVNode)('div',{class:'label'},'ğŸ’¬ æ¥¼å±‚è¨€è¯­',-1)),(0,r.createElementVNode)('div',Ue,(0,r.toDisplayString)((0,r.unref)(t).data.æ¥¼å±‚å…¶ä»–ä½æˆ·.è¨€è¯­),1)]),(0,r.createElementVNode)('div',Xe,[n[1]||(n[1]=(0,r.createElementVNode)('div',{class:'label'},'ğŸƒ æ¥¼å±‚è¡Œä¸º',-1)),(0,r.createElementVNode)('div',He,(0,r.toDisplayString)((0,r.unref)(t).data.æ¥¼å±‚å…¶ä»–ä½æˆ·.è¡Œä¸º),1)])]))}}),We={id:'shelter-section',class:'section'},Ge={class:'shelter-grid'},Ke={class:'shelter-item'},Ye={class:'value'},Ze={class:'shelter-item'},Je={class:'value'},Qe={class:'shelter-item'},et={class:'value'},tt={class:'shelter-item'},nt={class:'expansion-list'},lt={class:'status'},at={class:'status'},ot={class:'status'},st={class:'shelter-item'},rt={class:'toggle-icon'},ct={class:'toggle-text'},it={class:'map-container'},dt={class:'map-zone'},mt={class:'room-grid entrance-grid'},ut={class:'room-cell highlight'},pt={class:'room-value'},vt={class:'room-value'},gt={class:'room-resident'},Et={class:'room-value'},Nt={class:'room-resident'},Vt={class:'map-zone'},ft={class:'room-grid core-grid'},bt={class:'room-value'},ht={class:'room-resident'},yt={class:'room-value'},kt={class:'room-resident'},Bt={class:'map-zone'},zt={class:'room-grid floor-grid'},St={class:'room-number'},Dt={class:'room-value'},xt={class:'room-resident'},Ct={class:'map-zone'},_t={class:'room-grid floor-grid'},wt={class:'room-number'},$t={class:'room-value'},jt={class:'room-resident'},At={class:'shelter-item'},Mt={class:'toggle-icon'},Lt={class:'ability-list'},It={class:'name'},Ft={class:'desc'},Pt=(0,r.defineComponent)({__name:'ShelterSection',setup(e){const t=f(),n=(0,r.ref)(!1),l=(0,r.ref)(!1),a=[{number:'2001'},{number:'2002'},{number:'2003'},{number:'2004'},{number:'2005'},{number:'2006'},{number:'2007'},{number:'2008'},{number:'2009'},{number:'2010'},{number:'2011'},{number:'2012'}],o=[{number:'1901'},{number:'1902'},{number:'1903'},{number:'1904'},{number:'1905'},{number:'1906'},{number:'1907'},{number:'1908'},{number:'1909'},{number:'1910'},{number:'1911'},{number:'1912'}],s=(0,r.computed)(()=>t.data.æˆ¿é—´.ç„å…³.ä¸´æ—¶å®¢æˆ¿Aå…¥ä½è€….length>0),c=(0,r.computed)(()=>t.data.æˆ¿é—´.ç„å…³.ä¸´æ—¶å®¢æˆ¿Bå…¥ä½è€….length>0);function i(e){const n='A'===e?t.data.æˆ¿é—´.ç„å…³.ä¸´æ—¶å®¢æˆ¿Aå…¥ä½è€…:t.data.æˆ¿é—´.ç„å…³.ä¸´æ—¶å®¢æˆ¿Bå…¥ä½è€…;return n.length>0?n.join('ã€'):'-'}const d=(0,r.computed)(()=>t.data.æˆ¿é—´.æ ¸å¿ƒåŒº.ä¸»å§å®¤ä½¿ç”¨è€….length>0),m=(0,r.computed)(()=>t.data.æˆ¿é—´.æ ¸å¿ƒåŒº.ä¸»æµ´å®¤ä½¿ç”¨è€….length>0);function u(){const e=t.data.æˆ¿é—´.æ ¸å¿ƒåŒº.ä¸»å§å®¤ä½¿ç”¨è€…;return e.length>0?e.join('ã€'):'-'}function p(){const e=t.data.æˆ¿é—´.æ ¸å¿ƒåŒº.ä¸»æµ´å®¤ä½¿ç”¨è€…;return e.length>0?e.join('ã€'):'-'}function v(e,n){const l='20'===e?'æ¥¼å±‚20æˆ¿é—´':'æ¥¼å±‚19æˆ¿é—´',a=t.data.æˆ¿é—´.æ¥¼å±‚æˆ¿é—´[l];return a?.[n]||{å…¥ä½è€…:[]}}function g(e,t){return v(e,t).å…¥ä½è€….length>0}function E(e,t){return v(e,t).å…¥ä½è€….length>0?'å·²å…¥ä½':'ç©ºç½®'}function N(e,t){const n=v(e,t);return 0===n.å…¥ä½è€….length?'-':'2001'===t?'{{user}} (ä½ )':'1901'===t?'çˆ±å®«é“ƒ & çˆ±å®«å¿ƒçˆ±':n.å…¥ä½è€….join('ã€')}return(e,v)=>((0,r.openBlock)(),(0,r.createElementBlock)('section',We,[v[24]||(v[24]=(0,r.createElementVNode)('h2',{class:'section-title'},'ğŸ° åº‡æŠ¤æ‰€ä¿¡æ¯ ğŸ°',-1)),(0,r.createElementVNode)('div',Ge,[(0,r.createElementVNode)('div',Ke,[v[2]||(v[2]=(0,r.createElementVNode)('div',{class:'label'},'âšœï¸ åº‡æŠ¤æ‰€ç­‰çº§',-1)),(0,r.createElementVNode)('div',Ye,(0,r.toDisplayString)((0,r.unref)(t).data.åº‡æŠ¤æ‰€.åº‡æŠ¤æ‰€ç­‰çº§),1)]),(0,r.createElementVNode)('div',Ze,[v[3]||(v[3]=(0,r.createElementVNode)('div',{class:'label'},'ğŸ² ä»Šæ—¥æŠ•æ·ç‚¹æ•°',-1)),(0,r.createElementVNode)('div',Je,(0,r.toDisplayString)((0,r.unref)(t).data.åº‡æŠ¤æ‰€.ä»Šæ—¥æŠ•æ·ç‚¹æ•°),1)]),(0,r.createElementVNode)('div',Qe,[v[4]||(v[4]=(0,r.createElementVNode)('div',{class:'label'},'â³ è·ç¦»ä¸‹æ¬¡ä¿åº•å‡çº§',-1)),(0,r.createElementVNode)('div',et,(0,r.toDisplayString)((0,r.unref)(t).data.åº‡æŠ¤æ‰€.è·ç¦»ä¸Šæ¬¡å‡çº§),1)]),(0,r.createElementVNode)('div',tt,[v[8]||(v[8]=(0,r.createElementVNode)('div',{class:'label'},'ğŸ”’ å¯æ‰©å±•åŒºåŸŸçŠ¶æ€',-1)),(0,r.createElementVNode)('div',nt,[(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['expansion-card',{unlocked:'æœªè§£é”'!==(0,r.unref)(t).data.åº‡æŠ¤æ‰€.å¯æ‰©å±•åŒºåŸŸ.åŒ»ç–—ç¿¼}])},[v[5]||(v[5]=(0,r.createElementVNode)('div',{class:'name'},'âš•ï¸ åŒ»ç–—ç¿¼',-1)),(0,r.createElementVNode)('div',lt,(0,r.toDisplayString)((0,r.unref)(t).data.åº‡æŠ¤æ‰€.å¯æ‰©å±•åŒºåŸŸ.åŒ»ç–—ç¿¼),1)],2),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['expansion-card',{unlocked:'æœªè§£é”'!==(0,r.unref)(t).data.åº‡æŠ¤æ‰€.å¯æ‰©å±•åŒºåŸŸ.åˆ¶é€ å·¥åŠ}])},[v[6]||(v[6]=(0,r.createElementVNode)('div',{class:'name'},'ğŸ”§ åˆ¶é€ å·¥åŠ',-1)),(0,r.createElementVNode)('div',at,(0,r.toDisplayString)((0,r.unref)(t).data.åº‡æŠ¤æ‰€.å¯æ‰©å±•åŒºåŸŸ.åˆ¶é€ å·¥åŠ),1)],2),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['expansion-card',{unlocked:'æœªè§£é”'!==(0,r.unref)(t).data.åº‡æŠ¤æ‰€.å¯æ‰©å±•åŒºåŸŸ.è½½å…·æ ¼çº³åº“}])},[v[7]||(v[7]=(0,r.createElementVNode)('div',{class:'name'},'ğŸšœ è½½å…·æ ¼çº³åº“',-1)),(0,r.createElementVNode)('div',ot,(0,r.toDisplayString)((0,r.unref)(t).data.åº‡æŠ¤æ‰€.å¯æ‰©å±•åŒºåŸŸ.è½½å…·æ ¼çº³åº“),1)],2)])]),(0,r.createCommentVNode)(' ä¼Šç”¸ç©ºé—´åœ°å›¾ '),(0,r.createElementVNode)('div',st,[v[22]||(v[22]=(0,r.createElementVNode)('div',{class:'label'},'ğŸ—ºï¸ ä¼Šç”¸ç©ºé—´åœ°å›¾',-1)),(0,r.createElementVNode)('button',{class:'map-toggle-btn',onClick:v[0]||(v[0]=e=>n.value=!n.value)},[(0,r.createElementVNode)('span',rt,(0,r.toDisplayString)(n.value?'â–¼':'â–¶'),1),(0,r.createElementVNode)('span',ct,(0,r.toDisplayString)(n.value?'æ”¶èµ·åœ°å›¾':'å±•å¼€åœ°å›¾'),1)]),(0,r.withDirectives)((0,r.createElementVNode)('div',it,[(0,r.createCommentVNode)(' ç„å…³åŒºåŸŸ '),(0,r.createElementVNode)('div',dt,[v[13]||(v[13]=(0,r.createElementVNode)('div',{class:'zone-label'},'ğŸšª ç„å…³ - å‡€åŒ–åŒº',-1)),(0,r.createElementVNode)('div',mt,[(0,r.createElementVNode)('div',ut,[v[9]||(v[9]=(0,r.createElementVNode)('div',{class:'room-number'},'ç„å…³',-1)),(0,r.createElementVNode)('div',pt,(0,r.toDisplayString)('å°±ç»ª'),1),v[10]||(v[10]=(0,r.createElementVNode)('div',{class:'room-resident'},'å‡€åŒ–/éš”ç¦»åŒº',-1))]),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['room-cell',{occupied:s.value}])},[v[11]||(v[11]=(0,r.createElementVNode)('div',{class:'room-number'},'ä¸´æ—¶å®¢æˆ¿ A',-1)),(0,r.createElementVNode)('div',vt,(0,r.toDisplayString)(s.value?'å·²å…¥ä½':'ç©ºç½®'),1),(0,r.createElementVNode)('div',gt,(0,r.toDisplayString)(i('A')),1)],2),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['room-cell',{occupied:c.value}])},[v[12]||(v[12]=(0,r.createElementVNode)('div',{class:'room-number'},'ä¸´æ—¶å®¢æˆ¿ B',-1)),(0,r.createElementVNode)('div',Et,(0,r.toDisplayString)(c.value?'å·²å…¥ä½':'ç©ºç½®'),1),(0,r.createElementVNode)('div',Nt,(0,r.toDisplayString)(i('B')),1)],2)])]),(0,r.createCommentVNode)(' æ ¸å¿ƒåŒº '),(0,r.createElementVNode)('div',Vt,[v[17]||(v[17]=(0,r.createElementVNode)('div',{class:'zone-label'},'ğŸ’ æ ¸å¿ƒç”Ÿæ´»åŒº',-1)),(0,r.createElementVNode)('div',ft,[v[16]||(v[16]=(0,r.createStaticVNode)('<div class="room-cell highlight"><div class="room-number">å®¢å…</div><div class="room-value">å…¬å…±åŒºåŸŸ</div><div class="room-resident">-</div></div><div class="room-cell highlight"><div class="room-number">é¤å…/å¨æˆ¿</div><div class="room-value">ä¸‡è±¡åˆæˆç»ˆç«¯</div><div class="room-resident">-</div></div>',2)),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['room-cell',{occupied:d.value}])},[v[14]||(v[14]=(0,r.createElementVNode)('div',{class:'room-number'},'ä¸»å§å®¤',-1)),(0,r.createElementVNode)('div',bt,(0,r.toDisplayString)(d.value?'ä½¿ç”¨ä¸­':'ç©ºé—²'),1),(0,r.createElementVNode)('div',ht,(0,r.toDisplayString)(u()),1)],2),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['room-cell',{occupied:m.value}])},[v[15]||(v[15]=(0,r.createElementVNode)('div',{class:'room-number'},'ä¸»æµ´å®¤',-1)),(0,r.createElementVNode)('div',yt,(0,r.toDisplayString)(m.value?'ä½¿ç”¨ä¸­':'ç©ºé—²'),1),(0,r.createElementVNode)('div',kt,(0,r.toDisplayString)(p()),1)],2)])]),(0,r.createCommentVNode)(' 20å±‚èµ°å»Š '),(0,r.createElementVNode)('div',Bt,[v[18]||(v[18]=(0,r.createElementVNode)('div',{class:'zone-label'},'ğŸ¢ 20å±‚ - å…¬å¯“èµ°å»Š',-1)),v[19]||(v[19]=(0,r.createElementVNode)('div',{class:'floor-indicator'},'â†“ é€šå¾€å¤–éƒ¨æ¥¼æ¢¯',-1)),(0,r.createElementVNode)('div',zt,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(a,e=>(0,r.createElementVNode)('div',{key:e.number,class:(0,r.normalizeClass)(['room-cell',{'user-room':'2001'===e.number,occupied:g('20',e.number)}])},[(0,r.createElementVNode)('div',St,(0,r.toDisplayString)(e.number),1),(0,r.createElementVNode)('div',Dt,(0,r.toDisplayString)(E('20',e.number)),1),(0,r.createElementVNode)('div',xt,(0,r.toDisplayString)(N('20',e.number)),1)],2)),64))])]),(0,r.createCommentVNode)(' 19å±‚èµ°å»Š '),(0,r.createElementVNode)('div',Ct,[v[20]||(v[20]=(0,r.createElementVNode)('div',{class:'zone-label'},'ğŸ¢ 19å±‚ - å…¬å¯“èµ°å»Š',-1)),(0,r.createElementVNode)('div',_t,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o,e=>(0,r.createElementVNode)('div',{key:e.number,class:(0,r.normalizeClass)(['room-cell',{occupied:g('19',e.number)}])},[(0,r.createElementVNode)('div',wt,(0,r.toDisplayString)(e.number),1),(0,r.createElementVNode)('div',$t,(0,r.toDisplayString)(E('19',e.number)),1),(0,r.createElementVNode)('div',jt,(0,r.toDisplayString)(N('19',e.number)),1)],2)),64))]),v[21]||(v[21]=(0,r.createElementVNode)('div',{class:'floor-indicator'},'â†“ é€šå¾€18å±‚',-1))])],512),[[r.vShow,n.value]])]),(0,r.createCommentVNode)(' åº‡æŠ¤æ‰€èƒ½åŠ›åˆ—è¡¨ï¼ˆå¯æŠ˜å ï¼‰ '),(0,r.createElementVNode)('div',At,[(0,r.createElementVNode)('button',{class:'collapse-toggle-btn',onClick:v[1]||(v[1]=e=>l.value=!l.value)},[(0,r.createElementVNode)('span',Mt,(0,r.toDisplayString)(l.value?'â–¼':'â–¶'),1),v[23]||(v[23]=(0,r.createElementVNode)('span',{class:'toggle-text'},'ğŸ’¡ åº‡æŠ¤æ‰€èƒ½åŠ›åˆ—è¡¨',-1))]),(0,r.withDirectives)((0,r.createElementVNode)('div',Lt,[(0,r.unref)(t).data.åº‡æŠ¤æ‰€.åº‡æŠ¤æ‰€èƒ½åŠ›.length>0?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:0},(0,r.renderList)((0,r.unref)(t).data.åº‡æŠ¤æ‰€.åº‡æŠ¤æ‰€èƒ½åŠ›,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t,class:'ability-card'},[(0,r.createElementVNode)('div',It,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)('div',Ft,(0,r.toDisplayString)(e.desc),1)]))),128)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createTextVNode)('(æš‚æ— èƒ½åŠ›)')],64))],512),[[r.vShow,l.value]])])])]))}}),Ot={class:'section'},Rt={class:'content-text'},Tt=['src','alt'],Ut={key:1,class:'markdown-table'},Xt=['innerHTML'],Ht={key:2,class:'system-message'},qt={key:3,class:'image-prompt'},Wt=(0,r.defineComponent)({__name:'StorySection',props:{content:{}},setup(e){const t=e,n=(0,r.computed)(()=>{const e=t.content??'';if(!e.trim())return[{key:'empty',text:'(æš‚æ— æ­£æ–‡)'}];const n=/(?:^|\n)(\|[\s\S]*?\|)(?:\n\|[\s\S]*?\|)*/g,a=/(\*{0,2}>>>(?:[\s\S]*?)<<<\*{0,2})/g,o=/image###([\s\S]*?)###/g,s=/<imgthink>[\s\S]*?<\/imgthink>/g,r=/!\[(.*?)\]\((.*?)\)|"([^"]+)"|\*([^*]+)\*|ã€(.*?)ã€‘|(?:^|\n)((?:ä¼Šç”¸|ç³»ç»Ÿ|System)[ï¼š:].*?)(?=$|\n)/g,c=[];let i=0;for(const t of e.matchAll(n)){const n=t.index??0;n>i&&c.push({key:`t${c.length}`,text:e.slice(i,n)});const a=t[0].trim().split('\n').filter(e=>e.trim().startsWith('|'));if(a.length>=2){const e=a.filter(e=>!e.includes('---')&&!e.includes('---'));if(e.length>=1){const t=l(e[0]),n=e.slice(1).map(l);c.push({key:`table${c.length}`,isTable:!0,tableHeaders:t,tableRows:n})}}i=n+t[0].length}for(const t of e.matchAll(s)){const n=t.index??0;n>i&&c.push({key:`t${c.length}`,text:e.slice(i,n)}),i=n+t[0].length}for(const t of e.matchAll(o)){const n=t.index??0;n>i&&c.push({key:`t${c.length}`,text:e.slice(i,n)}),c.push({key:`imgprompt${c.length}`,text:t[0],className:'image-prompt'}),i=n+t[0].length}for(const t of e.matchAll(a)){const n=t.index??0;n>i&&c.push({key:`t${c.length}`,text:e.slice(i,n)});let l=t[1];l=l.replace(/^\*{0,2}>>>\s*/,'').replace(/\s*<<<\*{0,2}$/,''),c.push({key:`system${c.length}`,text:l,isSystem:!0,className:'system-message'}),i=n+t[0].length}if(i<e.length){const t=e.slice(i);for(const e of t.matchAll(r)){const n=(e.index??0)+i;n>i&&c.push({key:`t${c.length}`,text:t.slice(i-i,e.index)}),null!=e[2]?c.push({key:`img${c.length}`,text:e[0],isImage:!0,altText:e[1]??'',imageUrl:e[2]}):null!=e[6]?c.push({key:`system${c.length}`,text:e[6],isSystem:!0,className:'system-message'}):'ç³»ç»Ÿ'===e[5]?c.push({key:`t${c.length}`,text:'ã€ç³»ç»Ÿã€‘æ¶ˆæ¯',className:'system-hint'}):null!=e[5]?c.push({key:`t${c.length}`,text:`ã€${e[5]}ã€‘`,className:'character-name'}):null!=e[3]?c.push({key:`t${c.length}`,text:`â€œ${e[3]}"`,className:'dialog-text'}):null!=e[4]&&c.push({key:`t${c.length}`,text:`"${e[4]}"`,className:'dialog-text'}),i=n+e[0].length}i<e.length&&c.push({key:`t${c.length}`,text:e.slice(i)})}return c});function l(e){return e.trim().split('|').slice(1,-1).map(e=>e.trim())}function a(e){return e.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#039;').replace(/\*\*(.*?)\*\*/g,'<strong>$1</strong>').replace(/\*(.*?)\*/g,'<em>$1</em>').replace(/ã€(.*?)ã€‘/g,'ã€$1ã€‘')}return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('section',Ot,[t[0]||(t[0]=(0,r.createElementVNode)('h2',{class:'section-title'},'ğŸ“– æ­£æ–‡å‰§æƒ… ğŸ“–',-1)),(0,r.createElementVNode)('div',Rt,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(n),e=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:e.key},[e.isImage?((0,r.openBlock)(),(0,r.createElementBlock)('img',{key:0,src:e.imageUrl,alt:e.altText,class:'story-image'},null,8,Tt)):e.isTable?((0,r.openBlock)(),(0,r.createElementBlock)('table',Ut,[(0,r.createElementVNode)('thead',null,[(0,r.createElementVNode)('tr',null,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.tableHeaders,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('th',{key:t},(0,r.toDisplayString)(e),1))),128))])]),(0,r.createElementVNode)('tbody',null,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.tableRows,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('tr',{key:t},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('td',{key:t,innerHTML:a(e)},null,8,Xt))),128))]))),128))])])):e.isSystem?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ht,[(0,r.createElementVNode)('pre',null,(0,r.toDisplayString)(e.text),1)])):'image-prompt'===e.className?((0,r.openBlock)(),(0,r.createElementBlock)('pre',qt,(0,r.toDisplayString)(e.text),1)):((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:4,class:(0,r.normalizeClass)(e.className)},(0,r.toDisplayString)(e.text),3))],64))),128))])]))}}),Gt=(0,Pe.A)(Wt,[['__scopeId','data-v-2f45ee8b']]),Kt={class:'section'},Yt={class:'global-info-bar'},Zt={class:'info-item info-item--location'},Jt={class:'info-item info-item--date'},Qt={class:'info-item info-item--time'},en=(0,r.defineComponent)({__name:'WorldSection',setup(e){const t=f();return(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)('section',Kt,[n[0]||(n[0]=(0,r.createElementVNode)('h2',{class:'section-title'},'ğŸŒ åŸºç¡€ä¿¡æ¯ ğŸŒ',-1)),(0,r.createElementVNode)('div',Yt,[(0,r.createElementVNode)('div',Zt,'ğŸ—ºï¸ '+(0,r.toDisplayString)((0,r.unref)(t).data.ä¸–ç•Œ.åœ°å€),1),(0,r.createElementVNode)('div',Jt,' ğŸ“… '+(0,r.toDisplayString)((0,r.unref)(t).data.ä¸–ç•Œ.æ—¥æœŸ)+'ï¼ˆæœ«æ—¥ç¬¬ '+(0,r.toDisplayString)((0,r.unref)(t).data.ä¸–ç•Œ.æœ«æ—¥å¤©æ•°)+' å¤©ï¼‰ ',1),(0,r.createElementVNode)('div',Qt,'â³ '+(0,r.toDisplayString)((0,r.unref)(t).data.ä¸–ç•Œ.æ—¶é—´),1)])]))}}),tn=['imgthink','drawprompt','imageprompt','genimage'];function nn(e){let t=e;for(const e of tn)t=t.replace(new RegExp(`<${e}>[^<]*<\\/${e}>`,'gi'),'');return t}function ln(e){const t=nn(e),n=t.match(/(<content>(?!.*<content>)[\s\S]*?(?:<\/content>|<\/option>|$))/i),l=t.match(/(<option>(?!.*<option>)[\s\S]*?(?:<\/option>|$))/i),a=n?n[1].replace(/<\/?content>/gi,'').replace(/<\/option>/gi,'').trim():'',o=l?l[1].replace(/<\/?option>/gi,'').trim():'';return{content:a,options:o?o.split('\n').map(e=>e.trim()).filter(Boolean):[]}}function an(){try{const e=getChatMessages('0-{{lastMessageId}}'),t=e?.[e.length-1],n=t?.message??t?.data?.extra_text??t?.text??'';if(!n)return null;const l=function(e){if(!e.trim())return null;try{const t=nn(e),n=(new DOMParser).parseFromString(t,'text/html'),l=n.querySelector('content'),a=n.querySelector('option');if(!l&&!a)return null;const o=l?.textContent?.trim()??'',s=a?.textContent?.trim()??'';return{content:o,options:s?s.split('\n').map(e=>e.trim()).filter(Boolean):[]}}catch{return null}}(n);return l||ln(n)}catch(e){return console.error('[InjectedData] é”™è¯¯:',e),null}}const on={id:'eden-main-container'},sn=(0,r.defineComponent)({__name:'App',setup(e){const{content:t,options:n}=function(){const e=(0,r.ref)(''),t=(0,r.ref)([]),n=new URLSearchParams(window.location.search).has('dev'),l=()=>{if(n){const n={content:'\n<p>\n  <strong>ã€å½“å‰å‰§æƒ…ã€‘</strong>\n  ä½ å’Œå¹¸å­˜è€…ä»¬æ­£åœ¨æ¢ç´¢ä¸€æ ‹åºŸå¼ƒåŒ»é™¢çš„äºŒæ¥¼ï¼Œå¯»æ‰¾å¯ç”¨çš„åŒ»ç–—ç‰©èµ„ã€‚ç©ºæ°”ä¸­å¼¥æ¼«ç€æ¶ˆæ¯’æ°´å’Œè…æœ½æ··åˆçš„æ€ªå¼‚æ°”å‘³ï¼Œå¯‚é™å¾—ä»¤äººä¸å®‰ã€‚\n</p>\n<p>\n  <em>"å°å¿ƒç‚¹ï¼Œè¿™é‡Œå¯èƒ½è¿˜æœ‰"é‚£äº›ä¸œè¥¿"ã€‚"</em> æµ…è§äºšç¾ç´§æ¡ç€æ‰‹ä¸­çš„æ¶ˆé˜²æ–§ï¼Œä½å£°æé†’é“ã€‚\n</p>\n<p>\n  çªç„¶ï¼Œä¸€å£°åˆºè€³çš„å°–å«ä»èµ°å»Šå°½å¤´ä¼ æ¥ï¼Œæ‰“ç ´äº†æ²‰å¯‚ã€‚\n</p>\n',options:['å‰å¾€å°–å«å£°ä¼ æ¥çš„æ–¹å‘æŸ¥çœ‹','ç«‹åˆ»å¯»æ‰¾æˆ¿é—´èº²é¿','å‘¼å«å…¶ä»–å¹¸å­˜è€…æ”¯æ´']};return e.value=n.content,void(t.value=n.options)}const l=an();if(l)return e.value=l.content,void(t.value=l.options);const a=document.getElementById('injected-data-container'),o=ln(a?.textContent??'');e.value=o.content,t.value=o.options};let a=null;return(0,r.onMounted)(()=>{if(l(),!n){const e=document.getElementById('injected-data-container');if(!e)return;a=new MutationObserver(()=>l()),a.observe(e,{characterData:!0,childList:!0,subtree:!0})}}),(0,r.onBeforeUnmount)(()=>{a?.disconnect(),a=null}),{content:e,options:t,refresh:l}}();return l(()=>[t.value,n.value.join('\n')],()=>{window.dispatchEvent(new Event('resize'))},{debounce:200}),(e,l)=>((0,r.openBlock)(),(0,r.createElementBlock)('main',on,[(0,r.createVNode)(en),(0,r.createVNode)(Oe),(0,r.createVNode)(Gt,{content:(0,r.unref)(t)},null,8,['content']),(0,r.createVNode)(Pt),(0,r.createVNode)(Y),(0,r.createVNode)(qe),(0,r.createVNode)(ae,{options:(0,r.unref)(n)},null,8,['options'])]))}});$(async()=>{await waitGlobalInitialized('Mvu');const t=(0,r.createApp)(sn);t.use(e()),t.mount('#app')}),$(window).on('pagehide',()=>{eventClearAll()});
//# sourceMappingURL=index.js.map</script><style>.mission-content[data-v-ebc00eba]{display:flex;flex-direction:column;gap:12px}.mission-phase[data-v-ebc00eba]{background-color:var(--bg-medium);padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.05)}.phase-label[data-v-ebc00eba]{font-size:0.85em;color:var(--text-color);opacity:0.8;margin-bottom:6px}.phase-name[data-v-ebc00eba]{font-size:1em;font-weight:bold;color:var(--accent-gold)}.goals-progress-bar[data-v-ebc00eba]{background-color:var(--bg-medium);padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.05)}.progress-header[data-v-ebc00eba]{display:flex;justify-content:space-between;margin-bottom:8px;font-size:0.9em;color:var(--text-color)}.progress-text[data-v-ebc00eba]{color:var(--accent-gold);font-weight:bold}.progress-track[data-v-ebc00eba]{height:8px;background-color:var(--bg-dark);border-radius:4px;overflow:hidden}.progress-fill[data-v-ebc00eba]{height:100%;background:linear-gradient(90deg,var(--dialog-color),var(--accent-gold));border-radius:4px;transition:width 0.3s ease}.mission-goals[data-v-ebc00eba],.mission-intel[data-v-ebc00eba]{margin-top:4px}.goals-count[data-v-ebc00eba],.intel-count[data-v-ebc00eba]{font-size:0.85em;opacity:0.7}.goals-list[data-v-ebc00eba],.intel-list[data-v-ebc00eba]{margin-top:8px;padding:8px;background-color:var(--bg-dark);border-radius:8px}.goal-item[data-v-ebc00eba]{display:flex;align-items:flex-start;gap:10px;padding:10px 8px;border-bottom:1px solid rgba(255,255,255,0.05);transition:all 0.2s ease}.goal-item[data-v-ebc00eba]:last-child{border-bottom:none}.goal-item.empty[data-v-ebc00eba]{color:var(--text-color);opacity:0.6;justify-content:center}.goal-item.completed[data-v-ebc00eba]{background-color:rgba(80,250,123,0.1)}.goal-checkbox[data-v-ebc00eba]{width:22px;height:22px;flex-shrink:0;margin-top:1px}.check-icon[data-v-ebc00eba]{width:100%;height:100%;fill:var(--dialog-color)}.check-icon.empty[data-v-ebc00eba]{fill:var(--bg-light);stroke:var(--text-color);opacity:0.5}.goal-content[data-v-ebc00eba]{flex:1;display:flex;align-items:flex-start;gap:8px;flex-wrap:wrap}.goal-text[data-v-ebc00eba]{font-size:0.9em;color:var(--text-color);line-height:1.4;flex:1;transition:all 0.2s ease}.goal-text.completed[data-v-ebc00eba]{opacity:0.6;text-decoration:line-through}.goal-status-tag[data-v-ebc00eba]{font-size:0.7em;padding:2px 6px;border-radius:4px;background-color:var(--dialog-color);color:var(--bg-dark);font-weight:bold}.intel-item[data-v-ebc00eba]{display:flex;align-items:flex-start;gap:12px;background-color:var(--bg-medium);padding:12px;border-radius:8px;margin-bottom:8px;border-left:3px solid transparent;transition:all 0.2s ease}.intel-item[data-v-ebc00eba]:last-child{margin-bottom:0}.intel-item.empty[data-v-ebc00eba]{text-align:center;color:var(--text-color);opacity:0.6;padding:16px;justify-content:center;border-left:none}.intel-item.å·²å®Œæˆ[data-v-ebc00eba]{border-left-color:var(--dialog-color);background-color:rgba(80,250,123,0.08)}.intel-item.å·²æ¢ç´¢[data-v-ebc00eba]{border-left-color:var(--accent-blue);background-color:rgba(189,147,249,0.08)}.intel-item.æœªæ¢ç´¢[data-v-ebc00eba]{border-left-color:var(--text-color);opacity:0.7}.intel-status-ring[data-v-ebc00eba]{width:36px;height:36px;flex-shrink:0;position:relative}.progress-ring[data-v-ebc00eba]{width:100%;height:100%;transform:rotate(-90deg)}.ring-bg[data-v-ebc00eba]{fill:none;stroke:var(--bg-dark);stroke-width:2}.ring-progress[data-v-ebc00eba]{fill:none;stroke-width:2;stroke-linecap:round;transition:stroke-dasharray 0.3s ease}.ring-progress.å·²å®Œæˆ[data-v-ebc00eba]{stroke:var(--dialog-color)}.ring-progress.å·²æ¢ç´¢[data-v-ebc00eba]{stroke:var(--accent-blue)}.ring-progress.æœªæ¢ç´¢[data-v-ebc00eba]{stroke:var(--text-color);opacity:0.5}.ring-icon[data-v-ebc00eba]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:0.75em;font-weight:bold}.intel-content[data-v-ebc00eba]{flex:1;min-width:0}.intel-header[data-v-ebc00eba]{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}.intel-id[data-v-ebc00eba]{font-weight:bold;color:var(--accent-gold);font-size:0.9em}.intel-status-badge[data-v-ebc00eba]{font-size:0.7em;padding:2px 8px;border-radius:4px;font-weight:bold}.intel-status-badge.æœªæ¢ç´¢[data-v-ebc00eba]{color:var(--text-color);background-color:var(--bg-dark)}.intel-status-badge.å·²æ¢ç´¢[data-v-ebc00eba]{color:var(--bg-dark);background-color:var(--accent-blue)}.intel-status-badge.å·²å®Œæˆ[data-v-ebc00eba]{color:var(--bg-dark);background-color:var(--dialog-color)}.intel-desc[data-v-ebc00eba]{font-size:0.85em;color:var(--text-color);margin-bottom:8px;line-height:1.4}.intel-meta[data-v-ebc00eba]{display:flex;gap:12px;font-size:0.75em}.intel-value[data-v-ebc00eba]{color:var(--accent-gold)}.intel-risk[data-v-ebc00eba]{color:var(--accent-red)}

.markdown-table[data-v-2f45ee8b]{width:100%;border-collapse:collapse;margin:12px 0;font-size:0.9em;background-color:var(--bg-medium);border-radius:8px;overflow:hidden}.markdown-table th[data-v-2f45ee8b],.markdown-table td[data-v-2f45ee8b]{padding:10px 12px;text-align:left;border-bottom:1px solid rgba(255,255,255,0.1)}.markdown-table th[data-v-2f45ee8b]{background-color:var(--bg-dark);color:var(--accent-gold);font-weight:bold;font-size:0.85em}.markdown-table td[data-v-2f45ee8b]{color:var(--text-color);line-height:1.5}.markdown-table td[data-v-2f45ee8b] strong{color:var(--text-strong)}.markdown-table td[data-v-2f45ee8b] em{color:var(--accent-blue)}.markdown-table tr:last-child td[data-v-2f45ee8b]{border-bottom:none}.markdown-table tbody tr[data-v-2f45ee8b]:hover{background-color:rgba(255,255,255,0.03)}.system-message[data-v-2f45ee8b]{background-color:rgba(0,180,216,0.1);border:1px solid rgba(0,180,216,0.4);border-radius:8px;padding:12px 16px;margin:12px 0;font-family:'Consolas','Monaco','Courier New',monospace;font-size:0.9em;line-height:1.6;color:var(--accent-cyan,#00b4d8);overflow-x:auto}.system-message pre[data-v-2f45ee8b]{margin:0;white-space:pre-wrap;word-wrap:break-word}.system-hint[data-v-2f45ee8b]{color:var(--accent-gold,#f1fa8c);font-weight:500}.character-name[data-v-2f45ee8b]{color:var(--accent-blue,#bd93f9);font-weight:600}.image-prompt[data-v-2f45ee8b]{display:block;background-color:rgba(255,255,255,0.05);border:1px dashed rgba(255,255,255,0.2);border-radius:4px;padding:8px 12px;margin:8px 0;font-family:'Consolas','Monaco','Courier New',monospace;font-size:0.85em;color:var(--accent-gold);overflow-x:auto}

:root{--bg-main:#1a1b26;--bg-light:#282a36;--bg-medium:#44475a;--bg-dark:#13141b;--border-color:#8be9fd;--border-shadow-color:#b3f2ff;--text-color:#f8f8f2;--text-strong:#ffffff;--dialog-color:#50fa7b;--thought-color:#ff79c6;--accent-gold:#f1fa8c;--accent-red:#ff5555;--accent-blue:#bd93f9;--accent-cyan:#00b4d8;--health-bar-color:#50fa7b;--border-radius:12px;--section-gap:16px;--inner-padding:18px;--transition-speed:0.3s;--font-main:'Microsoft YaHei',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif}:root[data-theme='jade_green']{--bg-main:#f0f8f8;--bg-light:#ffffff;--bg-medium:#e0f0e0;--bg-dark:#d0e0d0;--border-color:#20b2aa;--border-shadow-color:#a7dbd8;--text-color:#333333;--text-strong:#000000;--dialog-color:#1e90ff;--thought-color:#6a5acd;--accent-gold:#ffa500;--accent-red:#dc143c;--accent-blue:#4682b4;--accent-cyan:#00b4d8;--health-bar-color:#28a745}:root[data-theme='parchment']{--bg-main:#efe3c3;--bg-light:#e8d9b0;--bg-medium:#c3a56e;--bg-dark:#6c4a24;--border-color:#8a6642;--border-shadow-color:#5a3a28;--text-color:#3a2d1f;--text-strong:#000000;--dialog-color:#1e3a8a;--thought-color:#8b0000;--accent-gold:#c19a49;--accent-red:#8b3a3a;--accent-blue:#2c4875;--accent-cyan:#008b8b;--health-bar-color:#d2691e}:root[data-theme='milky']{--bg-main:#f5f5f5;--bg-medium:#e8e8e8;--bg-light:#ffffff;--bg-dark:#dcdcdc;--border-color:#79a07b;--border-shadow-color:#c0c0c0;--text-color:#4a4a4a;--text-strong:#000000;--dialog-color:#4682b4;--thought-color:#6a5acd;--accent-gold:#d2b48c;--accent-red:#cd5c5c;--accent-blue:#5f9ea0;--accent-cyan:#20b2aa;--health-bar-color:#8fbc8f}*{box-sizing:border-box}body{font-family:var(--font-main);margin:0;padding:8px;background-color:transparent;color:var(--text-color);line-height:1.7}main{font-size:var(--font-size-main,16px);border:1px solid var(--border-color);box-shadow:0 0 25px 0px var(--border-shadow-color),inset 0 0 15px rgba(255,255,255,0.05);background-color:var(--bg-main);padding:20px;border-radius:var(--border-radius);max-width:900px;margin:10px auto;width:100%;display:flex;flex-direction:column;gap:var(--section-gap)}.section{background-color:var(--bg-light);padding:var(--inner-padding);border-radius:var(--border-radius);border:1px solid rgba(200,200,220,0.1);position:relative}.section-title{font-size:1.25em;font-weight:bold;color:var(--text-strong);text-align:center;margin:0 0 16px 0;border-bottom:2px solid var(--border-color);padding-bottom:10px}.choices-title{text-align:left;border-bottom:none;padding-bottom:0}.global-info-bar{display:flex;flex-direction:column;align-items:flex-start;gap:8px}.info-item{padding:4px 10px;border-radius:8px;background-color:var(--bg-medium);font-size:0.9em;width:100%;white-space:normal}.info-item--location{color:var(--accent-blue)}.info-item--date{color:var(--accent-gold)}.info-item--time{color:var(--accent-red)}.content-text{white-space:pre-line;word-break:break-word}.dialog-text{color:var(--dialog-color);font-weight:500}.thought-text{color:var(--thought-color);font-style:italic}.system-text{color:var(--accent-gold);font-weight:bold;text-shadow:0 0 5px rgba(241,250,140,0.3);display:inline-block;margin:4px 0}.eden-text{color:#00ffff;font-family:'Courier New',monospace;background:rgba(0,255,255,0.1);padding:2px 6px;border-radius:4px;border-left:2px solid #00ffff;display:block;margin:6px 0}.story-image{max-width:100%;height:auto;border-radius:8px;margin:10px 0;display:block;box-shadow:0 4px 6px rgba(0,0,0,0.3)}.shelter-grid{display:grid;grid-template-columns:1fr;gap:12px}.shelter-item .label{font-size:0.9em;color:var(--text-color);opacity:0.8;margin-bottom:6px}.shelter-item .value{font-size:1.05em;color:var(--text-strong);white-space:pre-line;word-break:break-word}.ability-list{max-height:280px;overflow-y:auto;padding:10px;background-color:var(--bg-dark);border-radius:8px}.ability-card{background-color:var(--bg-medium);padding:12px;border-radius:6px;margin-bottom:8px}.ability-card .name{font-weight:bold;color:var(--border-color);margin-bottom:4px}.ability-card .desc{font-size:0.85em;opacity:0.9;line-height:1.4;white-space:pre-line}.status-tabs-container{background-color:var(--bg-main);border-radius:var(--border-radius);padding:10px}.tab-buttons{display:flex;flex-wrap:nowrap;gap:8px;margin-bottom:10px;overflow-x:auto;padding-bottom:8px}.tab-button{background-color:var(--bg-medium);color:var(--text-color);padding:8px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);cursor:pointer;font-size:0.9em;white-space:nowrap;transition:all var(--transition-speed)}.tab-button:hover{background-color:var(--border-color);color:var(--bg-dark)}.tab-button.active{background-color:var(--border-color);color:var(--bg-dark);font-weight:bold;box-shadow:0 0 10px rgba(139,233,253,0.4)}.tab-content{display:none;animation:fadeEffect var(--transition-speed)}.tab-content.active{display:block}@keyframes fadeEffect{from{opacity:0}to{opacity:1}}.status-grid{display:flex;flex-direction:column;gap:14px}.status-item{background-color:var(--bg-light);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.05)}.status-item .label{font-weight:bold;color:var(--accent-blue);margin-bottom:6px;font-size:0.95em}.status-item .value{color:var(--text-strong);white-space:pre-line;word-break:break-word}.health-section-header{display:flex;align-items:baseline;justify-content:space-between;gap:10px}.health-status-subtext{font-size:0.85em;opacity:0.85;margin:4px 0 10px 0;color:var(--accent-gold)}.value-subtext{font-size:0.85em;opacity:0.9;margin-top:8px;color:var(--accent-red);white-space:pre-line}.progress-bar-container{width:100%;height:12px;background-color:var(--bg-dark);border-radius:6px;overflow:hidden;border:1px solid rgba(255,255,255,0.1)}.progress-bar-value{height:100%;width:0%;background-color:var(--health-bar-color);border-radius:6px;transition:width var(--transition-speed)}.details-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}.other-residents-item{padding:10px;border-radius:8px;background-color:var(--bg-medium);margin-bottom:10px}.other-residents-item .label{font-weight:bold;color:var(--accent-blue);margin-bottom:4px}.other-residents-item .value{white-space:pre-line;word-break:break-word}.choice-item{width:100%;text-align:left;background-color:var(--bg-medium);padding:10px;border-radius:8px;margin-bottom:8px;cursor:pointer;transition:all var(--transition-speed);border:0;color:inherit;font:inherit}.choice-item:hover{background-color:var(--border-color);color:var(--bg-dark)}.palette-button{position:absolute;top:16px;right:16px;width:38px;height:38px;border-radius:50%;border:1px solid var(--border-color);background:var(--bg-medium);color:var(--text-color);cursor:pointer;font-size:18px;display:flex;align-items:center;justify-content:center;transition:all var(--transition-speed)}.palette-button:hover{background:var(--border-color);color:var(--bg-dark)}.palette-modal{position:absolute;top:60px;right:16px;width:260px;background:var(--bg-light);border:1px solid var(--border-color);border-radius:10px;box-shadow:0 0 20px rgba(0,0,0,0.4);padding:14px;display:none;z-index:50}.palette-modal.show{display:block}.palette-modal h3{margin:0 0 10px 0;font-size:1em;color:var(--text-strong)}.palette-option{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.palette-option label{font-size:0.85em;color:var(--text-color)}.palette-option select{width:120px;padding:4px;border-radius:6px;border:1px solid rgba(255,255,255,0.15);background:var(--bg-medium);color:var(--text-color)}.palette-buttons{display:flex;justify-content:flex-end}.palette-buttons button{padding:6px 10px;border-radius:8px;border:none;background:var(--border-color);color:var(--bg-dark);cursor:pointer;font-weight:bold}.palette-buttons button:hover{background:var(--border-shadow-color)}.ability-list::-webkit-scrollbar{width:8px}.ability-list::-webkit-scrollbar-track{background:var(--bg-dark);border-radius:4px}.ability-list::-webkit-scrollbar-thumb{background-color:var(--border-color);border-radius:4px;border:2px solid var(--bg-dark)}.ability-list::-webkit-scrollbar-thumb:hover{background-color:var(--border-shadow-color)}.expansion-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:8px;margin-top:8px}.expansion-card{background-color:var(--bg-dark);padding:10px;border-radius:8px;text-align:center;border:1px solid rgba(255,255,255,0.05);opacity:0.5;transition:all var(--transition-speed)}.expansion-card.unlocked{opacity:1;border-color:var(--border-color);box-shadow:0 0 10px rgba(139,233,253,0.1);background-color:var(--bg-medium)}.expansion-card .name{font-size:0.9em;font-weight:bold;color:var(--text-color);margin-bottom:4px}.expansion-card.unlocked .name{color:var(--accent-gold)}.expansion-card .status{font-size:0.8em;color:var(--accent-red)}.expansion-card.unlocked .status{color:var(--dialog-color)}@media (max-width:600px){.details-grid{grid-template-columns:1fr}main{padding:12px;margin:5px auto;font-size:var(--font-size-main,14px)}.tab-button{padding:6px 10px;font-size:0.85em}}.map-toggle-btn,.collapse-toggle-btn{display:flex;align-items:center;gap:8px;width:100%;padding:10px 14px;background-color:var(--bg-medium);border:1px solid var(--border-color);border-radius:8px;color:var(--text-color);cursor:pointer;font-size:0.95em;transition:all var(--transition-speed);margin-bottom:8px}.map-toggle-btn:hover,.collapse-toggle-btn:hover{background-color:var(--border-color);color:var(--bg-dark)}.toggle-icon{font-size:0.8em;transition:transform var(--transition-speed)}.toggle-text{flex:1;text-align:left}.map-container{animation:slideDown var(--transition-speed)}@keyframes slideDown{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.map-zone{margin-bottom:16px;padding:12px;background-color:var(--bg-dark);border-radius:10px;border:1px solid rgba(255,255,255,0.05)}.zone-label{font-weight:bold;color:var(--accent-gold);margin-bottom:10px;font-size:0.95em;display:flex;align-items:center;gap:6px}.floor-indicator{text-align:center;font-size:0.8em;color:var(--text-color);opacity:0.6;margin:8px 0;padding:4px;border-top:1px dashed rgba(255,255,255,0.1);border-bottom:1px dashed rgba(255,255,255,0.1)}.room-grid{display:grid;gap:6px}.entrance-grid{grid-template-columns:repeat(3,1fr)}.core-grid{grid-template-columns:repeat(2,1fr)}.floor-grid{grid-template-columns:repeat(6,1fr)}.expansion-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}.room-cell{background-color:var(--bg-medium);padding:8px 6px;border-radius:6px;text-align:center;border:1px solid rgba(255,255,255,0.05);transition:all var(--transition-speed);min-height:56px;display:flex;flex-direction:column;justify-content:center}.room-cell:hover{border-color:var(--border-color);box-shadow:0 0 8px rgba(139,233,253,0.2)}.room-cell.highlight{background-color:var(--bg-light);border-color:var(--border-color);box-shadow:0 0 10px rgba(139,233,253,0.15)}.room-cell.user-room{border-color:var(--accent-gold);background-color:rgba(241,250,140,0.1)}.room-cell.user-room .room-number{color:var(--accent-gold)}.room-cell.occupied{border-color:var(--dialog-color);background-color:rgba(80,250,123,0.08)}.room-cell.occupied .room-value{color:var(--dialog-color)}.room-number{font-size:0.8em;font-weight:bold;color:var(--text-strong);margin-bottom:4px}.room-value{font-size:0.75em;color:var(--accent-blue);margin-bottom:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.room-resident{font-size:0.7em;color:var(--text-color);opacity:0.8;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.expansion-cell{background-color:var(--bg-medium);padding:10px 8px;border-radius:8px;text-align:center;border:1px dashed rgba(255,255,255,0.1);opacity:0.5;transition:all var(--transition-speed)}.expansion-cell.unlocked{opacity:1;border-style:solid;border-color:var(--border-color);background-color:var(--bg-light)}.expansion-icon{font-size:1.4em;margin-bottom:4px}.expansion-name{font-size:0.85em;font-weight:bold;color:var(--text-color);margin-bottom:4px}.expansion-status{font-size:0.7em;color:var(--accent-red)}.expansion-cell.unlocked .expansion-status{color:var(--dialog-color)}@media (max-width:600px){.entrance-grid{grid-template-columns:repeat(3,1fr)}.core-grid{grid-template-columns:repeat(2,1fr)}.floor-grid{grid-template-columns:repeat(4,1fr)}.expansion-grid{grid-template-columns:repeat(3,1fr)}.room-cell{min-height:48px;padding:6px 4px}.room-number{font-size:0.75em}.room-resident{font-size:0.65em}}@media (max-width:400px){.floor-grid{grid-template-columns:repeat(3,1fr)}.expansion-grid{grid-template-columns:repeat(2,1fr)}}


/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div><script id="injected-data-container" type="text/plain" style="display:none">$1</script></body></html>