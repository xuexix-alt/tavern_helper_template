{"version":3,"file":"index.js","mappings":"oHAAA,MAAM,EAA+BA,ECQ/BC,EAAkB,EAAAD,EAAEE,OAAO,CAC/B,GAAI,EAAAF,EAAEG,SAGN,GAAI,EAAAH,EAAEI,OAAOC,SAASC,IAAI,GAAGC,IAAI,KAAKC,SAAS,wCAC/C,OAAQ,EAAAR,EAAEG,SAASK,SAAS,+BAC5B,KAAM,EAAAR,EACHS,KAAK,CAAC,KAAM,MAAO,QAAS,QAAS,IAAK,OAC1CD,SAAS,8CAGZ,GAAI,EAAAR,EAAEG,SAASK,SAAS,eACxB,GAAI,EAAAR,EAAEG,SAASK,SAAS,YACxB,GAAI,EAAAR,EAAEG,SAASK,SAAS,SACxB,GAAI,EAAAR,EAAEG,SAASK,SAAS,WACxB,KAAM,EAAAR,EAAEG,SAASK,SAAS,WAC1B,KAAM,EAAAR,EAAEG,SAASK,SAAS,WAG1B,KAAM,EAAAR,EAAEG,SAASK,SAAS,YAG1B,KAAM,EAAAR,EAAES,KAAK,CAAC,KAAM,OAAOC,QAAQ,MAAMF,SAAS,+BAI9CG,EAAc,EAAAX,EAAEE,OAAO,CAC3B,GAAI,EAAAF,EAAEG,SAASK,SAAS,aACxB,GAAI,EAAAR,EAAEG,SAASK,SAAS,uBACxB,GAAI,EAAAR,EAAEG,SAASK,SAAS,kBACxB,KAAM,EAAAR,EAAEI,OAAOC,SAASG,SAAS,qBAI7BI,EAAgB,EAAAZ,EAAEE,OAAO,CAC7B,MAAO,EAAAF,EAAEI,OAAOC,SAASE,IAAI,IAC7B,OAAQ,EAAAP,EAAEG,SAASK,SAAS,cAC5B,OAAQ,EAAAR,EAAEG,SAASK,SAAS,UAC5B,MAAO,EAAAR,EACJa,MACC,EAAAb,EAAEE,OAAO,CACPY,KAAM,EAAAd,EAAEG,SACRY,KAAM,EAAAf,EAAEG,YAGXK,SAAS,iBAIRQ,EAAkB,EAAAhB,EAAEE,OAAO,CAC/B,GAAI,EAAAF,EAAEG,SAASK,SAAS,gBACxB,GAAI,EAAAR,EAAEG,SAASK,SAAS,kBAMbS,EAAS,EAAAjB,EAAEE,OAAO,CAC7B,GAAIS,EACJ,IAAKC,EAGL,KAAMX,EACN,KAAMA,EACN,KAAMA,EACN,IAAKA,EACL,IAAKA,EACL,KAAMA,EACN,KAAMA,EACN,KAAMA,EACN,IAAKA,EACL,UAAWA,EACX,GAAIA,EACJ,GAAIA,EACJ,IAAKA,EACL,GAAIA,EAGJ,MAAOA,EAAgBiB,WAAWV,SAAS,kCAE3C,OAAQQ,ICrFVG,EAAE,KACA,EAAkBF","sources":["src://tavern_helper_template/external var \"z\"","src://tavern_helper_template/src/寒冬末日/schema.ts","src://tavern_helper_template/src/寒冬末日/脚本/变量结构/index.ts"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = z;","import { z } from 'zod';\nimport _ from 'lodash';\n\n// ---------------------\n// 1. 通用定义\n// ---------------------\n\n// 角色通用 Schema\nconst CharacterSchema = z.object({\n  姓名: z.string(),\n\n  // 健康系统\n  健康: z.coerce.number().min(0).max(100).describe('范围0-100。记录健康数值。获得食物/温暖增加；受伤/饥饿/寒冷减少。'),\n  健康更新原因: z.string().describe('记录健康值变化的原因和数值，格式：+/-X, 原因描述'),\n  健康状况: z\n    .enum(['健康', '亚健康', '生病/受伤', '重病/濒死', '无', '死亡'])\n    .describe('>=80:健康; 60-79:亚健康; 30-59:生病/受伤; <30:重病/濒死'),\n\n  // 外貌与状态 (纯文本描述)\n  衣着: z.string().describe('详细描述当前的衣着状态'),\n  舌唇: z.string().describe('口腔、嘴唇的状态'),\n  胸乳: z.string().describe('胸部的状态'),\n  私穴: z.string().describe('私处的详细状态'),\n  神态样貌: z.string().describe('面部表情和神态'),\n  动作姿势: z.string().describe('身体姿态和动作'),\n\n  // 心理\n  内心想法: z.string().describe('第一人称内心独白'),\n\n  // 系统控制\n  登场状态: z.enum(['登场', '离场']).default('离场').describe('值为\"登场\"时显示在UI。角色不出现时设为\"离场\"'),\n});\n\n// 2. 世界环境\nconst WorldSchema = z.object({\n  地址: z.string().describe('当前所在的物理位置'),\n  日期: z.string().describe('格式：末日纪元，XXXX年XX月XX日'),\n  时间: z.string().describe('格式：时间段 - HH:MM'),\n  末日天数: z.coerce.number().describe('自“永恒暴雪”降临以来的总天数'),\n});\n\n// 3. 庇护所\nconst ShelterSchema = z.object({\n  庇护所等级: z.coerce.number().max(10),\n  今日投掷点数: z.string().describe('记录每日升级判定结果'),\n  距离上次升级: z.string().describe('记录保底进度'),\n  庇护所能力: z\n    .array(\n      z.object({\n        name: z.string(),\n        desc: z.string(),\n      }),\n    )\n    .describe('已激活的庇护所能力列表'),\n});\n\n// 4. 其他住户\nconst NeighborsSchema = z.object({\n  言语: z.string().describe('其他幸存者的总体言语状态'),\n  行为: z.string().describe('其他幸存者的总体行为状态'),\n});\n\n// ---------------------\n// 5. 主 Schema\n// ---------------------\nexport const Schema = z.object({\n  世界: WorldSchema,\n  庇护所: ShelterSchema,\n\n  // 主要角色\n  浅见亚美: CharacterSchema,\n  相田哲也: CharacterSchema,\n  星野琉璃: CharacterSchema,\n  早川遥: CharacterSchema,\n  早川舞: CharacterSchema,\n  藤井雪乃: CharacterSchema,\n  中村惠子: CharacterSchema,\n  爱宫心爱: CharacterSchema,\n  爱宫铃: CharacterSchema,\n  '桃乐丝・泽巴哈': CharacterSchema,\n  何铃: CharacterSchema,\n  王静: CharacterSchema,\n  康绮月: CharacterSchema,\n  薛萍: CharacterSchema,\n\n  // 动态 NPC (Optional)\n  临时NPC: CharacterSchema.optional().describe('当有临时NPC登场时使用，离场时设为undefined或重置'),\n\n  楼层其他住户: NeighborsSchema,\n});\n\nexport type Schema = z.output<typeof Schema>;\n","import { registerMvuSchema } from 'https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/dist/util/mvu_zod.js';\nimport { Schema } from '../../schema';\n\n$(() => {\n  registerMvuSchema(Schema);\n});\n"],"names":["z","CharacterSchema","object","string","coerce","number","min","max","describe","enum","default","WorldSchema","ShelterSchema","array","name","desc","NeighborsSchema","Schema","optional","$"],"ignoreList":[],"sourceRoot":""}