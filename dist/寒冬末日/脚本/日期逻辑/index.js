var t={n:e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},d:(e,a)=>{for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=_;var a=t.n(e);function n(t){if(!t)return 0;const e=t.match(/(\d{2}):(\d{2})/);return e?60*parseInt(e[1])+parseInt(e[2]):0}$(async()=>{await waitGlobalInitialized('Mvu'),eventOn(Mvu.events.VARIABLE_UPDATE_ENDED,(t,e)=>{const r=a().get(e,'stat_data.世界.时间',''),o=a().get(t,'stat_data.世界.时间','');if(r===o)return;if(n(r)>n(o)){console.log('[DateLogic] Detected midnight crossing.');const n=a().get(e,'stat_data.世界.日期','');if(n===a().get(t,'stat_data.世界.日期','')){console.log('[DateLogic] AI did not update date, updating manually...');const e=function(t){if(!t)return new Date;const e=t.match(/(\d+)年(\d+)月(\d+)日/);if(e){const t=parseInt(e[1]),a=parseInt(e[2])-1,n=parseInt(e[3]);return new Date(t,a,n)}return new Date}(n);e.setDate(e.getDate()+1);const r=`末日纪元，${(s=e).getFullYear()}年${s.getMonth()+1}月${s.getDate()}日`;a().set(t,'stat_data.世界.日期',r);const o=a().get(t,'stat_data.世界.末日天数');'number'==typeof o&&a().set(t,'stat_data.世界.末日天数',o+1)}}var s})});
//# sourceMappingURL=index.js.map