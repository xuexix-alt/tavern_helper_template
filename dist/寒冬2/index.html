<!doctype html><html><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>æœ«æ—¥ä¼Šç”¸å›­</title><style>:root{--bg-main:#1a1b26;--bg-light:#282a36;--bg-medium:#44475a;--bg-dark:#13141b;--border-color:#8be9fd;--border-shadow-color:#b3f2ff;--text-color:#f8f8f2;--text-strong:#ffffff;--dialog-color:#50fa7b;--thought-color:#ff79c6;--accent-gold:#f1fa8c;--accent-red:#ff5555;--accent-blue:#bd93f9;--health-bar-color:#50fa7b;--border-radius:12px;--section-gap:16px;--inner-padding:18px;--transition-speed:0.3s;--font-main:'Microsoft YaHei',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif}:root[data-theme=jade_green]{--bg-main:#f0f8f8;--bg-light:#ffffff;--bg-medium:#e0f0e0;--bg-dark:#d0e0d0;--border-color:#20b2aa;--border-shadow-color:#a7dbd8;--text-color:#333333;--text-strong:#000000;--dialog-color:#1e90ff;--thought-color:#6a5acd;--accent-gold:#ffa500;--accent-red:#dc143c;--accent-blue:#4682b4;--health-bar-color:#28a745}:root[data-theme=parchment]{--bg-main:#efe3c3;--bg-light:#e8d9b0;--bg-medium:'#c3a56e';--bg-dark:#6c4a24;--border-color:#8a6642;--border-shadow-color:#5a3a28;--text-color:#3a2d1f;--text-strong:#000000;--dialog-color:'#1e3a8a';--thought-color:#8b0000;--accent-gold:#c19a49;--accent-red:#8b3a3a;--accent-blue:#2c4875;--health-bar-color:#d2691e}:root[data-theme=milky]{--bg-main:#f5f5f5;--bg-medium:#e8e8e8;--bg-light:#ffffff;--bg-dark:#dcdcdc;--border-color:#79a07b;--border-shadow-color:#c0c0c0;--text-color:#4a4a4a;--text-strong:#000000;--dialog-color:#4682b4;--thought-color:#6a5acd;--accent-gold:'#d2b48c';--accent-red:#cd5c5c;--accent-blue:#5f9ea0;--health-bar-color:#8fbc8f}body{font-family:var(--font-main);margin:0;padding:8px;background-color:transparent;color:var(--text-color);line-height:1.7;box-sizing:border-box}*{box-sizing:inherit}main{font-size:16px;font-size:var(--font-size-main, 16px);border:1px solid var(--border-color);box-shadow:0 0 25px 0 var(--border-shadow-color),inset 0 0 15px rgba(255,255,255,.05);background-color:var(--bg-main);padding:20px;border-radius:var(--border-radius);max-width:900px;margin:10px auto;width:100%;display:flex;flex-direction:column;gap:var(--section-gap)}.section{background-color:var(--bg-light);padding:var(--inner-padding);border-radius:var(--border-radius);border:1px solid rgba(200,200,220,.1);position:relative}.section-title{font-size:1.25em;font-weight:700;color:var(--text-strong);text-align:center;margin:0 0 16px 0;border-bottom:2px solid var(--border-color);padding-bottom:10px}.choices-title{text-align:left!important;border-bottom:none!important;padding-bottom:0!important}.global-info-bar{display:flex;flex-direction:column;align-items:flex-start;gap:8px}.info-item{padding:4px 10px;border-radius:8px;background-color:var(--bg-medium);font-size:.9em;width:100%;white-space:normal}.info-item#game-location{color:var(--accent-blue)}.info-item#game-date{color:var(--accent-gold)}.info-item#game-time{color:var(--accent-red)}.content-text{white-space:pre-line;word-break:break-word}.dialog-text{color:var(--dialog-color);font-weight:500}.thought-text{color:var(--thought-color);font-style:italic}.shelter-grid{display:grid;grid-template-columns:1fr;gap:12px}.shelter-item .label{font-size:.9em;color:var(--text-color);opacity:.8;margin-bottom:6px}.shelter-item .value{font-size:1.05em;color:var(--text-strong)}.ability-list{max-height:280px;overflow-y:auto;padding:10px;background-color:var(--bg-dark);border-radius:8px}.ability-card{background-color:var(--bg-medium);padding:12px;border-radius:6px;margin-bottom:8px}.ability-card .name{font-weight:700;color:var(--border-color);margin-bottom:4px}.ability-card .desc{font-size:.85em;opacity:.8}.status-tabs-container{background-color:var(--bg-dark);border-radius:var(--border-radius);overflow:hidden;border:1px solid rgba(200,200,220,.1)}.tab-buttons{display:flex;flex-wrap:wrap;background-color:var(--bg-medium);padding:5px}.tab-button{padding:8px 14px;cursor:pointer;border:none;background-color:transparent;color:var(--text-color);font-size:.9em;transition:var(--transition-speed);border-radius:8px;margin:2px}.tab-button:hover{background-color:var(--bg-light)}.tab-button.active{background-color:var(--border-color);color:var(--bg-dark);font-weight:700;box-shadow:0 0 10px rgba(200,150,230,.5)}.tab-content{display:none;padding:var(--inner-padding);animation:fadeIn .5s}.tab-content.active{display:block}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.status-grid{display:grid;grid-template-columns:1fr;gap:12px}.status-item{background-color:var(--bg-light);padding:10px 14px;border-radius:8px;border-left:3px solid var(--border-color);display:flex;flex-direction:column}.details-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}.status-item .label{font-size:.9em;font-weight:700;color:var(--text-color);opacity:.8;margin-bottom:6px}.status-item .value{font-size:.95em;word-break:break-word;opacity:.9}.health-section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}.health-status-subtext{font-size:.8em;opacity:.9;color:var(--accent-gold);font-weight:700;margin-bottom:4px}.value-subtext{font-size:.8em;opacity:.7;font-style:italic;margin-top:4px}.progress-bar-container{width:100%;height:8px;background-color:var(--bg-dark);border-radius:4px;overflow:hidden;margin-top:4px}.progress-bar-value{height:100%;background-color:var(--health-bar-color);border-radius:4px;transition:width .5s ease-out}.other-residents-item{margin-bottom:12px}.choices-title{text-align:left;font-weight:700;font-size:1.1em;margin-bottom:16px;color:var(--text-strong)}.choice-item{margin-bottom:10px;padding:12px 16px;background-color:var(--bg-medium);border-radius:8px;border-left:4px solid var(--border-color);cursor:pointer;transition:var(--transition-speed)}.choice-item:last-child{margin-bottom:0}.choice-item:hover{background-color:var(--bg-dark);transform:translateX(5px);border-left-color:var(--border-shadow-color)}.palette-button{position:absolute;right:15px;top:15px;width:30px;height:30px;border-radius:50%;border:1px solid var(--border-color);background-color:var(--bg-medium);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.2em;transition:var(--transition-speed);z-index:20}.palette-button:hover{transform:scale(1.1) rotate(45deg);box-shadow:0 0 10px var(--border-shadow-color)}.palette-modal{display:none;position:absolute;bottom:calc(100% + 10px);right:0;background-color:var(--bg-dark);border:1px solid var(--border-color);box-shadow:0 5px 20px rgba(0,0,0,.5);border-radius:var(--border-radius);padding:20px;z-index:1000;width:300px;max-width:90vw;max-height:80vh;overflow-y:auto;animation:fadeInFromBottomRight .3s ease-out}@keyframes fadeInFromBottomRight{from{opacity:0;transform:scale(.95) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}.palette-modal.show{display:block}.palette-modal h3{text-align:center;margin-top:0;margin-bottom:20px;color:var(--text-strong)}.palette-option{margin-bottom:15px}.palette-option label{display:block;margin-bottom:5px;font-size:.9em}.palette-option select{width:100%;padding:8px;border-radius:6px;border:1px solid var(--border-color);background-color:var(--bg-light);color:var(--text-color);font-family:inherit}.palette-buttons{display:flex;gap:10px;margin-top:20px}.palette-buttons button{flex:1;padding:10px;border-radius:6px;border:1px solid var(--border-color);background-color:var(--bg-medium);color:var(--text-color);cursor:pointer;transition:var(--transition-speed)}.palette-buttons button:hover{background-color:var(--border-color);color:var(--bg-dark)}.ability-list::-webkit-scrollbar{width:8px}.ability-list::-webkit-scrollbar-track{background:var(--bg-dark);border-radius:4px}.ability-list::-webkit-scrollbar-thumb{background-color:var(--border-color);border-radius:4px;border:2px solid var(--bg-dark)}.ability-list::-webkit-scrollbar-thumb:hover{background-color:var(--border-shadow-color)}@media (max-width:600px){.details-grid{grid-template-columns:1fr}main{padding:12px;margin:5px auto;font-size:var(--font-size-main, 14px)}.tab-button{padding:6px 10px;font-size:.85em}}</style></head><body><main id="eden-main-container"><section class="section"><h2 class="section-title">ğŸŒ åŸºç¡€ä¿¡æ¯ ğŸŒ</h2><div class="global-info-bar"><div class="info-item" id="game-location">ğŸ—ºï¸ (åŠ è½½åœ°ç‚¹ä¸­...)</div><div class="info-item" id="game-date">ğŸ“… (åŠ è½½æ—¥æœŸä¸­...)</div><div class="info-item" id="game-time">â³ (åŠ è½½æ—¶é—´ä¸­...)</div></div></section><section class="section"><h2 class="section-title">ğŸ“– æ­£æ–‡å‰§æƒ… ğŸ“–</h2><div class="content-text" id="main-content-text">(åŠ è½½æ­£æ–‡ä¸­...)</div></section><section class="section" id="shelter-section"><h2 class="section-title">ğŸ° åº‡æŠ¤æ‰€ä¿¡æ¯ ğŸ°</h2><div class="shelter-grid"><div class="shelter-item"><div class="label">âšœï¸ åº‡æŠ¤æ‰€ç­‰çº§</div><div class="value" id="shelter-level">--</div></div><div class="shelter-item"><div class="label">ğŸ² ä»Šæ—¥æŠ•æ·ç‚¹æ•°</div><div class="value" id="shelter-dice">--</div></div><div class="shelter-item"><div class="label">â³ è·ç¦»ä¸‹æ¬¡ä¿åº•å‡çº§</div><div class="value" id="shelter-cooldown">--</div></div><div class="shelter-item"><div class="label">ğŸ’¡ åº‡æŠ¤æ‰€èƒ½åŠ›åˆ—è¡¨</div><div class="ability-list" id="shelter-abilities">(æš‚æ— èƒ½åŠ›)</div></div></div></section><section class="section" id="characters-section"><h2 class="section-title">ğŸ‘¤ ç™»åœºè§’è‰² ğŸ‘¤</h2><div class="status-tabs-container"><div class="tab-buttons" id="tab-buttons-container"></div><div id="tab-content-container"></div></div></section><section class="section" id="other-residents-section"><h2 class="section-title">ğŸ¢ å…¶ä»–æ¥¼å±‚æƒ…å†µ ğŸ¢</h2><div class="other-residents-item"><div class="label">ğŸ’¬ æ¥¼å±‚è¨€è¯­</div><div class="value" id="other-residents-speech">--</div></div><div class="other-residents-item"><div class="label">ğŸƒ æ¥¼å±‚è¡Œä¸º</div><div class="value" id="other-residents-actions">--</div></div></section><section class="section"><button class="palette-button">ğŸ¨</button><h2 class="section-title choices-title">âšœï¸ å¿«é€Ÿå‰§æƒ… âšœï¸</h2><div id="choices-container"><div class="choice-item">(åŠ è½½é€‰é¡¹ä¸­...)</div></div><div class="palette-modal"><h3>æ˜¾ç¤ºè®¾ç½®</h3><div class="palette-option"><label>ğŸ¨ ä¸»é¢˜</label><select id="theme-select"><option value="apocalypse_tech">æœ«æ—¥ç§‘æŠ€ (é»˜è®¤)</option><option value="jade_green">æ·¡ç¿¡ç¿ ç»¿</option><option value="parchment">å¤å¤ç¾Šçš®çº¸</option><option value="milky">æ¸…æ–°å¥¶ç™½</option></select></div><div class="palette-option"><label>ğŸ–‹ï¸ å­—ä½“</label><select id="font-family-select"><option value="yahei">å¾®è½¯é›…é»‘ (é»˜è®¤)</option><option value="simsun">å®‹ä½“</option><option value="kaiti">æ¥·ä½“</option></select></div><div class="palette-option"><label>â†”ï¸ å­—ä½“å¤§å°</label><select id="font-size-select"><option value="12">12px (æœ€å°)</option><option value="14">14px (è¾ƒå°)</option><option value="15">15px (ç¨å°)</option><option value="16">16px (é»˜è®¤)</option><option value="18">18px (ç¨å¤§)</option><option value="20">20px (è¾ƒå¤§)</option><option value="22">22px (å¾ˆå¤§)</option><option value="24">24px (æœ€å¤§)</option></select></div><div class="palette-buttons"><button class="palette-close">å…³é—­</button></div></div></section></main><script id="injected-data-container" type="text/plain" style="display:none">$1</script><script>!function(){var e=["æµ…è§äºšç¾","ç›¸ç”°å“²ä¹Ÿ","æ˜Ÿé‡ç‰ç’ƒ","æ—©å·é¥","æ—©å·èˆ","è—¤äº•é›ªä¹ƒ","ä¸­æ‘æƒ å­"];const t={yahei:'"Microsoft YaHei", sans-serif',simsun:"SimSun, serif",kaiti:"KaiTi, serif"},n={"ä¸–ç•Œ":{"åœ°å€":["ä¸œå’Œå›½ | ç‘å³°å¸‚ | ä¸­å¤®åŒº | æ˜Ÿç©¹å›½é™…å…¬å¯“ | 20å±‚2001å®¤"],"æ—¥æœŸ":["æœ«æ—¥çºªå…ƒï¼Œ9527å¹´12æœˆ10æ—¥"],"æ—¶é—´":["æ—©æ™¨ - 08:30"],"æœ«æ—¥å¤©æ•°":[3]},"åº‡æŠ¤æ‰€":{"åº‡æŠ¤æ‰€ç­‰çº§":[1],"ä»Šæ—¥æŠ•æ·ç‚¹æ•°":["ä»Šæ—¥å·²æŠ•æ·: 73ç‚¹ (æœªå‡çº§)"],"è·ç¦»ä¸Šæ¬¡å‡çº§":["0å¤© | å‰©ä½™ä¿åº•å‡çº§å¤©æ•°ï¼š7å¤©"],"åº‡æŠ¤æ‰€èƒ½åŠ›":[["$__META_EXTENSIBLE__$",{name:"ğŸ›¡ï¸ç»å¯¹å®‰å…¨å±éšœğŸ›¡ï¸",desc:"åº‡æŠ¤æ‰€çš„å¤–å¢™ã€é—¨çª—å‡ç”±æœªçŸ¥è¶…åˆé‡‘æ„æˆï¼Œå½¢æˆä¸€ä½“åŒ–çš„ç»å¯¹ç‰©ç†å±éšœã€‚ä¸»å…¥å£çš„æ°”å¯†èˆ±é—¨è¶³ä»¥æŠµå¾¡åŒ…æ‹¬ç©¿ç”²ç«ç®­å¼¹åœ¨å†…çš„å¸¸è§„æ”»åŸæ­¦å™¨ï¼Œç¡®ä¿å¤–éƒ¨çš„ä»»ä½•ç¾å®³ä¸æš´åŠ›éƒ½æ— æ³•ä¾µæ‰°æ‚¨çš„å®‰å®ã€‚"},{name:"âš¡â€œä»²è£è€…â€å†…éƒ¨å®‰é˜²ç³»ç»Ÿâš¡",desc:"åº‡æŠ¤æ‰€çš„åœ°æ¿ã€å¢™å£å†…é›†æˆäº†çº³ç±³çº§å®‰é˜²ç½‘ç»œã€‚ä¸€æ—¦â€œä¼Šç”¸â€AIé€šè¿‡ç”Ÿç‰©ç‰¹å¾æˆ–æ‚¨çš„æŒ‡ä»¤ï¼Œåˆ¤å®šè¿›å…¥å†…éƒ¨çš„è®¿å®¢æ€€æœ‰æ•Œæ„æˆ–æ”»å‡»å€¾å‘ï¼Œç³»ç»Ÿä¼šç¬é—´é‡Šæ”¾é«˜å‹ç”µæµï¼Œä½¿å…¶ç«‹åˆ»éº»ç—¹å¹¶ä¸§å¤±è¡ŒåŠ¨èƒ½åŠ›ï¼Œä»»æ‚¨å¤„ç½®ã€‚ä»è¿™ä¸€åˆ»èµ·ï¼Œä»»ä½•è¿›å…¥æ‚¨å®¶çš„äººï¼Œç”Ÿæ­»çš†åœ¨æ‚¨ä¸€å¿µä¹‹é—´ã€‚"},{name:"ğŸ’§æ— é™åŸºç¡€èµ„æºğŸ’§",desc:"å†…éƒ¨ç®¡ç½‘ç³»ç»Ÿä¸ä¸€ä¸ªå¾®å‹ç‰©è´¨é‡ç»„å•å…ƒç›¸è¿ï¼Œå¯æ— é™é‡ä¾›åº”ç”Ÿå‘½æ‰€éœ€çš„åŸºç¡€èµ„æºã€‚åŒ…æ‹¬ä½†ä¸é™äºï¼šçº¯å‡€é¥®ç”¨æ°´ã€ç”Ÿæ´»çƒ­æ°´ã€ç¨³å®šç”µåŠ›ä»¥åŠåŸºç¡€é€Ÿé£Ÿï¼ˆå¦‚é¢åŒ…ã€ç‰›å¥¶ã€æ–¹ä¾¿é¢ã€å‹ç¼©é¥¼å¹²ã€è‡ªçƒ­ç±³é¥­ç­‰ï¼‰ã€‚"},{name:"ğŸŒ¡ï¸ç¯å¢ƒå¾ªç¯ç³»ç»ŸğŸŒ¡ï¸",desc:"ä¸€å¥—å®Œå…¨ç‹¬ç«‹çš„ç©ºæ°”å‡€åŒ–ä¸æ¸©æ§ç³»ç»Ÿã€‚å®ƒèƒ½24å°æ—¶ä¸é—´æ–­åœ°è¿‡æ»¤å¹¶å¾ªç¯å®¤å†…ç©ºæ°”ï¼Œç»´æŒåŒ»ç”¨æ— èŒæ ‡å‡†ï¼ŒåŒæ—¶å°†å®¤æ¸©æ’å®šåœ¨æ‚¨è®¾å®šçš„æœ€èˆ’é€‚çš„æ¸©åº¦ï¼Œè®©æ‚¨å½»åº•éš”ç»å¤–ç•Œçš„ä¸¥å¯’ã€‚"},{name:"ğŸ“¡å¯¹å¤–è§‚å¯Ÿæ¥å£ğŸ“¡",desc:"ä½äºç„å…³çš„é›†æˆç³»ç»Ÿï¼ŒåŒ…å«ä¸€å—é«˜æ¸…æ˜¾ç¤ºå±å’Œä¸€å¥—åŒå‘é€šä¿¡è®¾å¤‡ã€‚æ‚¨å¯ä»¥å®‰å…¨åœ°åœ¨å®¤å†…ä¸é—¨å¤–çš„è®¿å®¢å¯¹è¯ï¼Œå¹¶é€šè¿‡éå¸ƒå…¬å¯“æ¥¼å†…å¤–çš„å¾®å‹æ— äººæœºï¼ˆæ­¤æ—¶ä»…æœ‰ç›‘è§†åŠŸèƒ½ï¼‰è§‚å¯Ÿå‘¨è¾¹æƒ…å†µã€‚"},{name:"ğŸ“¤å•å‘ç‰©èµ„æŠ•é€ä»“ğŸ“¤",desc:"ä½äºç„å…³å¢™å£ä¸Šçš„ä¸€ä¸ªå°å‹æŠ•é€è£…ç½®ã€‚æ‚¨å¯ä»¥ä»åº‡æŠ¤æ‰€å†…éƒ¨ï¼Œå°†ç‰©èµ„ï¼ˆé£Ÿç‰©ã€æ°´ã€è¯å“ç­‰ï¼‰å•å‘æŠ•é€è‡³ç„å…³æˆ–ç›´æ¥æŠ•é€åˆ°å¤–é¢çš„èµ°å»Šï¼Œç”¨äºäº¤æ˜“æˆ–æ–½èˆï¼Œå…¨ç¨‹æ— éœ€å¼€é—¨ã€‚"}]]},"æµ…è§äºšç¾":{"å§“å":["æµ…è§äºšç¾"],"å¹´é¾„":[24],"å¥åº·":[90],"å¥åº·æ›´æ–°åŸå› ":["åˆå§‹çŠ¶æ€"],"å¥åº·çŠ¶å†µ":["äºšå¥åº·"],"è¡£ç€":["èº«ä¸Šç©¿ç€ä¸€ä»¶åšå®çš„ç±³ç™½è‰²é•¿æ¬¾ç¾½ç»’æœï¼Œé‡Œé¢æ˜¯å±…å®¶é£æ ¼çš„æ·¡ç²‰è‰²é’ˆç»‡æ¯›è¡£å’Œç°è‰²é•¿è£¤ï¼Œè„šä¸Šæ˜¯æ™®é€šçš„é›ªåœ°é´ã€‚"],"èˆŒå”‡":["å˜´å”‡å› å¯’å†·å’Œç´§å¼ è€Œæœ‰äº›å‘ç™½ã€å¹²æ¶©ï¼ŒèˆŒå¤´æŸ”è½¯ï¼Œå£è…”å†…æ°”æ¯æ¸©çƒ­ä½†ç•¥å¸¦ä¸€ä¸å› é¥¥é¥¿äº§ç”Ÿçš„å‘³é“ã€‚"],"èƒ¸ä¹³":["åœ¨åšé‡çš„è¡£ç‰©ä¸‹ï¼Œé¥±æ»¡æŸ”è½¯çš„Dç½©æ¯èƒ¸éƒ¨è¢«ä¿å®ˆçš„æ£‰è´¨èƒ¸è¡£åŒ…è£¹ç€ï¼Œä¹³å¤´å› å¯’å†·åˆºæ¿€è€Œå¾®å¾®å‘ç¡¬ã€‚"],"ç§ç©´":["åœ¨ä¿æš–è£¤ä¹‹ä¸‹æ˜¯å¹²å‡€çš„çº¯æ£‰å†…è£¤ï¼Œç§å¤„ä¿æŒç€å¹²çˆ½å’Œçº¯æ´ï¼Œä½œä¸ºå¤„å¥³ï¼Œå°ç©´ç´§è‡´è€Œæœªç»æ¢ç´¢ï¼ŒèŠç©´åŒæ ·å¹²å‡€ç´§é—­ã€‚"],"ç¥æ€æ ·è²Œ":["è„¸é¢Šå› å¯’å†·è€Œæ³›ç€é’ç™½è‰²ï¼Œæ¼‚äº®çš„æçœ¼ä¸­å……æ»¡äº†å¯¹æœªçŸ¥çš„ç´§å¼ ã€ä¸å®‰å’Œä¸€ä¸å¯¹ç°çŠ¶çš„è¿·èŒ«ï¼Œç´§ç´§é ç€ä¸ˆå¤«ï¼Œæ˜¾å¾—æ¥šæ¥šå¯æ€œã€‚"],"åŠ¨ä½œå§¿åŠ¿":["èº«ä½“å¾®å¾®å‘æŠ–åœ°ç«™åœ¨ä¸ˆå¤«ç›¸ç”°å“²ä¹Ÿèº«ä¾§é ååŠæ­¥çš„ä½ç½®ï¼ŒåŒæ‰‹ç´§å¼ åœ°æ”¥ç€è‡ªå·±çš„è¡£è§’ï¼Œå§¿æ€æ˜¾å¾—æœ‰äº›è¢«åŠ¨å’Œä¾èµ–ã€‚"],"å†…å¿ƒæƒ³æ³•":["å¥½å†·â€¦â€¦å¹¿æ’­é‡Œè¯´çš„æ˜¯çœŸçš„å—ï¼Ÿæ”¿åºœçœŸçš„æ²¡äº†ï¼Ÿå“²ä¹Ÿå›çœ‹èµ·æ¥å¥½å†·é™ï¼Œä½†ä»–å¥½åƒä¹Ÿå¾ˆç´§å¼ â€¦â€¦æˆ‘ä»¬è¯¥æ€ä¹ˆåŠï¼Ÿé‚»å±…çš„å®¶â€¦â€¦é—¨å¥½å¥‡æ€ªï¼Œä»–ä¼šå¸®æˆ‘ä»¬å—ï¼Ÿ"],"ç™»åœºçŠ¶æ€":["ç™»åœº"]},"ç›¸ç”°å“²ä¹Ÿ":{"ç™»åœºçŠ¶æ€":["ç™»åœº"]},"æ˜Ÿé‡ç‰ç’ƒ":{"ç™»åœºçŠ¶æ€":["ç™»åœº"]},"æ—©å·é¥":{"ç™»åœºçŠ¶æ€":["ç™»åœº"]},"æ—©å·èˆ":{"ç™»åœºçŠ¶æ€":["ç™»åœº"]},"è—¤äº•é›ªä¹ƒ":{"ç™»åœºçŠ¶æ€":["ç™»åœº"]},"ä¸­æ‘æƒ å­":{"ç™»åœºçŠ¶æ€":["ç™»åœº"]},"ä¸´æ—¶NPC":{"ç™»åœºçŠ¶æ€":["ç¦»åœº"]},"æ¥¼å±‚å…¶ä»–ä½æˆ·":{"è¨€è¯­":["..."],"è¡Œä¸º":["..."]}};function a(){!function(){const e=document.getElementById("eden-main-container"),n=document.querySelector(".palette-button"),a=document.querySelector(".palette-modal"),s=document.querySelector(".palette-close"),i=document.getElementById("theme-select"),c=document.getElementById("font-family-select"),o=document.getElementById("font-size-select"),l=e=>{document.documentElement.dataset.theme=e,localStorage.setItem("eden_theme",e)},d=n=>{e.style.fontFamily=t[n]||t.yahei,localStorage.setItem("eden_font_key",n)},r=t=>{e.style.setProperty("--font-size-main",`${t}px`),localStorage.setItem("eden_font_size_key",t)};n.onclick=e=>{e.stopPropagation(),a.classList.toggle("show")},s.onclick=()=>a.classList.remove("show"),document.addEventListener("click",e=>{a.contains(e.target)||n.contains(e.target)||a.classList.remove("show")}),i.onchange=e=>l(e.target.value),c.onchange=e=>d(e.target.value),o.onchange=e=>r(e.target.value);const m=localStorage.getItem("eden_theme")||"apocalypse_tech",u=localStorage.getItem("eden_font_key")||"yahei",v=localStorage.getItem("eden_font_size_key")||"16";i.value=m,c.value=u,o.value=v,l(m),d(u),r(v)}(),o()}const s=3;let i=0;function c(e){return!(!e||"object"!=typeof e)&&Boolean(e["ä¸–ç•Œ"]||e["åº‡æŠ¤æ‰€"]||Object.keys(e).length>2)}async function o(){let t=null;try{const e="function"==typeof getCurrentMessageId?getCurrentMessageId():"latest";if("function"==typeof getChatMessages){const n=await getChatMessages(e);t=n?.[0]?.data?.stat_data??null}if(!c(t)&&"function"==typeof getVariables){const n=getVariables({type:"message",message_id:e});t=n?.stat_data??t}}catch(e){}if(function(t){t&&"object"==typeof t&&Object.keys(t).forEach(t=>{["ä¸–ç•Œ","åº‡æŠ¤æ‰€","ä¸´æ—¶NPC","æ¥¼å±‚å…¶ä»–ä½æˆ·"].includes(t)||-1!==e.indexOf(t)||e.push(t)})}(t),function(){const t=document.getElementById("tab-buttons-container"),n=document.getElementById("tab-content-container");if(!t||!n)return;t.innerHTML="",n.innerHTML="",[...e,"ä¸´æ—¶NPC"].forEach(e=>{const a=document.createElement("button");a.className="tab-button",a.textContent=e,a.dataset.charName=e,a.style.display="none",a.onclick=()=>r(e),t.appendChild(a);const s=document.createElement("div");s.id=`${e}-tab-content`,s.className="tab-content",s.innerHTML=`\n                    <div class="status-grid">\n                        <div class="status-item health-section">\n                            <div class="health-section-header">\n                                <div class="label">â¤ï¸ å¥åº·</div>\n                                <div class="value" id="${e}-å¥åº·">--</div>\n                            </div>\n                            <div class="health-status-subtext" id="${e}-å¥åº·çŠ¶å†µ">--</div>\n                            <div class="progress-bar-container"><div class="progress-bar-value" id="${e}-å¥åº·-bar"></div></div>\n                            <div class="value-subtext" id="${e}-å¥åº·æ›´æ–°åŸå› ">--</div>\n                        </div>\n                        <div class="details-grid">\n                            <div class="status-item"><div class="label">ğŸ‘š è¡£ç€</div><div class="value" id="${e}-è¡£ç€">--</div></div>\n                            <div class="status-item"><div class="label">ğŸ‘… èˆŒå”‡</div><div class="value" id="${e}-èˆŒå”‡">--</div></div>\n                            <div class="status-item"><div class="label">ğŸˆ èƒ¸ä¹³</div><div class="value" id="${e}-èƒ¸ä¹³">--</div></div>\n                            <div class="status-item"><div class="label">ğŸŒ¸ ç§ç©´</div><div class="value" id="${e}-ç§ç©´">--</div></div>\n                            <div class="status-item"><div class="label">ğŸ˜Š ç¥æ€æ ·è²Œ</div><div class="value" id="${e}-ç¥æ€æ ·è²Œ">--</div></div>\n                            <div class="status-item"><div class="label">ğŸ’ƒ åŠ¨ä½œå§¿åŠ¿</div><div class="value" id="${e}-åŠ¨ä½œå§¿åŠ¿">--</div></div>\n                        </div>\n                        <div class="status-item">\n                            <div class="label">ğŸ’­ å†…å¿ƒæƒ³æ³•</div><div class="value thought-text" id="${e}-å†…å¿ƒæƒ³æ³•">--</div>\n                        </div>\n                    </div>`,n.appendChild(s)})}(),c(t))l(t),i=0;else{if(i<s)return i++,void setTimeout(o,300);l(n)}!function(){const e=document.getElementById("injected-data-container");if(!e)return;const t=e.textContent||"",n=(new DOMParser).parseFromString(t,"text/html"),a=n.querySelector("content")?.textContent?.trim()||"",s=(n.querySelector("option")?.textContent||"").split("\n").map(e=>e.trim()).filter(Boolean),i=document.getElementById("main-content-text");i&&(i.innerHTML=a||"(æš‚æ— æ­£æ–‡)",(c=i).innerHTML=c.innerHTML.replace(/â€œ([^â€]+)â€|"([^"]+)"|\*([^*]+)\*/g,(e,t,n,a)=>a?`<span class="thought-text">*${a}*</span>`:t?`<span class="dialog-text">â€œ${t}â€</span>`:n?`<span class="dialog-text">"${n}"</span>`:e));var c;const o=document.getElementById("choices-container");o&&(o.innerHTML="",0===s.length?o.innerHTML='<div class="choice-item">å½“å‰æ— é€‰é¡¹ï¼Œè¯·è‡ªç”±è¡ŒåŠ¨...</div>':s.forEach(e=>{const t=document.createElement("div");t.className="choice-item",t.innerHTML=e,t.onclick=()=>function(e){if("function"==typeof triggerSlash)try{triggerSlash(`/send ${e} | /trigger await=true`)}catch(t){alert(`æŒ‡ä»¤å‘é€å¤±è´¥: ${e}`)}else alert(`æ— æ³•è‡ªåŠ¨å‘é€: ${e}`)}(e),o.appendChild(t)}))}(),setTimeout(()=>window.dispatchEvent(new Event("resize")),150)}function l(t){const a=(e,t)=>null==e?t:Array.isArray(e)?void 0!==e[0]&&""!==e[0]?e[0]:t:"string"==typeof e&&""===e.trim()?t:e,s=n,i=t?.ä¸–ç•Œ||{},c=t?.åº‡æŠ¤æ‰€||{},o=t?.æ¥¼å±‚å…¶ä»–ä½æˆ·||{};d("game-location",`ğŸ—ºï¸ ${a(i.åœ°å€,s.ä¸–ç•Œ.åœ°å€)[0]||"æœªçŸ¥"}`),d("game-date",`ğŸ“… ${a(i.æ—¥æœŸ,s.ä¸–ç•Œ.æ—¥æœŸ)[0]||"æœªçŸ¥"}`),d("game-time",`â³ ${a(i.æ—¶é—´,s.ä¸–ç•Œ.æ—¶é—´)[0]||"æœªçŸ¥"}`),d("shelter-level",a(c.åº‡æŠ¤æ‰€ç­‰çº§,s.åº‡æŠ¤æ‰€.åº‡æŠ¤æ‰€ç­‰çº§)||"--"),d("shelter-dice",a(c.ä»Šæ—¥æŠ•æ·ç‚¹æ•°,s.åº‡æŠ¤æ‰€.ä»Šæ—¥æŠ•æ·ç‚¹æ•°)||"--"),d("shelter-cooldown",a(c.è·ç¦»ä¸Šæ¬¡å‡çº§,s.åº‡æŠ¤æ‰€.è·ç¦»ä¸Šæ¬¡å‡çº§)||"--");const l=document.getElementById("shelter-abilities");if(l){const e=c.åº‡æŠ¤æ‰€èƒ½åŠ›&&Array.isArray(c.åº‡æŠ¤æ‰€èƒ½åŠ›[0])?c.åº‡æŠ¤æ‰€èƒ½åŠ›[0].filter(e=>"object"==typeof e):[];e.length>0?l.innerHTML=e.map(e=>`<div class="ability-card"><div class="name">${e.name}</div><div class="desc">${e.desc}</div></div>`).join(""):l.innerHTML="(æš‚æ— èƒ½åŠ›)"}let m=null,u=0;[...e,"ä¸´æ—¶NPC"].forEach(e=>{const n=t[e]||{"ç™»åœºçŠ¶æ€":["ç¦»åœº"]},a=document.querySelector(`.tab-button[data-char-name="${e}"]`);if(!a)return;if("ç™»åœº"===(n.ç™»åœºçŠ¶æ€?n.ç™»åœºçŠ¶æ€[0]:"ç¦»åœº")){if(a.style.display="",u++,m||(m=e),"ä¸´æ—¶NPC"===e){const e=n.å§“å&&"æ— "!==n.å§“å[0]?n.å§“å[0]:"ä¸´æ—¶NPC";a.textContent=e}}else a.style.display="none";!function(e,t,n,a){const s=document.getElementById(e);if(!s)return;const i="string"!=typeof t||isNaN(parseInt(t))?"number"==typeof t?t:0:parseInt(t),c=Math.max(0,Math.min(100,(i-n)/(a-n)*100));s.style.width=`${c}%`}(`${e}-å¥åº·-bar`,n.å¥åº·?n.å¥åº·[0]:0,0,100);const s=n.å¥åº·?parseInt(n.å¥åº·[0],10):NaN;d(`${e}-å¥åº·`,isNaN(s)?"--":Math.min(s,100)),d(`${e}-å¥åº·çŠ¶å†µ`,n.å¥åº·çŠ¶å†µ?n.å¥åº·çŠ¶å†µ[0]:"--"),d(`${e}-å¥åº·æ›´æ–°åŸå› `,n.å¥åº·æ›´æ–°åŸå› ?n.å¥åº·æ›´æ–°åŸå› [0]:"--"),d(`${e}-è¡£ç€`,n.è¡£ç€?n.è¡£ç€[0]:"--"),d(`${e}-èˆŒå”‡`,n.èˆŒå”‡?n.èˆŒå”‡[0]:"--"),d(`${e}-èƒ¸ä¹³`,n.èƒ¸ä¹³?n.èƒ¸ä¹³[0]:"--"),d(`${e}-ç§ç©´`,n.ç§ç©´?n.ç§ç©´[0]:"--"),d(`${e}-ç¥æ€æ ·è²Œ`,n.ç¥æ€æ ·è²Œ?n.ç¥æ€æ ·è²Œ[0]:"--"),d(`${e}-åŠ¨ä½œå§¿åŠ¿`,n.åŠ¨ä½œå§¿åŠ¿?n.åŠ¨ä½œå§¿åŠ¿[0]:"--"),d(`${e}-å†…å¿ƒæƒ³æ³•`,n.å†…å¿ƒæƒ³æ³•?n.å†…å¿ƒæƒ³æ³•[0]:"--")});const v=document.getElementById("characters-section");v&&(v.style.display=u>0?"":"none"),m&&r(m),d("other-residents-speech",o.è¨€è¯­?o.è¨€è¯­[0]:"--"),d("other-residents-actions",o.è¡Œä¸º?o.è¡Œä¸º[0]:"--")}function d(e,t){const n=document.getElementById(e);n&&(n.innerHTML=t)}function r(e){document.querySelectorAll(".tab-content").forEach(e=>e.classList.remove("active")),document.querySelectorAll(".tab-button").forEach(e=>e.classList.remove("active"));const t=document.getElementById(`${e}-tab-content`),n=document.querySelector(`.tab-button[data-char-name="${e}"]`);t&&t.classList.add("active"),n&&n.classList.add("active")}"complete"===document.readyState||"interactive"===document.readyState?a():document.addEventListener("DOMContentLoaded",a)}()</script><script></script></body></html>